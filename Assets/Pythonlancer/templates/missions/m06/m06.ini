[Mission]
npc_ship_file = missions\m06\npcships.ini

[NPC] 
nickname = npc_nnvoice
affiliation = fc_uk_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = NNVoice

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[Trigger]
nickname = friend_armor
Cnd_True = no_params
Act_Invulnerable = alaric_cloak, true

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
BreakFormation = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 1500, -100, 50, -200

[ObjList]
nickname = ol_trent_wing_follow
SetPriority = ALWAYS_EXECUTE
FollowPlayer = fighter_basic_player_forward, {{ hatcher.name }}, {{ alaric.name }}




[Trigger]
nickname = Friend_Armor
Cnd_Timer = 1
; pass

[Trigger]
nickname = Friend_Setrep
Cnd_Timer = 0.1
Act_SetVibeLblToShip = ally, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, ally, REP_FRIEND_MAXIMUM
Act_SetVibeLblToShip = friend, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, friend, REP_FRIEND_MAXIMUM

;OBJECTIVES





{{ objects_definitions }}

{{ dread_mnh1.define() }}
{{ dread_init.define() }}
{{ dread_escape.define() }}
{{ dread_defend1.define() }}

{{ direct.define_solar_groups() }}

;-------------------------------------
;waypoints

{{ nn_objectives_list }}


;----END

;DREADS



[MsnLoot]
nickname = pl_cloaking_device
archetype = cloak_msn6
string_id = 096215
rel_pos_obj = dread_mnh1
rel_pos_offset = 0, -100, -0
velocity = 0, 0, 0
angular_velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false



[NPC] 
nickname = npc_checker
affiliation = fc_uk_grp
npc_ship_arch = cloak_checker_shiparch
individual_name = 096203
voice = nn_mod

[MsnShip]
nickname = launch_checker
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = -90, Player, 5
radius = 0

[MsnShip]
nickname = checker
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = -90, Player, 5
radius = 0

[MsnShip]
nickname = checker1
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = 0, Player, 5
radius = 0

[MsnShip]
nickname = checker2
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = -90, Player, 5
radius = 0

[MsnShip]
nickname = checker3
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = 90, Player, 5
radius = 0

[MsnShip]
nickname = checker4
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = 180, Player, 5
radius = 0





[Trigger]
nickname = CHECKER_SET_REP
Cnd_True = no_params
Act_SetVibeLblToShip = checker_the, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, checker_the, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = CLOAK_AUTODROP
Cnd_True = no_params
Act_SpawnShip = checker1
; Act_SpawnShip = checker2
; Act_SpawnShip = checker3
; Act_SpawnShip = checker4
Act_ActTrig = CHECKER_SET_REP
Act_ActTrig = CLOAK_CHECKER
Act_ActTrig = CLOAK_CHECK_TIME

[Trigger]
nickname = CLOAK_CHECKER
Cnd_ProjHit = Player, 1, checker1
Act_ActTrig = CLOAK_CHECKER_hit_effect
; Act_ActTrig = drop_player_cloak_with_fail

[Trigger]
nickname = CLOAK_CHECK_TIME
Cnd_Timer = 2
Act_ActTrig = REMOVE_CHECKER
Act_ActTrig = CHECKER_REACTIVATE

[Trigger]
nickname = CHECKER_REACTIVATE
Cnd_Timer = 1
Act_ActTrig = CLOAK_AUTODROP

[Trigger]
nickname = REMOVE_CHECKER
Cnd_True = no_params
Act_DeActTrig = CLOAK_CHECKER
Act_Destroy = checker1, SILENT
; Act_Destroy = checker2, SILENT
; Act_Destroy = checker3, SILENT
; Act_Destroy = checker4, SILENT

[Trigger]
nickname = CLOAK_AUTODROP_force_reset
Cnd_True = no_params
Act_ActTrig = REMOVE_CHECKER
Act_DeActTrig = CLOAK_AUTODROP
Act_DeActTrig = CLOAK_CHECK_TIME

[Trigger]
nickname = CLOAK_CHECKER_hit_effect
Cnd_True = no_params
Act_ActTrig = CLOAK_CHECKER_check_is_allowed
Act_ActTrig = CLOAK_CHECKER_check_is_allowed_done
;Act_ActTrig = CLOAK_CHECKER_hit_effect_remove_garbage

[Trigger]
nickname = CLOAK_CHECKER_check_is_allowed
{{ direct.inside_pos('sphere', 'var_checkpoint', 5000, obj='marker_uncloak_allowed') }}
Act_DeActTrig = CLOAK_CHECKER_check_is_allowed_done
Act_ActTrig = CLOAK_CHECKER_drop_device

[Trigger]
nickname = CLOAK_CHECKER_check_is_allowed_done
Cnd_Timer = 0.1
Act_ActTrig = CLOAK_CHECKER_drop_device
Act_ActTrig = CLOAK_CHECKER_drop_device_too_early_fail

[Trigger]
nickname = CLOAK_CHECKER_drop_device
Cnd_True = no_params
Act_LightFuse = Player, fuse_drop_cloaking_device
Act_ActTrig = CLOAK_AUTODROP_force_reset

[Trigger]
nickname = CLOAK_CHECKER_drop_device_too_early_fail
Cnd_Timer = 4
Act_ChangeState = FAIL, 096101

[Trigger]
nickname = ALARM_start
Cnd_true = no_params
Act_PlaySoundEffect = mod_cloak_patrol
Act_ActTrig = ALARM_sound

[Trigger]
nickname = ALARM_sound
Cnd_Timer = 1
Act_PlaySoundEffect = rtc_cloak_alert
repeatable = true

[Trigger]
nickname = ALARM_stop
Cnd_true = no_params
Act_DeActTrig = ALARM_sound



[Trigger]
nickname = CLOAK_CHECKER_hit_effect_remove_garbage
Cnd_Timer = 2
Act_ActTrig = REMOVE_CHECKER



[Trigger]
nickname = CLOAK_AUTODROP_setmode_allowed
Cnd_True = no_params
Act_SpawnSolar = marker_uncloak_allowed


[MsnSolar]
nickname = marker_uncloak_allowed
system = sphere
position = -100000, 500, 400
archetype = msn5_pod_counter
radius = 0
string_id = 1


[Trigger]
nickname = player_found_by_checker
Cnd_True = no_params
Act_ChangeState = FAIL, 096101

;---


[Trigger]
nickname = init_ms6
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms6_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever

[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = {{ vendor_planet.name }}

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;Vendor: Greetings, Freelancer
{{ script.line(0) }}


[Trigger]
nickname = init_objective
Cnd_True = no_params
{{ nn_00_meet_vendor.set_as_path() }}

[Trigger]
nickname = ms6_create_vendor
Cnd_LocEnter = Bar, {{ vendor_planet.base }}
Act_AddRTC = missions\m06\vendor_msn.ini
Act_ActTrig = ms6_do_accept
repeatable = true

;;accepted

[Trigger]
nickname = ms6_do_accept
Cnd_MsnResponse = accept
Act_DeActTrig = ms6_create_vendor
Act_RemoveRTC = missions\m06\vendor_msn.ini
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_RandomPop = false

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

{{ nn_00_launch_to_space.set() }}
Act_SetTitle = 096301
Act_ActTrig = player_first_in_space

Act_ActTrig = MSN_REP_BEFORE

[Trigger]
nickname = player_first_in_space
Cnd_InSpace = true
{{ direct.spawn_ship('li_mnh', 'alaric_mnh', alaric) }}
{{ direct.spawn_ship('li_mnh', 'hatcher_mnh', hatcher) }}

{{ dread_mnh1.spawn() }}
{{ nag.nag_voice }}
Act_ActTrig = player_first_launch_complete

[Trigger]
nickname = player_first_launch_complete
Cnd_LaunchComplete = Player
Act_ActTrig = Friend_Setrep
Act_GiveObjList = Player, ol_trent_wing_follow
Act_ActTrig = first_space_dialog

[Trigger]
nickname = first_space_dialog
Cnd_Timer = 1
;Hatcher:
{{ script.line(10) }}

{{ nn_01_goto_dread.set() }}
Act_ActTrig = FLY_TO_DREAD_dialog

[Trigger]
nickname = FLY_TO_DREAD_dialog
Cnd_Timer = 5
;Player:
{{ script.line(20) }}

;Hatcher:
{{ script.line(30) }}

;Player:
{{ script.line(40) }}

;Hatcher:
{{ script.line(50) }}

Act_ActTrig = FLY_TO_DREAD_dialog_complete

[Trigger]
nickname = FLY_TO_DREAD_dialog_complete
{{ script.ends(50) }}
Act_ActTrig = near_mnh_dread

[Trigger]
nickname = near_mnh_dread
{{ direct.inside_pos('li_mnh', 'dread_mnh1', 2000) }}
{{ nag.nag_off() }}
Act_SpawnLoot = pl_cloaking_device
{{ nn_02_pick_up_cloaking_device.set() }}
Act_Invulnerable = pl_cloaking_device, true
Act_MarkObj = pl_cloaking_device, 1
Act_ActTrig = GET_CLOAK_acquired

[Trigger]
nickname = GET_CLOAK_acquired
Cnd_LootAcquired = pl_cloaking_device, Player
Act_ActTrig = on_dread_mnh
{{ alaric.hide_all() }}
{{ hatcher.hide_all() }}
Act_ActTrig = GET_CLOAK_force_land

[Trigger]
nickname = GET_CLOAK_force_land
Cnd_Timer = 1
Act_ForceLand = sphere_01_base


;---------------

[Trigger]
nickname = on_dread_mnh
Cnd_BaseEnter = sphere_01_base
Act_AddRTC = missions\m06\dread_briefing.ini
Act_ActTrig = dread_mnh_mount_scene
Act_ActTrig = dread_mnh_init_mission

[Trigger]
nickname = dread_mnh_mount_scene
Cnd_LocEnter = Deck2, sphere_01_base
Act_AddRTC = missions\m06\dread_mount.ini
Act_ActTrig = dread_mnh_init_mission

[Trigger]
nickname = dread_mnh_init_mission
Cnd_LocEnter = Deck, sphere_01_base
{{ direct.dialog('mount') }}
Act_ActTrig = launch_spawn_dread_init
{{ nn_03_mount_cloaking_device_and_launch.set() }}
Act_SetRep = Player, li_grp, 0.65
Act_SetRep = Player, rh_grp, -0.2
Act_SetTitle = 096301
Act_SetOffer = 096302

[Trigger]
nickname = launch_spawn_dread_init
Cnd_PlayerLaunch = no_params
{{ dread_mnh1.hide() }}
{{ dread_init.spawn() }}
Act_ActTrig = prevent_player_no_cloak_launch

[Trigger]
nickname = prevent_player_no_cloak_launch
Cnd_LaunchComplete = Player
{{ dread_mnh1.hide() }}
Act_ActTrig = CLOAK_LAUNCH_CHECK_INIT

[Trigger]
nickname = CLOAK_LAUNCH_CHECK_INIT
Cnd_Timer = 1
Act_SpawnShip = checker
Act_ActTrig = launch_check_cloak
Act_ActTrig = launch_Checking_complete
Act_ActTrig = CHECKER_SET_REP

[Trigger]
nickname = launch_check_cloak
Cnd_ProjHit = Player, 1, checker
Act_ChangeState = FAIL, 096102

[Trigger]
nickname = launch_Checking_complete
Cnd_Timer = 1
Act_DeactTrig = launch_check_cloak
Act_Destroy = checker, SILENT
Act_ActTrig = init_stealth_mission
Act_ActTrig = CLOAK_AUTODROP




[MsnFormation]
nickname = patrol_A
position = 2500, 0, 22000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = {{ patrol_freighter.member(1) }}
ship = {{ patrol_fighter.member(1) }}
ship = {{ patrol_fighter.member(2) }}

[MsnFormation]
nickname = patrol_B
position = 0, -600, 45000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = {{ patrol_freighter.member(2) }}
ship = {{ patrol_fighter.member(3) }}
ship = {{ patrol_fighter.member(4) }}

[MsnFormation]
nickname = patrol_C
position = 0, 600, 21000
orientation = 0, 0, 1, 0
formation = armored_basic
ship = {{ patrol_freighter.member(3) }}
ship = {{ patrol_fighter.member(5) }}
ship = {{ patrol_fighter.member(6) }}

[MsnFormation]
nickname = patrol_D
position = -6000, 200, 50000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = {{ patrol_freighter.member(4) }}
ship = {{ patrol_fighter.member(7) }}
ship = {{ patrol_fighter.member(8) }}

[MsnFormation]
nickname = patrol_E
position = 6000, -200, 50000
orientation = 0, 0, 1, 0
formation = armored_basic
ship = {{ patrol_freighter.member(5) }}
ship = {{ patrol_fighter.member(9) }}
ship = {{ patrol_fighter.member(10) }}


[ObjList]
nickname = ol_patrol_A
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, 0, 18500, 200, true
GotoVec = goto_no_cruise, -2000, 0, 22500, 200, true
GotoVec = goto_no_cruise, 2500, 0, 22000, 200, true

[ObjList]
nickname = ol_patrol_B
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, -600, 44000, 200, true
GotoVec = goto, 0, -600, 21000, 200, true
GotoVec = goto_no_cruise, 0, -600, 23000, 200, true
GotoVec = goto, 0, -600, 45000, 200, true

[ObjList]
nickname = ol_patrol_C
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, 600, 23000, 200, true
GotoVec = goto, 0, 600, 45000, 200, true
GotoVec = goto_no_cruise, 0, 600, 44000, 200, true
GotoVec = goto, 0, 600, 21000, 200, true

[ObjList]
nickname = ol_patrol_D
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, -3000, 200, 45000, 300, true
GotoVec = goto, 3000, 200, 45000, 300, true
GotoVec = goto, 6000, 200, 50000, 300, true
GotoVec = goto, 0, 200, 56000, 300, true
GotoVec = goto, -6000, 200, 50000, 300, true

[ObjList]
nickname = ol_patrol_E
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, 0, -200, 56000, 300, true
GotoVec = goto, -6000, -200, 50000, 300, true
GotoVec = goto, -3000, -200, 45000, 300, true
GotoVec = goto, 3000, -200, 45000, 300, true
GotoVec = goto, 6000, -200, 50000, 300, true

[Trigger]
nickname = init_patrol_A
Cnd_DistVec = inside, {{ patrol_freighter.member(1) }}, 2500, 0, 22000, 200
Act_GiveObjList = {{ patrol_freighter.member(1) }}, ol_patrol_A
Act_ActTrig = patrol_A_reset

[Trigger]
nickname = patrol_A_reset
Cnd_DistVec = outside, {{ patrol_freighter.member(1) }}, 2500, 0, 22000, 1000
Act_ActTrig = init_patrol_A

[Trigger]
nickname = init_patrol_B
Cnd_DistVec = inside, {{ patrol_freighter.member(2) }}, 0, -600, 45000, 200
Act_GiveObjList = {{ patrol_freighter.member(2) }}, ol_patrol_B
Act_ActTrig = patrol_B_reset

[Trigger]
nickname = patrol_B_reset
Cnd_DistVec = outside, {{ patrol_freighter.member(2) }}, 0, -600, 45000, 1000
Act_ActTrig = init_patrol_B

[Trigger]
nickname = init_patrol_C
Cnd_DistVec = inside, {{ patrol_freighter.member(3) }}, 0, 600, 21000, 200
Act_GiveObjList = {{ patrol_freighter.member(3) }}, ol_patrol_C
Act_ActTrig = patrol_C_reset

[Trigger]
nickname = patrol_C_reset
Cnd_DistVec = outside, {{ patrol_freighter.member(3) }}, 0, 600, 21000, 1000
Act_ActTrig = init_patrol_C

[Trigger]
nickname = init_patrol_D
Cnd_DistVec = inside, {{ patrol_freighter.member(4) }}, -6000, 200, 50000, 200
Act_GiveObjList = {{ patrol_freighter.member(4) }}, ol_patrol_D
Act_ActTrig = patrol_D_reset

[Trigger]
nickname = patrol_D_reset
Cnd_DistVec = outside, {{ patrol_freighter.member(4) }}, -6000, 200, 50000, 1000
Act_ActTrig = init_patrol_D

[Trigger]
nickname = init_patrol_E
Cnd_DistVec = inside, {{ patrol_freighter.member(5) }}, 6000, -200, 50000, 200
Act_GiveObjList = {{ patrol_freighter.member(5) }}, ol_patrol_E
Act_ActTrig = patrol_E_reset

[Trigger]
nickname = patrol_E_reset
Cnd_DistVec = outside, {{ patrol_freighter.member(5) }}, 6000, -200, 50000, 1000
Act_ActTrig = init_patrol_E


[Trigger]
nickname = init_stealth_mission
Cnd_True = no_params
Act_ActTrig = stealth_spawn_patrols


{{ nn_04_road_to_station.set() }}
Act_ActTrig = stealth_first_flight_dialog
Act_ActTrig = stealth_around_waypoint1
{{ nag.nag_voice }}
Act_ActTrig = STATION_DANGER_ZONE
Act_ActTrig = OUTPOSTS_CHECKING_ZONE
Act_ActTrig = init_PATROL_CHECKING

[Trigger]
nickname = stealth_spawn_patrols
Cnd_True = no_params
Act_SpawnFormation = patrol_A
Act_SpawnFormation = patrol_B
Act_SpawnFormation = patrol_C
Act_SpawnFormation = patrol_D
Act_SpawnFormation = patrol_E
Act_ActTrig = start_outside_patrols
{{ direct.spawn_capital_group('sphere', 'ENTER_CAP') }}

[Trigger]
nickname = start_outside_patrols
Cnd_Timer = 5
Act_ActTrig = init_patrol_A
Act_ActTrig = init_patrol_B
Act_ActTrig = init_patrol_C
Act_ActTrig = init_patrol_D
Act_ActTrig = init_patrol_E

[Trigger]
nickname = stealth_first_flight_dialog
Cnd_Timer = 2
{{ direct.dialog('stealth') }}

;Hatcher:
{{ script.line(55) }}
;Hatcher:
{{ script.line(60) }}


[Trigger]
nickname = stealth_around_waypoint1
Cnd_DistVec = inside, Player, -13000, 0, 54000, 1000

Act_NagOff = stealth_wp1
;Alaric:
{{ script.line(70) }}

Act_ActTrig = stealth_alaric_cloaking

[Trigger]
nickname = stealth_alaric_cloaking
{{ script.ends(70) }}
Act_ActTrig = STEALTH_init

{{ direct.save('patrols') }}


{{ nag.nag_voice }}
Act_RelocateShip = Player, -13000, 0, 54000, 0.5, 0, -0.5, 0

Act_ActTrig = stealth_spawn_patrols
Act_ActTrig = STEALTH_spawn_units
Act_ActTrig = STATION_DANGER_ZONE
Act_ActTrig = OUTPOSTS_CHECKING_ZONE
Act_ActTrig = init_PATROL_CHECKING

Act_ActTrig = CLOAK_AUTODROP
Act_ActTrig = STEALTH_init

[Trigger]
nickname = STEALTH_init
Cnd_Timer = 2
{{ direct.dialog('patrols') }}
Act_ActTrig = STEALTH_HELP_button_YES
Act_ActTrig = STEALTH_HELP_button_NO

{{ nn_05_around_station.set() }}

Act_ActTrig = STEALTH_around_station
Act_ActTrig = STEALTH_TELESCOPES_init
Act_ActTrig = STEALTH_HELP_init
Act_ActTrig = STEALTH_through_first_tunnel
Act_ActTrig = init_PATROL_MARKERS

[Trigger]
nickname = STEALTH_around_station
Cnd_DistVec = inside, Player, 0, 0, 50000, 7000
{{ nn_06_enter_the_sphere.set() }}
Act_ActTrig = STEALTH_inside_sphere

[Trigger]
nickname = STEALTH_inside_sphere
Cnd_DistVec = inside, Player, 0, 0, 30000, 2500
{{ nn_07_goto_first_tunnel_enter_point.set() }}
Act_ActTrig = OUTPOST_ACTIVATED_dialog



[Trigger]
nickname = STEALTH_HELP_button_YES
Cnd_PopUpDialog = Yes
Act_DeActTrig = STEALTH_around_station
Act_ActTrig = STEALTH_HELP_WP_init

[Trigger]
nickname = STEALTH_HELP_button_NO
Cnd_PopUpDialog = NO
;; pass


[Trigger]
nickname = STEALTH_TELESCOPES_init
Cnd_True = no_params
{{ direct.spawn_solar_group('TELESCOPE') }}
Act_ActTrig = STEALTH_TELESCOPES_hit_telescope01
Act_ActTrig = STEALTH_TELESCOPES_hit_telescope02
Act_ActTrig = STEALTH_TELESCOPES_hit_telescope03
Act_ActTrig = STEALTH_TELESCOPES_hit_telescope04

[Trigger]
nickname = STEALTH_TELESCOPES_hit_telescope01
Cnd_ProjHit = Player, 1, telescope01
Act_LightFuse = telescope01, fuse_telescope_damage
Act_ActTrig = STEALTH_TELESCOPES_hit_reaction
Act_ActTrig = STEALTH_TELESCOPES_disable_hits

[Trigger]
nickname = STEALTH_TELESCOPES_hit_telescope02
Cnd_ProjHit = Player, 1, telescope02
Act_LightFuse = telescope02, fuse_telescope_damage
Act_ActTrig = STEALTH_TELESCOPES_hit_reaction
Act_ActTrig = STEALTH_TELESCOPES_disable_hits

[Trigger]
nickname = STEALTH_TELESCOPES_hit_telescope03
Cnd_ProjHit = Player, 1, telescope03
Act_LightFuse = telescope03, fuse_telescope_damage
Act_ActTrig = STEALTH_TELESCOPES_hit_reaction
Act_ActTrig = STEALTH_TELESCOPES_disable_hits

[Trigger]
nickname = STEALTH_TELESCOPES_hit_telescope04
Cnd_ProjHit = Player, 1, telescope04
Act_LightFuse = telescope04, fuse_telescope_damage
Act_ActTrig = STEALTH_TELESCOPES_hit_reaction
Act_ActTrig = STEALTH_TELESCOPES_disable_hits

[Trigger]
nickname = STEALTH_TELESCOPES_disable_hits
Cnd_True = no_params
Act_DeActTrig = STEALTH_TELESCOPES_hit_telescope01
Act_DeActTrig = STEALTH_TELESCOPES_hit_telescope02
Act_DeActTrig = STEALTH_TELESCOPES_hit_telescope03
Act_DeActTrig = STEALTH_TELESCOPES_hit_telescope04

[Trigger]
nickname = STEALTH_TELESCOPES_deactivate
Cnd_True = no_params
Act_ActTrig = STEALTH_TELESCOPES_disable_hits
Act_Destroy = telescope01, SILENT
Act_Destroy = telescope02, SILENT
Act_Destroy = telescope03, SILENT
Act_Destroy = telescope04, SILENT

[Trigger]
nickname = STEALTH_TELESCOPES_hit_reaction
Cnd_True = no_params
;Officer: Something wrong with telescopes, check it out
{{ script.line(1100) }}

Act_ActTrig = STEALTH_MISSION_disable_tunnel_patrols

[Trigger]
nickname = STEALTH_HELP_WP_init
Cnd_True = no_params
{{ nn_T_goto_telescope01.set() }}
Act_ActTrig = STEALTH_HELP_WP_telescope_near

[Trigger]
nickname = STEALTH_HELP_WP_telescope_near
Cnd_DistShip = inside, Player, telescope01, 500
{{ nn_T_hit_telescope01.set() }}
Act_ActTrig = STEALTH_HELP_WP_telescope01_hit

[Trigger]
nickname = STEALTH_HELP_WP_telescope01_hit
Cnd_ProjHit = Player, 1, telescope01
{{ nn_T_hit_telescope01.nag_off() }}
Act_ActTrig = STEALTH_HELP_WP_goto_sphere

[Trigger]
nickname = STEALTH_HELP_WP_goto_sphere
Cnd_True = no_params
{{ nn_T_go_to_upper_wp01.set() }}
Act_ActTrig = STEALTH_HELP_WP_sphere_enter_around

[Trigger]
nickname = STEALTH_HELP_WP_sphere_enter_around
Cnd_DistVec = inside, Player, 0, 3000, 40000, 2000
{{ nn_T_go_to_upper_wp01.nag_off() }}
Act_ActTrig = STEALTH_HELP_WP_go_through_tunnel

[Trigger]
nickname = STEALTH_HELP_WP_go_through_tunnel
Cnd_True = no_params
{{ nn_T_go_to_tunnel_wp01.set() }}
Act_ActTrig = STEALTH_HELP_WP_final_wp_reached

[Trigger]
nickname = STEALTH_HELP_WP_final_wp_reached
Cnd_DistVec = inside, Player, 0, 0, 30000, 2000
{{ nn_T_go_to_tunnel_wp01.nag_off() }}
{{ nn_07_goto_first_tunnel_enter_point.set() }}




[Trigger]
nickname = OUTPOST_ACTIVATED_dialog
Cnd_True = no_params
;Officer: Outposts is activated
{{ script.line(80) }}



;LAST POINT

[Trigger]
nickname = init_PATROL_CHECKING
Cnd_True = no_params
Act_ActTrig = patrol_A_DANGER_ZONE
Act_ActTrig = patrol_B_DANGER_ZONE
Act_ActTrig = patrol_C_DANGER_ZONE
Act_ActTrig = patrol_D_DANGER_ZONE
Act_ActTrig = patrol_E_DANGER_ZONE

[Trigger]
nickname = patrol_A_DANGER_ZONE
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(1) }}, 4000
Act_ActTrig = ALARM_start
Act_ActTrig = patrol_A_DANGER_ZONE_founded
Act_ActTrig = patrol_A_DANGER_ZONE_reset

[Trigger]
nickname = patrol_A_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(1) }}, 1750
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_A_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(1) }}, 5000
Act_ActTrig = patrol_A_DANGER_ZONE
Act_ActTrig = ALARM_stop


[Trigger]
nickname = patrol_B_DANGER_ZONE
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(2) }}, 4000
Act_ActTrig = ALARM_start
Act_ActTrig = patrol_B_DANGER_ZONE_founded
Act_ActTrig = patrol_B_DANGER_ZONE_reset

[Trigger]
nickname = patrol_B_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(2) }}, 1750
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_B_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(2) }}, 5000
Act_ActTrig = patrol_B_DANGER_ZONE
Act_ActTrig = ALARM_stop


[Trigger]
nickname = patrol_C_DANGER_ZONE
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(3) }}, 4000
Act_ActTrig = ALARM_start
Act_ActTrig = patrol_C_DANGER_ZONE_founded
Act_ActTrig = patrol_C_DANGER_ZONE_reset

[Trigger]
nickname = patrol_C_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(3) }}, 1750
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_C_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(3) }}, 5000
Act_ActTrig = patrol_C_DANGER_ZONE
Act_ActTrig = ALARM_stop


[Trigger]
nickname = patrol_D_DANGER_ZONE
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(4) }}, 4000
Act_ActTrig = ALARM_start
Act_ActTrig = patrol_D_DANGER_ZONE_founded
Act_ActTrig = patrol_D_DANGER_ZONE_reset

[Trigger]
nickname = patrol_D_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(4) }}, 1750
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_D_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(4) }}, 5000
Act_ActTrig = patrol_D_DANGER_ZONE
Act_ActTrig = ALARM_stop


[Trigger]
nickname = patrol_E_DANGER_ZONE
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(5) }}, 4000
Act_ActTrig = ALARM_start
Act_ActTrig = patrol_E_DANGER_ZONE_founded
Act_ActTrig = patrol_E_DANGER_ZONE_reset

[Trigger]
nickname = patrol_E_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(5) }}, 1750
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_E_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(5) }}, 5000
Act_ActTrig = patrol_E_DANGER_ZONE
Act_ActTrig = ALARM_stop






[Trigger]
nickname = init_PATROL_MARKERS
Cnd_True = no_params
Act_ActTrig = patrol_A_MARK
Act_ActTrig = patrol_B_MARK
Act_ActTrig = patrol_C_MARK
Act_ActTrig = patrol_D_MARK
Act_ActTrig = patrol_E_MARK

[Trigger]
nickname = PATROL_MARKERS_turn_off
Cnd_True = no_params
Act_DeActTrig = patrol_A_MARK
Act_DeActTrig = patrol_B_MARK
Act_DeActTrig = patrol_C_MARK
Act_DeActTrig = patrol_D_MARK
Act_DeActTrig = patrol_E_MARK
Act_DeActTrig = patrol_A_UNMARK
Act_DeActTrig = patrol_B_UNMARK
Act_DeActTrig = patrol_C_UNMARK
Act_DeActTrig = patrol_D_UNMARK
Act_DeActTrig = patrol_E_UNMARK

[Trigger]
nickname = patrol_A_MARK
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(1) }}, 8000

Act_MarkObj = {{ patrol_freighter.member(1) }}, 1
Act_ActTrig = patrol_A_UNMARK

[Trigger]
nickname = patrol_A_UNMARK
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(1) }}, 8500
Act_MarkObj = {{ patrol_freighter.member(1) }}, 0
Act_ActTrig = patrol_A_MARK


[Trigger]
nickname = patrol_B_MARK
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(2) }}, 8000
Act_MarkObj = {{ patrol_freighter.member(2) }}, 1
Act_ActTrig = patrol_B_UNMARK

[Trigger]
nickname = patrol_B_UNMARK
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(2) }}, 8500
Act_MarkObj = {{ patrol_freighter.member(2) }}, 0
Act_ActTrig = patrol_B_MARK


[Trigger]
nickname = patrol_C_MARK
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(3) }}, 8000
Act_MarkObj = {{ patrol_freighter.member(3) }}, 1
Act_ActTrig = patrol_C_UNMARK

[Trigger]
nickname = patrol_C_UNMARK
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(3) }}, 8500
Act_MarkObj = {{ patrol_freighter.member(3) }}, 0
Act_ActTrig = patrol_C_MARK


[Trigger]
nickname = patrol_D_MARK
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(4) }}, 8000
Act_MarkObj = {{ patrol_freighter.member(4) }}, 1
Act_ActTrig = patrol_D_UNMARK

[Trigger]
nickname = patrol_D_UNMARK
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(4) }}, 8500
Act_MarkObj = {{ patrol_freighter.member(4) }}, 0
Act_ActTrig = patrol_D_MARK


[Trigger]
nickname = patrol_E_MARK
Cnd_DistShip = inside, Player, {{ patrol_freighter.member(5) }}, 8000
Act_MarkObj = {{ patrol_freighter.member(5) }}, 1
Act_ActTrig = patrol_E_UNMARK

[Trigger]
nickname = patrol_E_UNMARK
Cnd_DistShip = outside, Player, {{ patrol_freighter.member(5) }}, 8500
Act_MarkObj = {{ patrol_freighter.member(5) }}, 0
Act_ActTrig = patrol_E_MARK




[Trigger]
nickname = STEALTH_MISSION_OFF
Cnd_True = no_params
;--
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_recheck
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_recheck_finally
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_restart
;--
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck_finally
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_restart
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck_finally
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_restart
;-
Act_DeActTrig = init_patrol_A
Act_DeActTrig = patrol_A_reset
Act_DeActTrig = init_patrol_B
Act_DeActTrig = patrol_B_reset
Act_DeActTrig = init_patrol_C
Act_DeActTrig = patrol_C_reset
Act_DeActTrig = init_patrol_D
Act_DeActTrig = patrol_D_reset
Act_DeActTrig = init_patrol_E
Act_DeActTrig = patrol_E_reset
;-
{{ patrol_fighter.hide_all() }}
{{ patrol_freighter.hide_all() }}
;-
{{ direct.hide_capital_group('ENTER_CAP') }}
;-
Act_DeActTrig = patrol_A_DANGER_ZONE
Act_DeActTrig = patrol_A_DANGER_ZONE_founded
Act_DeActTrig = patrol_A_DANGER_ZONE_reset
Act_DeActTrig = patrol_B_DANGER_ZONE
Act_DeActTrig = patrol_B_DANGER_ZONE_founded
Act_DeActTrig = patrol_B_DANGER_ZONE_reset
Act_DeActTrig = patrol_C_DANGER_ZONE
Act_DeActTrig = patrol_C_DANGER_ZONE_founded
Act_DeActTrig = patrol_C_DANGER_ZONE_reset
Act_DeActTrig = patrol_D_DANGER_ZONE
Act_DeActTrig = patrol_D_DANGER_ZONE_founded
Act_DeActTrig = patrol_D_DANGER_ZONE_reset
Act_DeActTrig = patrol_E_DANGER_ZONE
Act_DeActTrig = patrol_E_DANGER_ZONE_founded
Act_DeActTrig = patrol_E_DANGER_ZONE_reset
;-
Act_ActTrig = PATROL_MARKERS_turn_off



[Trigger]
nickname = STEALTH_MISSION_disable_tunnel_patrols
Cnd_True = no_params
;-
Act_DeActTrig = init_patrol_B
Act_DeActTrig = patrol_B_reset
Act_DeActTrig = init_patrol_C
Act_DeActTrig = patrol_C_reset
;-
Act_Destroy = {{ patrol_freighter.member(2) }}, SILENT
Act_Destroy = {{ patrol_fighter.member(3) }}, SILENT
Act_Destroy = {{ patrol_fighter.member(4) }}, SILENT
;-
Act_Destroy = {{ patrol_freighter.member(3) }}, SILENT
Act_Destroy = {{ patrol_fighter.member(5) }}, SILENT
Act_Destroy = {{ patrol_fighter.member(6) }}, SILENT
;-
Act_DeActTrig = patrol_B_DANGER_ZONE
Act_DeActTrig = patrol_B_DANGER_ZONE_founded
Act_DeActTrig = patrol_B_DANGER_ZONE_reset
Act_DeActTrig = patrol_C_DANGER_ZONE
Act_DeActTrig = patrol_C_DANGER_ZONE_founded
Act_DeActTrig = patrol_C_DANGER_ZONE_reset



[Trigger]
nickname = STEALTH_disable_nags
Cnd_True = no_params
{{ nn_T_hit_telescope01.nag_off() }}
{{ nn_T_go_to_upper_wp01.nag_off() }}
{{ nn_T_go_to_tunnel_wp01.nag_off() }}

[Trigger]
nickname = STEALTH_through_first_tunnel
Cnd_DistVec = inside, Player, -13000, 0, 21000, 5000
Act_ActTrig = STEALTH_disable_nags
{{ nn_07_meet_alaric_after_first_tunnel.set() }}
Act_ActTrig = stealth_exit_first_tunnel
{{ direct.hide_solar_group('TELESCOPE') }}

[Trigger]
nickname = stealth_exit_first_tunnel
Cnd_DistVec = inside, Player, -14000, 0, 21500, 2500
Act_ActTrig = STEALTH_MISSION_OFF
;Act_PobjIdle = no_params
Act_ActTrig = THROUGH_LAB_init

{{ direct.save('first_tunnel') }}

Act_RelocateShip = Player, -13000, 0, 21500, 0.7, 0, 0.3, 0
Act_SpawnShip = nag_voice
Act_ActTrig = CLOAK_AUTODROP
Act_ActTrig = THROUGH_LAB_init

[Trigger]
nickname = STEALTH_END_dialog
Cnd_Timer = 1
;Alaric:
{{ script.line(90) }}

;Player:
{{ script.line(100) }}


[Trigger]
nickname = LAB_HALL_dialog
Cnd_Timer = 2
;Alaric:
{{ script.line(110) }}

;Alaric:
{{ script.line(120) }}


[Trigger]
nickname = FIRST_TUNNEL_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -9000, 0, 21500, 2000
Act_ChangeState = FAIL, 096103

[Trigger]
nickname = THROUGH_LAB_init
Cnd_True = no_params
{{ direct.spawn_solar_group('LAB') }}
Act_PlayMusic = no_params
Act_ActTrig = STEALTH_END_dialog
Act_ActTrig = FIRST_TUNNEL_BACK_ROAD_LOCK
{{ nn_08_goto_second_tunnel_wp01.set() }}
Act_ActTrig = THROUGH_LAB_around_wp01

[Trigger]
nickname = THROUGH_LAB_around_wp01
Cnd_DistVec = inside, Player, -21500, 0, 13000, 1500
{{ nn_08_goto_second_tunnel_wp02.set() }}
Act_ActTrig = THROUGH_LAB_around_wp02
Act_ActTrig = LAB_HALL_dialog

[Trigger]
nickname = THROUGH_LAB_around_wp02
Cnd_DistVec = inside, Player, -22000, 0, -4000, 10000
{{ nn_08_goto_second_tunnel_wp03.set() }}
Act_ActTrig = THROUGH_LAB_around_wp03

[Trigger]
nickname = THROUGH_LAB_around_wp03
Cnd_DistVec = inside, Player, -22000, 0, -4000, 7000
{{ nn_08_goto_second_tunnel_wp04.set() }}
Act_ActTrig = THROUGH_LAB_around_wp04

[Trigger]
nickname = THROUGH_LAB_around_wp04
Cnd_DistVec = inside, Player, -21000, 0, -4000, 3000
{{ nn_08_goto_second_tunnel_wp05.set() }}
Act_ActTrig = THROUGH_LAB_around_wp05

[Trigger]
nickname = THROUGH_LAB_around_wp05
Cnd_DistVec = inside, Player, -20630, 825, -4900, 500
Act_PobjIdle = no_params
;Player:
{{ script.line(130) }}

Act_ActTrig = THROUGH_LAB_door_closed

[Trigger]
nickname = THROUGH_LAB_door_closed
{{ script.ends(130) }}
;Alaric:
{{ script.line(140) }}
{{ nn_09_enter_the_second_tunnel_wp01.set() }}
Act_ActTrig = THROUGH_LAB_enter_around_wp01

[Trigger]
nickname = THROUGH_LAB_enter_around_wp01
Cnd_DistVec = inside, Player, -25580, 825, -4900, 600
{{ nn_09_enter_the_second_tunnel_wp02.set() }}
Act_ActTrig = THROUGH_LAB_enter_around_wp02

[Trigger]
nickname = THROUGH_LAB_enter_around_wp02
Cnd_DistVec = inside, Player,-25580, 825, -8000, 1400
Act_ActTrig = TUNNEL2_inside

[Trigger]
nickname = TUNNEL2_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -25500, 800, -4000, 1250
Act_ChangeState = FAIL, 096103

[Trigger]
nickname = TUNNEL2_inside
Cnd_True = no_params
Act_ActTrig = TUNNEL2_BACK_ROAD_LOCK
Act_DeActTrig = FIRST_TUNNEL_BACK_ROAD_LOCK
{{ direct.hide_solar_group('LAB') }}
{{ nn_10_goto_third_tunnel_wp01.set() }}
Act_ActTrig = TUNNEL2_inside_around_wp01

[Trigger]
nickname = TUNNEL2_inside_around_wp01
Cnd_DistVec = inside, Player, -25580, -775, -15500, 1500
{{ nn_10_goto_third_tunnel_wp02.set() }}
Act_ActTrig = TUNNEL2_inside_around_wp02

[Trigger]
nickname = TUNNEL2_inside_around_wp02
Cnd_DistVec = inside, Player, -25000, 825, -21000, 2000
{{ nn_10_goto_third_tunnel_wp03.set() }}
Act_ActTrig = TUNNEL2_inside_around_wp03

[Trigger]
nickname = TUNNEL2_inside_around_wp03
Cnd_DistVec = inside, Player, -20000, 0, -21000, 2000
{{ nn_10_goto_third_tunnel_wp04.set() }}
Act_ActTrig = TUNNEL2_inside_around_wp04

[Trigger]
nickname = TUNNEL2_inside_around_wp04
Cnd_DistVec = inside, Player, -16000, 0, -26000, 2000
Act_ActTrig = NOMAD_AREA_enter














[Trigger]
nickname = NOMAD_AREA_enter
Cnd_True = no_params
Act_PobjIdle = no_params
Act_ActTrig = NOMAD_AREA_cameras_start
Act_ActTrig = NOMAD_AREA_init
Act_DeActTrig = TUNNEL2_BACK_ROAD_LOCK

[Trigger]
nickname = NOMAD_AREA_camera1
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_danger
Act_RelocateShip = Player,  -16000, 0, -26200, 0.5, 0, -0.5, 0
Act_CallThorn = scripts\mod\m06_nomad_area_camera1.thn, Player
Act_ActTrig = NOMAD_AREA_trent_dialog01

[Trigger]
nickname = NOMAD_AREA_trent_dialog01
Cnd_Timer = 7
;Player:
{{ script.line(150) }}

Act_ActTrig = NOMAD_AREA_trent_dialog01_complete

[Trigger]
nickname = NOMAD_AREA_trent_dialog01_complete
{{ script.ends(150) }}
Act_ActTrig = NOMAD_AREA_camera2

[Trigger]
nickname = NOMAD_AREA_camera2
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m06_nomad_area_camera2.thn, Player
Act_ActTrig = NOMAD_AREA_alaric_dialog01

[Trigger]
nickname = NOMAD_AREA_alaric_dialog01
Cnd_Timer = 1
;Alaric:
{{ script.line(160) }}

Act_ActTrig = NOMAD_AREA_alaric_dialog01_complete

[Trigger]
nickname = NOMAD_AREA_alaric_dialog01_complete
{{ script.ends(160) }}
Act_ActTrig = NOMAD_AREA_camera3

[Trigger]
nickname = NOMAD_AREA_camera3
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m06_nomad_area_camera3.thn, Player
Act_ActTrig = NOMAD_AREA_alaric_dialog02

[Trigger]
nickname = NOMAD_AREA_alaric_dialog02
Cnd_Timer = 1
;Alaric:
{{ script.line(170) }}

Act_ActTrig = NOMAD_AREA_alaric_dialog02_complete

[Trigger]
nickname = NOMAD_AREA_alaric_dialog02_complete
{{ script.ends(170) }}
Act_ActTrig = NOMAD_AREA_camera4

[Trigger]
nickname = NOMAD_AREA_camera4
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m06_nomad_area_camera4.thn, Player
Act_ActTrig = NOMAD_AREA_alaric_dialog03

[Trigger]
nickname = NOMAD_AREA_alaric_dialog03
Cnd_Timer = 1
;Alaric:
{{ script.line(180) }}

Act_ActTrig = NOMAD_AREA_alaric_dialog03_complete

[Trigger]
nickname = NOMAD_AREA_alaric_dialog03_complete
{{ script.ends(180) }}
Act_RelocateShip = Player,  -16000, 0, -26000, 0.5, 0, -0.5, 0
Act_ActTrig = NOMAD_AREA_dialogs_complete

[Trigger]
nickname = NOMAD_AREA_dialogs_complete
Cnd_Timer = 2
Act_ActTrig = NOMAD_AREA_cameras_done


[ObjList]
nickname = ol_nomad_A_01
avoidance = false
GotoVec = goto_no_cruise, -10800, 300, -25450, 150, true
GotoVec = goto_no_cruise, -10550, 300, -25450, 150, true
GotoVec = goto_no_cruise, -10500, 300, -25650, 150, true
GotoVec = goto_no_cruise, -10650, 300, -25800, 150, true
GotoVec = goto_no_cruise, -10850, 300, -25950, 150, true
GotoVec = goto_no_cruise, -10900, 300, -25600, 150, true

[ObjList]
nickname = ol_nomad_A_02
avoidance = false
GotoVec = goto_no_cruise, -10800, 400, -25400, 150, true
GotoVec = goto_no_cruise, -11000, 400, -25600, 150, true
GotoVec = goto_no_cruise, -10750, 400, -25750, 150, true
GotoVec = goto_no_cruise, -10600, 400, -25600, 150, true

[ObjList]
nickname = ol_nomad_A_03
avoidance = false
GotoVec = goto_no_cruise, -10800, 150, -25800, 150, true
GotoVec = goto_no_cruise, -10500, 150, -25900, 150, true
GotoVec = goto_no_cruise, -10600, 150, -25400, 150, true
GotoVec = goto_no_cruise, -10850, 150, -25400, 150, true
GotoVec = goto_no_cruise, -11000, 150, -25600, 150, true

[Trigger]
nickname = ol_nomad_A_01_repeat
Cnd_DistVec = inside, {{ no_fighter.member(1) }}, -10650, 300, -25800, 200
Act_ActTrig = ol_nomad_A_01_finalize

[Trigger]
nickname = ol_nomad_A_01_finalize
Cnd_DistVec = inside, {{ no_fighter.member(1) }}, -10900, 300, -25600, 200
Act_GiveObjList = {{ no_fighter.member(1) }}, ol_nomad_A_01
Act_ActTrig = ol_nomad_A_01_repeat

[Trigger]
nickname = ol_nomad_A_02_repeat
Cnd_DistVec = inside, {{ no_fighter.member(2) }}, -11000, 400, -25600, 200
Act_ActTrig = ol_nomad_A_02_finalize

[Trigger]
nickname = ol_nomad_A_02_finalize
Cnd_DistVec = inside, {{ no_fighter.member(2) }}, -10600, 400, -25600, 200
Act_GiveObjList = {{ no_fighter.member(2) }}, ol_nomad_A_02
Act_ActTrig = ol_nomad_A_02_repeat

[Trigger]
nickname = ol_nomad_A_03_repeat
Cnd_DistVec = inside, {{ no_fighter.member(3) }}, -10600, 150, -25400, 200
Act_ActTrig = ol_nomad_A_03_finalize

[Trigger]
nickname = ol_nomad_A_03_finalize
Cnd_DistVec = inside, {{ no_fighter.member(3) }}, -11000, 150, -25600, 200
Act_GiveObjList = {{ no_fighter.member(3) }}, ol_nomad_A_03
Act_ActTrig = ol_nomad_A_03_repeat

[Trigger]
nickname = NOMAD_AREA_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -20000, 0, -26000, 2500
Act_ChangeState = FAIL, 096104

[Trigger]
nickname = NOMAD_AREA_init
Cnd_Timer = 0.1
Act_ActTrig = NOMAD_AREA_spawn_nomads
Act_ActTrig = NOMAD_AREA_camera1

[Trigger]
nickname = NOMAD_AREA_spawn_nomads
Cnd_True = no_params
Act_SpawnShip = {{ no_fighter.member(1) }}, ol_nomad_A_01, -10900, 300, -25600, 0, 0, -1, 0
Act_ActTrig = ol_nomad_A_01_repeat
Act_SpawnShip = {{ no_fighter.member(2) }}, ol_nomad_A_02, -10600, 400, -25600, 1, 0, 0, 0
Act_ActTrig = ol_nomad_A_02_repeat
Act_SpawnShip = {{ no_fighter.member(3) }}, ol_nomad_A_03, -11300, 150, -25600, 1, 0, 0, 0
Act_ActTrig = ol_nomad_A_03_repeat
Act_SpawnSolar = sphere_kernel




[Trigger]
nickname = NOMAD_AREA_HELP_button_YES
Cnd_PopUpDialog = Yes
Act_ActTrig = NOMAD_AREA_HELP_WP_init

[Trigger]
nickname = NOMAD_AREA_HELP_button_NO
Cnd_PopUpDialog = NO

[Trigger]
nickname = NOMAD_AREA_HELP_deactivate
Cnd_DistShip = outside, Player, help_nomad_area, 2500
Act_ActTrig = NOMAD_AREA_HELP_deactivate_force

[Trigger]
nickname = NOMAD_AREA_HELP_deactivate_force
Cnd_True = no_params
Act_Destroy = help_nomad_area
Act_DeActTrig = NOMAD_AREA_HELP_player_around
Act_DeActTrig = NOMAD_AREA_HELP_button_YES
Act_DeActTrig = NOMAD_AREA_HELP_button_NO
Act_DeactTrig = NOMAD_AREA_HELP_deactivate

[Trigger]
nickname = NOMAD_AREA_HELP_WP_init
Cnd_True = no_params
{{ nn_NZ_goto_bottom_side.set() }}
Act_ActTrig = NOMAD_AREA_HELP_WP_inside_bottom_layer

[Trigger]
nickname = NOMAD_AREA_HELP_WP_inside_bottom_layer
Cnd_DistVec = inside, Player, -12800, -1800, -27200, 1000
{{ nn_NZ_goto_bottom_box.set() }}
Act_ActTrig = NOMAD_AREA_HELP_WP_around_bottom_box

[Trigger]
nickname = NOMAD_AREA_HELP_WP_around_bottom_box
Cnd_DistVec = inside, Player, -10700, -2900, -25600, 500
{{ nn_NZ_destroy_kernel_deactivator.set() }}
Act_ActTrig = NOMAD_AREA_HELP_WP_destroy_deactivator

[Trigger]
nickname = NOMAD_AREA_HELP_WP_destroy_deactivator
Cnd_Destroyed = sphere_kernel_deactivator
{{ nn_NZ_leave_from_bottom_box.set() }}
Act_ActTrig = NOMAD_AREA_HELP_WP_leave_bottom_box

[Trigger]
nickname = NOMAD_AREA_HELP_WP_leave_bottom_box
Cnd_DistVec = inside, Player, -10700, -2900, -25600, 300
{{ nn_NZ_go_away_from_lazerburn.set() }}

[Trigger]
nickname = NOMAD_AREA_HELP_WP_disable
Cnd_True = no_params
Act_DeActTrig = NOMAD_AREA_HELP_WP_init
Act_DeActTrig = NOMAD_AREA_HELP_WP_inside_bottom_layer
Act_DeActTrig = NOMAD_AREA_HELP_WP_around_bottom_box
Act_DeActTrig = NOMAD_AREA_HELP_WP_destroy_deactivator
Act_DeActTrig = NOMAD_AREA_HELP_WP_leave_bottom_box




[Trigger]
nickname = NOMAD_AREA_cameras_done
Cnd_True = no_params
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = NOMAD_FIGHT_init
{{ direct.save('nomad_zone') }}
{{ nag.nag_voice }}
Act_Invulnerable = Player, true
Act_RelocateShip = Player,  -16000, 0, -26000, 0.5, 0, -0.5, 0
Act_ActTrig = NOMAD_AREA_spawn_nomads
Act_ActTrig = NOMAD_FIGHT_init
Act_ActTrig = NOMAD_AREA_autodrop_delay

[Trigger]
nickname = NOMAD_AREA_autodrop_delay
Cnd_Timer = 2
Act_ActTrig = CLOAK_AUTODROP

[Trigger]
nickname = NOMAD_BTM_POWER_init
Cnd_True = no_params
Act_SetRep = Player, fc_n_grp, -0.65
Act_SpawnSolar = sphere_kernel_deactivator
Act_ActTrig = NOMAD_BTM_POWER_destroy_gen

[Trigger]
nickname = NOMAD_BTM_POWER_destroy_gen
Cnd_Destroyed = sphere_kernel_deactivator
Act_PlaySoundEffect = cloak_no_battleship
Act_LightFuse = sphere_core_d08, fuse_sphere_reactor_loading
Act_ActTrig = NOMAD_BTM_POWER_activate_sound2
Act_ActTrig = NOMAD_BTM_POWER_countdown_death

[Trigger]
nickname = NOMAD_BTM_POWER_activate_sound2
Cnd_Timer = 10
; Act_PlaySoundEffect = cloak_no_fighter


[Trigger]
nickname = NOMAD_BTM_POWER_countdown_death
Cnd_Timer = 18
Act_SpawnSolar = sphere_kernel_lazerburner
Act_ActTrig = NOMAD_BTM_POWER_death_zone_bottom_box
Act_ActTrig = NOMAD_BTM_POWER_platform_destroy
Act_ActTrig = NOMAD_BTM_POWER_countdown_lazerdeath

[Trigger]
nickname = NOMAD_BTM_POWER_countdown_lazerdeath
Cnd_Timer = 2
Act_ActTrig = NOMAD_BTM_POWER_death_zone_lazerburner

[Trigger]
nickname = NOMAD_BTM_POWER_death_zone_lazerburner
Cnd_InZone = true, Player, EXCLUSION_ZONE
Act_Destroy = Player

[Trigger]
nickname = NOMAD_BTM_POWER_death_zone_bottom_box
Cnd_DistVec = inside, Player, -10700, -6000, -25650, 2900
Act_Destroy = Player

[Trigger]
nickname = NOMAD_BTM_POWER_platform_destroy
Cnd_Timer = 5
Act_ActTrig = NOMAD_BTM_POWER_mission_effect
Act_ActTrig = NOMAD_BTM_POWER_stop_laser

[Trigger]
nickname = NOMAD_BTM_POWER_stop_laser
Cnd_Timer = 3
Act_DeActTrig = NOMAD_BTM_POWER_death_zone_lazerburner
Act_DeActTrig = NOMAD_BTM_POWER_death_zone_bottom_box
Act_Destroy = sphere_kernel_lazerburner, SILENT
Act_ActTrig = NOMAD_BTM_POWER_disable

[Trigger]
nickname = NOMAD_BTM_POWER_mission_effect
Cnd_True = no_params
Act_LightFuse = sphere_no_platform01, dyson_generator_fuse
Act_ActTrig = NOMAD_AREA_disable_nomad_A_patrols
; Act_Destroy = nomad_A_01, EXPLODE
Act_Destroy = {{ no_fighter.member(2) }}, EXPLODE
Act_Destroy = {{ no_fighter.member(3) }}, EXPLODE
Act_AdjHealth = sphere_kernel, -0.3
Act_DeActTrig = NOMAD_FIGHT_is_near
Act_ActTrig = NOMAD_FIGHT_begin_battle

[Trigger]
nickname = NOMAD_BTM_POWER_disable
Cnd_True = no_params
Act_SpawnSolar = sphere_kernel_bottom_lockeddoor
Act_DeActTrig = NOMAD_BTM_POWER_destroy_gen

[Trigger]
nickname = NOMAD_FIGHT_init
Cnd_True = no_params
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = CLOAK_AUTODROP_setmode_allowed


Act_ActTrig = NOMAD_BTM_POWER_init


Act_SetRep = Player, fc_n_grp, -0.65
{{ nn_11_destroy_nomad_core.set() }}
Act_ActTrig = NOMAD_AREA_BACK_ROAD_LOCK
Act_ActTrig = NOMAD_FIGHT_is_near

Act_ActTrig = NOMAD_AREA_talk_Extra

[Trigger]
nickname = NOMAD_AREA_talk_Extra
Cnd_Timer = 1

{{ direct.dialog('nomad_zone') }}

Act_ActTrig = NOMAD_AREA_HELP_button_YES
Act_ActTrig = NOMAD_AREA_HELP_button_NO
Act_Invulnerable = Player, false


;Player:
{{ script.line(190) }}


[Trigger]
nickname = NOMAD_AREA_disable_nomad_A_patrols
Cnd_True = no_params
Act_DeActTrig = ol_nomad_A_01_repeat
Act_DeActTrig = ol_nomad_A_01_finalize
Act_DeActTrig = ol_nomad_A_02_repeat
Act_DeActTrig = ol_nomad_A_02_finalize
Act_DeActTrig = ol_nomad_A_03_repeat
Act_DeActTrig = ol_nomad_A_03_finalize

[Trigger]
nickname = NOMAD_FIGHT_is_near
Cnd_DistShip = inside, Player, sphere_kernel, 2500
Act_GiveObjList = nomad_A_01, force_stop
Act_GiveObjList = nomad_A_02, force_stop
Act_GiveObjList = nomad_A_03, force_stop
Act_ActTrig = NOMAD_AREA_disable_nomad_A_patrols
Act_ActTrig = NOMAD_BTM_POWER_disable
Act_ActTrig = NOMAD_AREA_HELP_disable
Act_ActTrig = NOMAD_FIGHT_begin_battle

[Trigger]
nickname = NOMAD_FIGHT_begin_battle
Cnd_True = no_params
Act_ActTrig = NOMAD_AREA_HELP_WP_disable
Act_ActTrig = NOMAD_AREA_HELP_deactivate_force
Act_PlayMusic = none, none, none, music_race_loop
{{ nn_11_destroy_nomad_core.set() }}
Act_ActTrig = NOMAD_FIGHT_spawn_B_nomads
Act_ActTrig = NOMAD_FIGHT_kernel_destroyed
Act_ActTrig = NOMAD_FIGHT_its_too_late

[Trigger]
nickname = NOMAD_FIGHT_spawn_B_nomads
Cnd_Timer = 30
Act_SpawnShip = {{ no_fighter.member(4) }}, no_ol, -10800, 300, -25650, 1, 0, 0, 0
Act_SpawnShip = {{ no_fighter.member(5) }}, no_ol, -10800, 300, -25550, 0, 0, 1, 0
Act_ActTrig = NOMAD_FIGHT_spawn_C_nomads

[Trigger]
nickname = NOMAD_FIGHT_spawn_C_nomads
Cnd_Timer = 40
Act_SpawnShip = {{ no_fighter.member(6) }}, no_ol, -10800, 300, -25700, 1, 0, 0, 0
Act_SpawnShip = {{ no_fighter.member(7) }}, no_ol, -10800, 300, -25500, 0, 0, 1, 0
Act_ActTrig = NOMAD_FIGHT_spawn_D_nomads

[Trigger]
nickname = NOMAD_FIGHT_spawn_D_nomads
Cnd_Timer = 50
Act_SpawnShip = {{ no_fighter.member(8) }}, no_ol, -10800, 300, -25700, 1, 0, 0, 0
Act_SpawnShip = {{ no_fighter.member(9) }}, no_ol, -10800, 300, -25500, 0, 0, 1, 0
Act_ActTrig = NOMAD_FIGHT_spawn_E_nomads

[Trigger]
nickname = NOMAD_FIGHT_spawn_E_nomads
Cnd_Timer = 70
Act_SpawnShip = {{ no_fighter.member(10) }}, no_ol, -10800, 300, -25700, 1, 0, 0, 0
Act_SpawnShip = {{ no_fighter.member(11) }}, no_ol, -10800, 300, -25500, 0, 0, 1, 0

[Trigger]
nickname = NOMAD_FIGHT_spawn_X_nomads
Cnd_True = no_params
Act_SpawnShip = {{ no_fighter.member(12) }}, no_ol, -10800, 300, -25700, 1, 0, 0, 0


[Trigger]
nickname = NOMAD_FIGHT_kernel_destroyed
Cnd_Destroyed = sphere_kernel, -1
Act_ActTrig = NOMAD_FIGHT_fighters_destroyed
Act_ActTrig = NOMAD_FIGHT_check_fighters_is_not_destroyed
Act_DeActTrig = NOMAD_FIGHT_spawn_B_nomads
Act_DeActTrig = NOMAD_FIGHT_spawn_C_nomads
Act_DeActTrig = NOMAD_FIGHT_spawn_D_nomads
Act_DeActTrig = NOMAD_FIGHT_spawn_E_nomads
Act_DeActTrig = NOMAD_FIGHT_its_too_late
Act_ActTrig = NOMAD_FIGHT_spawn_X_nomads

[Trigger]
nickname = NOMAD_FIGHT_fighters_destroyed
Cnd_Destroyed = nomad, -1, ALL_IGNORE_LANDING

[Trigger]
nickname = NOMAD_FIGHT_check_fighters_is_not_destroyed
Cnd_True = no_params
{{ nn_12_destroy_nomad_fighters.set() }}
Act_ActTrig = NOMAD_FIGHT_fighters_real_destroyed

[Trigger]
nickname = NOMAD_FIGHT_fighters_real_destroyed
Cnd_Destroyed = nomad, -1
Act_ActTrig = NOMAD_AREA_EXIT_init

[Trigger]
nickname = NOMAD_AREA_EXIT_init
Cnd_True = no_params
Act_Destroy = sphere_ast_locked_door07, SILENT
Act_Destroy = sphere_ast_locked_door08, SILENT
{{ nn_13_goto_nomad_area_exit.set() }}
Act_PlayMusic = no_params
Act_ActTrig = NOMAD_AREA_EXIT_wp01

[Trigger]
nickname = NOMAD_AREA_EXIT_wp01
Cnd_DistVec = inside, Player, -10720, -825, -21500, 500
{{ nn_13_enter_the_last_tunnel.set() }}
Act_ActTrig = NOMAD_AREA_EXIT_wp02

[Trigger]
nickname = NOMAD_AREA_EXIT_wp02
Cnd_DistVec = inside, Player, -10720, -825, -18000, 500
{{ nn_13_fly_to_core.set() }}
Act_ActTrig = NOMAD_AREA_EXIT_last_wp

[Trigger]
nickname = NOMAD_AREA_EXIT_last_wp
Cnd_DistVec = inside, Player, -5000, 0, -17000, 2000
Act_ActTrig = BEFORE_THE_CORE

[Trigger]
nickname = NOMAD_AREA_DOORS_spawn_back
Cnd_True = no_params
Act_SpawnSolar = nomad_area_locked_door01
Act_SpawnSolar = nomad_area_locked_door02

[Trigger]
nickname = NOMAD_AREA_RETURN_ROAD_LOCK
Cnd_DistVec = inside, Player, -10700, 0, -25650, 5000
Act_ChangeState = FAIL, 096106

[Trigger]
nickname = BEFORE_THE_CORE
Cnd_True = no_params
Act_DeActTrig = NOMAD_AREA_BACK_ROAD_LOCK
Act_ActTrig = NOMAD_AREA_DOORS_spawn_back
Act_ActTrig = THE_CORE_init
{{ direct.save('the_core') }}
Act_RelocateShip = Player, -6000, 0, -17000, 0.5, 0, -0.5, 0 ;;production
Act_SpawnShip = nag_voice
Act_ActTrig = THE_CORE_init


;--

[ObjList]
nickname = ol_reitherman
avoidance = false
GotoVec = goto_no_cruise, -140, 40, -1900, 50, true
GotoVec = goto_no_cruise, -200, 20, -1840, 50, true
GotoVec = goto_no_cruise, -300, 20, -2000, 50, true
GotoVec = goto_no_cruise, -250, 150, -2200, 50, true
GotoVec = goto_no_cruise, 150, 150, -2200, 50, true
GotoVec = goto_no_cruise, 150, 150, -2000, 50, true
GotoVec = goto_no_cruise, 150, -150, -1900, 50, true
GotoVec = goto_no_cruise, -0, -200, -1800, 50, true
GotoVec = goto_no_cruise, -100, -150, -2200, 50, true
GotoVec = goto_no_cruise, -150, -100, -2300, 50, true
GotoVec = goto_no_cruise, -300, 100, -2300, 50, true
GotoVec = goto_no_cruise, -140, 40, -2050, 50, true

[ObjList]
nickname = ol_reitherman_escape
avoidance = false
GotoVec = goto_cruise, -1500, 0, -1000, 250, true
GotoVec = goto_cruise, -1600, 0, 1000, 250, true
GotoVec = goto_cruise, -1000, 0, 3000, 250, true
GotoVec = goto_cruise, -1100, 0, 5000, 250, true
GotoVec = goto_cruise, -1000, 0, 6000, 250, true
GotoVec = goto_cruise, -1000, 0, 7000, 250, true

[ObjList]
nickname = ol_reitherman_escape_goto_race_road
avoidance = false
GotoVec = goto_cruise, 3000, -200, 3000, 500, true
GotoVec = goto_cruise, 3000, -200, -6000, 100, true



[ObjList]
nickname = ol_reitherman_escape_dock
Dock = sphere_depot_02







[Trigger]
nickname = THE_CORE_init
Cnd_True = no_params

{{ direct.spawn_solar_group('THE_CORE') }}

Act_ActTrig = THE_CORE_LIFTER_SCENE

Act_ActTrig = THE_CORE_WP_MAIN
Act_ActTrig = THE_CORE_WP_SECOND
Act_ActTrig = THE_CORE_HELP_HACKING

Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN
Act_ActTrig = THE_CORE_PLAYER_FOUND_by_reitherman
Act_ActTrig = THE_CORE_PLAYER_AROUND_the_reitherman


Act_ActTrig = THE_CORE_PLAYER_FOUND_by_outpost


Act_ActTrig = THE_CORE_REITHERMAN_DEAD_marker

Act_ActTrig = THE_CORE_HELP_init

Act_PlayMusic = none, music_omicron_danger, music_omicron_battle


Act_ActTrig = THE_CORE_trent_enter_reaction_airlock
Act_ActTrig = THE_CORE_trent_enter_reaction_tunnel


[Trigger]
nickname = THE_CORE_HELP_HACKING
{{ direct.inside_pos('sphere', 'TC_alt_way_destroy_scienthome_control_panel', 500) }}
{{ direct.dialog('hacking') }}



[Trigger]
nickname = THE_CORE_trent_enter_reaction_airlock
Cnd_DistVec = inside, Player, -2475, 825, -7500, 500
Act_DeActTrig = THE_CORE_trent_enter_reaction_tunnel
Act_ActTrig = THE_CORE_trent_enter_reaction_msg

[Trigger]
nickname = THE_CORE_trent_enter_reaction_tunnel
Cnd_DistVec = inside, Player, 5500, 0, -6000, 3000
Act_DeActTrig = THE_CORE_trent_enter_reaction_airlock
Act_ActTrig = THE_CORE_trent_enter_reaction_msg

[Trigger]
nickname = THE_CORE_trent_enter_reaction_msg
Cnd_True = no_params
;Player:
{{ script.line(210) }}





[Trigger]
nickname = THE_CORE_HELP_init
Cnd_Timer = 2
{{ direct.dialog('the_core') }}
Act_ActTrig = THE_CORE_HELP_button_YES
Act_ActTrig = THE_CORE_HELP_button_NO

[Trigger]
nickname = THE_CORE_HELP_button_YES
Cnd_PopUpDialog = Yes
Act_ActTrig = THE_CORE_HELP_WP_init

[Trigger]
nickname = THE_CORE_HELP_button_NO
Cnd_PopUpDialog = NO

[Trigger]
nickname = THE_CORE_HELP_deactivate
Cnd_DistVec = inside, Player, 0, 0, 0, 10000
Act_ActTrig = THE_CORE_HELP_deactivate_force

[Trigger]
nickname = THE_CORE_HELP_deactivate_force
Cnd_True = no_params
Act_Destroy = help_the_core
Act_DeActTrig = THE_CORE_HELP_player_around
Act_DeActTrig = THE_CORE_HELP_button_YES
Act_DeActTrig = THE_CORE_HELP_button_NO
Act_DeactTrig = THE_CORE_HELP_deactivate

[Trigger]
nickname = THE_CORE_HELP_WP_init
Cnd_True = no_params
Act_ActTrig = THE_CORE_WP_MAIN_disable
Act_ActTrig = THE_CORE_WP_SECOND_disable
{{ nn_13_goto_the_core_last_tunnel.set() }}
Act_ActTrig = THE_CORE_HELP_WP_around_tunnel

[Trigger]
nickname = THE_CORE_HELP_WP_around_tunnel
Cnd_DistVec = inside, Player, -2475, 825, -12700, 500
{{ nn_13_enter_the_core.set() }}
Act_ActTrig = THE_CORE_HELP_WP_inside_core

[Trigger]
nickname = THE_CORE_HELP_WP_inside_core
Cnd_DistVec = inside, Player, -2475, 825, -7500, 500
{{ nn_TC_alt_way_wp01.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp01

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp01
Cnd_DistVec = inside, Player, -5000, 825, -5000, 1500
{{ nn_TC_alt_way_wp02.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp02

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp02
Cnd_DistVec = inside, Player, -6000, 825, -1000, 1500
{{ nn_TC_alt_way_wp03.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp03

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp03
Cnd_DistVec = inside, Player, -4000, 825, 5000, 1500
{{ nn_TC_alt_way_destroy_scienthome_control_panel.set() }}
Act_ActTrig = THE_CORE_HELP_WP_scienthome_control_panel_destroyed

[Trigger]
nickname = THE_CORE_HELP_WP_scienthome_control_panel_destroyed
Cnd_Destroyed = {{ sphere_depot_02_hacker_layer_valid.name }}
{{ nn_TC_alt_way_wp04.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp04

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp04
Cnd_DistVec = inside, Player, 5000, 825, 4000, 3000
{{ nn_TC_alt_way_wp05.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp05

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp05
Cnd_DistVec = inside, Player, 5000, 825, -1000, 1500
{{ nn_TC_alt_way_wp06.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp06

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp06
Cnd_DistVec = inside, Player, 5000, 100, -4000, 1500
{{ nn_TC_alt_way_destroy_outpost_control_panel.set() }}
Act_ActTrig = THE_CORE_HELP_WP_outpost_control_panel_destroyed

[Trigger]
nickname = THE_CORE_HELP_WP_outpost_control_panel_destroyed
Cnd_Destroyed = {{ sphere_depot_01_hacker_layer_valid.name }}
{{ nn_TC_alt_way_wp07.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp07

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp07
Cnd_DistVec = inside, Player, 1500, 400, -0, 1500
{{ nn_TC_alt_way_wp08.set() }}
Act_ActTrig = THE_CORE_HELP_WP_alt_way_wp08

[Trigger]
nickname = THE_CORE_HELP_WP_alt_way_wp08
Cnd_DistShip = inside, Player, -1000, 0, 6500, 3000
Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN_FORCE



[Trigger]
nickname = THE_CORE_HELP_WP_disable
Cnd_True = no_params
Act_DeActTrig = THE_CORE_HELP_WP_around_tunnel
Act_DeActTrig = THE_CORE_HELP_WP_inside_core
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp01
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp02
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp03
Act_DeActTrig = THE_CORE_HELP_WP_scienthome_control_panel_destroyed
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp04
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp05
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp06
Act_DeActTrig = THE_CORE_HELP_WP_outpost_control_panel_destroyed
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp07
Act_DeActTrig = THE_CORE_HELP_WP_alt_way_wp08




[Trigger]
nickname = THE_CORE_REITHERMAN_DEAD_marker
Cnd_Destroyed = reitherman, 1, EXPLODE
Act_SpawnSolar = marker_the_core_reitherman_dead
Act_ActTrig = THE_CORE_MISSION_STATE



[Trigger]
nickname = THE_CORE_LIFTER_SCENE
Cnd_True = no_params
Act_SpawnShip = reitherman, ol_reitherman, -140, 50, -2050, 0, 0, 1, 0
Act_SetVibe = reitherman, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, reitherman, REP_HOSTILE_MAXIMUM
Act_MarkObj = reitherman, 1
Act_Invulnerable = reitherman, true
Act_ActTrig = ol_reitherman_repeat

[Trigger]
nickname = ol_reitherman_repeat
Cnd_DistVec = inside, reitherman, 150, 150, -2200, 200
Act_ActTrig = ol_reitherman_finalize

[Trigger]
nickname = ol_reitherman_finalize
Cnd_DistVec = inside, reitherman, -140, 50, -2050, 100
Act_GiveObjList = reitherman, ol_reitherman
Act_ActTrig = ol_reitherman_repeat


[Trigger]
nickname = THE_CORE_WP_MAIN
Cnd_True = no_params
{{ nn_13_goto_the_core_last_tunnel.set() }}
Act_ActTrig = THE_CORE_WP_MAIN_around_tunnel

[Trigger]
nickname = THE_CORE_WP_MAIN_disable
Cnd_True = no_params
Act_DeActTrig = THE_CORE_WP_MAIN_around_tunnel
Act_DeActTrig = THE_CORE_WP_MAIN_inside_core


[Trigger]
nickname = THE_CORE_WP_MAIN_around_tunnel
Cnd_DistVec = inside, Player, -2475, 825, -12700, 500
{{ nn_13_enter_the_core.set() }}
Act_ActTrig = THE_CORE_WP_MAIN_inside_core

[Trigger]
nickname = THE_CORE_WP_MAIN_inside_core
Cnd_DistVec = inside, Player, -2475, 825, -7500, 500
{{ nn_13_goto_reitherman.set() }}
Act_ActTrig = THE_CORE_WP_SECOND_disable


[Trigger]
nickname = THE_CORE_WP_ATTACK_REITHERMAN
Cnd_DistShip = inside, Player, reitherman, 2000
Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN_FORCE

[Trigger]
nickname = THE_CORE_WP_ATTACK_REITHERMAN_FORCE
Cnd_True = no_params
{{ nn_14_kill_reitherman.set() }}
Act_DeActTrig = THE_CORE_HELP_WP_disable
Act_DeActTrig = THE_CORE_WP_ATTACK_REITHERMAN




[Trigger]
nickname = THE_CORE_WP_SECOND
Cnd_DistVec = inside, Player, 10000, 0, -15000, 10000
Act_ActTrig = THE_CORE_WP_MAIN_disable
Act_ActTrig = THE_CORE_WP_MAIN_return_back
{{ nn_13_second_way_wp01.set() }}
Act_ActTrig = THE_CORE_WP_SECOND_inside_core

[Trigger]
nickname = THE_CORE_WP_SECOND_inside_core
Cnd_DistVec = inside, Player, 10000, 0, -3000, 10000
{{ nn_13_goto_reitherman.set() }}

[Trigger]
nickname = THE_CORE_WP_SECOND_disable
Cnd_True = no_params
Act_DeActTrig = THE_CORE_WP_SECOND_inside_core
Act_DeActTrig = THE_CORE_WP_SECOND

[Trigger]
nickname = THE_CORE_WP_MAIN_return_back
Cnd_DistVec = inside, Player, -10000, 0, -18000, 10000
Act_ActTrig = THE_CORE_WP_SECOND_disable
Act_ActTrig = THE_CORE_WP_MAIN
Act_ActTrig = THE_CORE_WP_SECOND







[Trigger]
nickname = THE_CORE_PLAYER_AROUND_the_reitherman
Cnd_DistShip = inside, Player, reitherman, 2000
Act_SetVibe = reitherman, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, reitherman, REP_HOSTILE_MAXIMUM
Act_Invulnerable = reitherman, false
Act_PlayMusic = none, none, none, music_omicron_battle



[Trigger]
nickname = THE_CORE_PLAYER_FOUND_by_reitherman
Cnd_DistVec = inside, Player, -155, 0, -2000, 3500
Act_DeActTrig = ol_reitherman_repeat
Act_DeActTrig = ol_reitherman_finalize
Act_DeActTrig = THE_CORE_PLAYER_FOUND_by_outpost
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_init
Act_ActTrig = THE_CORE_REITHERMAN_DEAD
Act_ActTrig = THE_CORE_REITHERMAN_ASK_RUNNER
Act_PlayMusic = none, none, none, music_omicron_battle

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_init
Cnd_Timer = 4
Act_GiveObjList = reitherman, ol_reitherman_escape
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_around_dock
Act_PlayMusic = none, none, none, music_omicron_battle

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_around_dock
Cnd_DistShip = inside, reitherman, sphere_depot_02, 600
Act_GiveObjList = reitherman, force_stop
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_control_panel_active
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_control_panel_inactive

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_control_panel_active
Cnd_DistShip = inside, reitherman, {{ sphere_depot_02_hacker_layer_valid.name }}, 5000
Act_DeActTrig = THE_CORE_REITHERMAN_ESCAPE_control_panel_inactive
Act_GiveObjList = reitherman, ol_reitherman_escape_dock
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_dock_complete

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_dock_complete
Cnd_Destroyed = reitherman, 1, SILENT
Act_ChangeState = FAIL, 096111

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_control_panel_inactive
Cnd_Timer = 5
Act_DeActTrig = THE_CORE_REITHERMAN_ESCAPE_control_panel_active
Act_GiveObjList = reitherman, ol_reitherman_escape_goto_race_road
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_activate_race

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_activate_race
Cnd_DistVec = inside, reitherman, 3000, -200, -6000, 2000
Act_GiveObjList = reitherman, ol_runaway
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_winner_in_race

[Trigger]
nickname = THE_CORE_REITHERMAN_ESCAPE_winner_in_race
Cnd_DistVec = inside, reitherman, -19000, 0, -9500, 1000
Act_ChangeState = FAIL, 096112



[Trigger]
nickname = THE_CORE_REITHERMAN_DEAD
Cnd_Destroyed = reitherman
Act_ActTrig = THE_CORE_REITHERMAN_DEAD_lifter_reaction
Act_DeActTrig = THE_CORE_REITHERMAN_ASK_RUNNER

[Trigger]
nickname = THE_CORE_REITHERMAN_DEAD_lifter_reaction
Cnd_True = no_params
;Assist (Karl): Reitherman is dead!
{{ script.line(220) }}

Act_ActTrig = THE_CORE_REITHERMAN_DEAD_begin_runner

[Trigger]
nickname = THE_CORE_REITHERMAN_DEAD_begin_runner
Cnd_True = no_params
Act_ActTrig = RUNNER_init

[Trigger]
nickname = THE_CORE_REITHERMAN_ASK_RUNNER
Cnd_Timer = 30
;Reitherman: finn, run!
{{ script.line(1010) }}

Act_DeActTrig = THE_CORE_REITHERMAN_DEAD
Act_DeActTrig = THE_CORE_REITHERMAN_DEAD_lifter_reaction
Act_DeActTrig = THE_CORE_REITHERMAN_DEAD_begin_runner
Act_ActTrig = RUNNER_init



[Trigger]
nickname = THE_CORE_PLAYER_FOUND_by_outpost
Cnd_DistShip = inside, Player, sphere_depot_01, 2900
Act_ActTrig = THE_CORE_OUTPOST_simple_reaction
Act_ActTrig = THE_CORE_OUTPOST_reitherman_reaction
Act_ActTrig = THE_CORE_OUTPOST_control_panel_destroyed_reaction
Act_ActTrig = THE_CORE_OUTPOST_runner_reaction
Act_ActTrig = THE_CORE_OUTPOST_player_comes_to_reitherman
Act_DeActTrig = THE_CORE_PLAYER_FOUND_by_reitherman

[Trigger]
nickname = THE_CORE_OUTPOST_turn_off_reitherman_reactions
Cnd_True = no_params
Act_DeActTrig = THE_CORE_OUTPOST_reitherman_reaction
Act_DeActTrig = THE_CORE_OUTPOST_control_panel_destroyed_reaction
Act_DeActTrig = THE_CORE_OUTPOST_player_comes_to_reitherman

[Trigger]
nickname = THE_CORE_OUTPOST_simple_reaction
Cnd_True = no_params
;Finn: who are you???
{{ script.line(1020) }}


[Trigger]
nickname = THE_CORE_OUTPOST_reitherman_reaction
Cnd_Timer = 25
Act_DeActTrig = THE_CORE_OUTPOST_control_panel_destroyed_reaction
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_init
Act_ActTrig = THE_CORE_OUTPOST_turn_off_reitherman_reactions
;Finn: professor, leave! it's not answerning!
{{ script.line(1030) }}



Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN_FORCE

[Trigger]
nickname = THE_CORE_OUTPOST_control_panel_destroyed_reaction
Cnd_Destroyed = the_core_outpost_control_panel
Act_DeActTrig = THE_CORE_OUTPOST_reitherman_reaction
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_init
Act_ActTrig = THE_CORE_OUTPOST_turn_off_reitherman_reactions
;Finn: professor, it's attack our base
{{ script.line(1040) }}


Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN_FORCE

[Trigger]
nickname = THE_CORE_OUTPOST_player_comes_to_doctor
Cnd_DistShip = outside, Player, sphere_depot_01, 3100
Act_ActTrig = THE_CORE_REITHERMAN_ESCAPE_init
Act_ActTrig = THE_CORE_OUTPOST_turn_off_reitherman_reactions
;Finn: professor, leave! undefined ship in area!
{{ script.line(1050) }}


Act_ActTrig = THE_CORE_WP_ATTACK_REITHERMAN_FORCE

[Trigger]
nickname = THE_CORE_OUTPOST_runner_reaction
Cnd_DistShip = outside, Player, sphere_depot_01, 3100
Act_ActTrig = THE_CORE_OUTPOST_init_RUNNER

[Trigger]
nickname = THE_CORE_OUTPOST_init_RUNNER
Cnd_Timer = 5
Act_ActTrig = RUNNER_init


[Trigger]
nickname = RUNNER_init
Cnd_True = no_params
Act_ActTrig = RUNNER_control_panel_active
Act_ActTrig = RUNNER_control_panel_inactive

[Trigger]
nickname = RUNNER_control_panel_active
Cnd_DistShip = inside, Player, {{ sphere_depot_01_hacker_layer_valid.name }}, 50000
Act_ActTrig = RUNNER_begin_race
Act_DeActTrig = RUNNER_control_panel_inactive

[Trigger]
nickname = RUNNER_control_panel_inactive
Cnd_Timer = 5
Act_DeActTrig = RUNNER_control_panel_active
Act_ActTrig = RUNNER_start_race_impossible
Act_SpawnSolar = marker_the_core_runner_inactive
Act_ActTrig = THE_CORE_MISSION_STATE

[Trigger]
nickname = RUNNER_start_race_impossible
Cnd_True = no_params
;Finn: I can't run !
{{ script.line(1060) }}



[Trigger]
nickname = RUNNER_begin_race
Cnd_Timer = 1
Act_ActTrig = RACE_init




[ObjList]
nickname = ol_runaway_start
avoidance = false
GotoVec = goto_no_cruise, 3500, 0, -5500, 250, true

[ObjList]
nickname = ol_runaway
avoidance = false
GotoVec = goto_cruise, 7000, 0, -8000, 350, true
GotoVec = goto_cruise, 10000, 0, -11000, 350, true
GotoVec = goto_cruise, 6000, 20, -16500, 350, true
GotoVec = goto_cruise, -9500, 0, -16500, 350, true
GotoVec = goto_cruise, -11500, 0, -11500, 350, true
GotoVec = goto_cruise, -19000, 0, -9500, 350, true

[Trigger]
nickname = RACE_init
Cnd_True = no_params
Act_SpawnShip = runner, ol_runaway, 3100, 0, -5900, 0.25, 0, -0.75, 0
Act_MarkObj = runner, 1
Act_SetVibe = runner, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, runner, REP_HOSTILE_MAXIMUM
Act_ActTrig = RACE_runaway_start

[Trigger]
nickname = RACE_runaway_start
Cnd_True = no_params
Act_ActTrig = RACE_objective_reitherman_alive
Act_ActTrig = RACE_objective_with_dead_reitherman
Act_ActTrig = RACE_runner_destroyed
Act_ActTrig = RACE_runner_is_winner

[Trigger]
nickname = RACE_runner_is_winner
Cnd_DistVec = inside, runner, -19000, 0, -9500, 1000
Act_ChangeState = FAIL, 096108

[Trigger]
nickname = RACE_objective_reitherman_alive
Cnd_DistShip = inside, Player, reitherman, 100000
Act_DeActTrig = RACE_objective_with_dead_reitherman
Act_ActTrig = RACE_objective_reitherman_dead

[Trigger]
nickname = RACE_objective_reitherman_dead
Cnd_Destroyed = reitherman, 1, EXPLODE
{{ nn_15_catch_and_kill_assistant.set() }}

[Trigger]
nickname = RACE_objective_with_dead_reitherman
Cnd_Timer = 1
Act_DeActTrig = RACE_objective
{{ nn_15_catch_and_kill_assistant.set() }}




[Trigger]
nickname = RACE_runner_destroyed
Cnd_Destroyed = runner
Act_SpawnSolar = marker_the_core_runner_inactive
Act_ActTrig = THE_CORE_MISSION_STATE
Act_DeActTrig = RACE_try_to_call
Act_DeActTrig = RACE_runner_is_winner

Act_PlayMusic = no_params






[MsnSolar]
nickname = marker_the_core_reitherman_dead
system = sphere
position = -100000, 200, 0
archetype = msn5_pod_counter
radius = 0
string_id = 1

[MsnSolar]
nickname = marker_the_core_runner_inactive
system = sphere
position = -100000, -200, 0
archetype = msn5_pod_counter
radius = 0
string_id = 1


[Trigger]
nickname = THE_CORE_MISSION_STATE
Cnd_True = no_params
Act_ActTrig = THE_CORE_MISSION_STATE_check_reitherman
Act_ActTrig = THE_CORE_MISSION_STATE_deactivate

[Trigger]
nickname = THE_CORE_MISSION_STATE_deactivate
Cnd_Timer = 0.5
Act_DeActTrig = THE_CORE_MISSION_STATE_check_reitherman
Act_DeActTrig = THE_CORE_MISSION_STATE_check_runner

[Trigger]
nickname = THE_CORE_MISSION_STATE_check_reitherman
{{ direct.inside_pos('sphere', 'var_checkpoint', 5000, obj='marker_the_core_reitherman_dead') }}
Act_ActTrig = THE_CORE_MISSION_STATE_check_runner

[Trigger]
nickname = THE_CORE_MISSION_STATE_check_runner
{{ direct.inside_pos('sphere', 'var_checkpoint', 5000, obj='marker_the_core_runner_inactive') }}
Act_ActTrig = LEAVE_THE_CORE


[Trigger]
nickname = LEAVE_THE_CORE
Cnd_True = no_params
Act_PlayMusic = no_params
{{ direct.hide_solar_group('THE_CORE') }}
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_A
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_B_wait
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_C_wait
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_D_wait
Act_ActTrig = BEFORE_LAB_init

[Trigger]
nickname = LEAVE_THE_CORE_disable_initial_checks
Cnd_True = no_params
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_A
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_B_wait
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_C_wait
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_D_wait
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_B
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_C
Act_DeActTrig = LEAVE_THE_CORE_player_in_zone_D

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_B_wait
Cnd_Timer = 0.25
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_B

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_C_wait
Cnd_Timer = 0.5
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_C

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_D_wait
Cnd_Timer = 1
Act_ActTrig = LEAVE_THE_CORE_player_in_zone_D

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_A
Cnd_DistVec = inside, Player, 0, 0, 0, 10000
Act_ActTrig = LEAVE_THE_CORE_NN_enter_backroad_tunnel
Act_ActTrig = LEAVE_THE_CORE_disable_initial_checks

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_B
Cnd_DistVec = inside, Player, 15000, 0, -5000, 11500
Act_ActTrig = LEAVE_THE_CORE_NN_leave_by_huge_tunnel
Act_ActTrig = LEAVE_THE_CORE_disable_initial_checks

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_C
Cnd_DistVec = inside, Player, 5000, 0, -15000, 11500
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01
Act_ActTrig = LEAVE_THE_CORE_disable_initial_checks

[Trigger]
nickname = LEAVE_THE_CORE_player_in_zone_D
Cnd_DistVec = inside, Player, -12000, 0, -15000, 11500
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_exit
Act_ActTrig = LEAVE_THE_CORE_disable_initial_checks


[Trigger]
nickname = LEAVE_THE_CORE_NN_enter_backroad_tunnel
Cnd_True = no_params
{{ nn_16_enter_backroad_tunnel.set() }}
Act_ActTrig = LEAVE_THE_CORE_NN_enter_backroad_tunnel_DONE

[Trigger]
nickname = LEAVE_THE_CORE_NN_enter_backroad_tunnel_DONE
Cnd_DistVec = inside, Player, -2475, 825, -7500, 700
Act_ActTrig = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel

[Trigger]
nickname = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel
Cnd_True = no_params
{{ nn_16_leave_the_core_by_backroad_tunnel.set() }}
Act_ActTrig = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel_DONE

[Trigger]
nickname = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel_DONE
Cnd_DistVec = inside, Player, -2475, 825, -12700, 700
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01

[Trigger]
nickname = LEAVE_THE_CORE_NN_leave_by_huge_tunnel
Cnd_True = no_params
{{ nn_16_leave_the_core_by_huge_tunnel.set() }}
Act_ActTrig = LEAVE_THE_CORE_NN_leave_by_huge_tunnel_DONE

[Trigger]
nickname = LEAVE_THE_CORE_NN_leave_by_huge_tunnel_DONE
Cnd_DistVec = inside, Player, 6000, 0, -16500, 2200
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01

[Trigger]
nickname = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01
Cnd_True = no_params
{{ nn_16_goto_last_tunnel_wp01.set() }}
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01_DONE

[Trigger]
nickname = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01_DONE
Cnd_DistVec = inside, Player, -9500, 0, -16500, 2200
Act_ActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_exit

[Trigger]
nickname = LEAVE_THE_CORE_NN_goto_last_tunnel_exit
Cnd_True = no_params
{{ nn_16_goto_last_tunnel_exit.set() }}
Act_ActTrig = LEAVE_THE_CORE_NN_exit_last_tunnel_DONE

[Trigger]
nickname = LEAVE_THE_CORE_NN_exit_last_tunnel_DONE
Cnd_DistVec = inside, Player, -20630, 825, -6700, 700
Act_ActTrig = LEAVE_THE_CORE_NN_exit_last_tunnel

[Trigger]
nickname = LEAVE_THE_CORE_NN_exit_last_tunnel
Cnd_True = no_params
{{ nn_16_exit_last_tunel.set() }}



[Trigger]
nickname = LEAVE_THE_CORE_NN_disable_all_triggers
Cnd_True = no_params
Act_DeActTrig = LEAVE_THE_CORE_NN_enter_backroad_tunnel
Act_DeActTrig = LEAVE_THE_CORE_NN_enter_backroad_tunnel_DONE
Act_DeActTrig = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel
Act_DeActTrig = LEAVE_THE_CORE_NN_leave_by_backroad_tunnel_DONE
Act_DeActTrig = LEAVE_THE_CORE_NN_leave_by_huge_tunnel
Act_DeActTrig = LEAVE_THE_CORE_NN_leave_by_huge_tunnel_DONE
Act_DeActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01
Act_DeActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_wp01_DONE
Act_DeActTrig = LEAVE_THE_CORE_NN_goto_last_tunnel_exit
Act_DeActTrig = LEAVE_THE_CORE_NN_exit_last_tunnel_DONE
Act_DeActTrig = LEAVE_THE_CORE_NN_exit_last_tunnel








[Trigger]
nickname = BEFORE_LAB_init
Cnd_Timer = 1
Act_Destroy = sphere_ast_locked_door03, SILENT
Act_Destroy = sphere_ast_locked_door04, SILENT
Act_Destroy = sphere_ast_locked_door05, SILENT
Act_Destroy = sphere_ast_locked_door06, SILENT
Act_ActTrig = BEFORE_LAB_tunnel_exit

[Trigger]
nickname = BEFORE_LAB_tunnel_exit
Cnd_DistVec = inside, Player, -20600, 0, -4500, 1200
{{ nn_17_goto_lab.set() }}
Act_ActTrig = BEFORE_LAB_dialog
Act_ActTrig = LAB_around
Act_ActTrig = Replace_Shieldgens

Act_ActTrig = LEAVE_THE_CORE_disable_initial_checks
Act_ActTrig = LEAVE_THE_CORE_NN_disable_all_triggers

[Trigger]
nickname = BEFORE_LAB_dialog
Cnd_Timer = 1
;Alaric:
{{ script.line(225) }}



[Trigger]
nickname = Replace_Shieldgens
Cnd_True = no_params
Act_Destroy = sphere_lab_shieldgen01, SILENT
Act_Destroy = sphere_lab_shieldgen02, SILENT
Act_ActTrig = Spawn_Correct_Shieldgens

[Trigger]
nickname = Spawn_Correct_Shieldgens
Cnd_Timer = 0.1
Act_SpawnSolar = lab_shield01
Act_SpawnSolar = lab_shield02
Act_ActTrig = Hurt_Shieldgens

[Trigger]
nickname = Hurt_Shieldgens
Cnd_Timer = 0.1
Act_AdjHealth = lab_shield01, -0.5
Act_AdjHealth = lab_shield02, -0.5


[Trigger]
nickname = LAB_around
Cnd_DistShip = inside, Player, sphere_laboratory01, 2000
Act_PobjIdle = no_params
Act_Save = LAB_SAVE, 096309
Act_ActTrig = LAB_init

[Trigger]
nickname = LAB_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = LAB_SAVE_spawn_units
жжAct_ActTrig = Replace_Shieldgens

[Trigger]
nickname = LAB_SAVE_spawn_units
Cnd_Timer = 0.1
Act_RelocateShip = Player, -24500, -500, 3000, 0.25, 0, 0.75, 0
Act_SpawnShip = nag_voice
Act_ActTrig = LAB_init

[trigger]
nickname = LAB_init
Cnd_Timer = 1
Act_PlayMusic = music_omicron_space, music_omicron_danger, music_omicron_battle
Act_MarkObj = lab_shield01, 1
Act_MarkObj = lab_shield02, 1
Act_ActTrig = LAB_enemy_rep
{{ nn_18_destroy_lab_shield.set() }}
Act_ActTrig = LAB_spawn_alaric
Act_ActTrig = LAB_spawn_defend
Act_ActTrig = LAB_gen1_destroyed
Act_ActTrig = LAB_gen2_destroyed
Act_SetRep = Player, rh_grp, -0.8



[Trigger]
nickname = LAB_enemy_rep
Cnd_True = no_params
Act_SetVibeLblToShip = lab_shield, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, lab_shield, REP_HOSTILE_MAXIMUM
Act_SetRep = Player, rh_grp, -0.65
Act_SetRep = rh_grp, Player, -0.65

[Trigger]
nickname = LAB_spawn_alaric
Cnd_True = no_params
Act_SpawnShip = {{ alaric_cloak.name }}, follow_player, -24700, -400, 4000, 0.5, 0, 0.5, 0
Act_ActTrig = LAB_decloak_alaric

[Trigger]
nickname = LAB_decloak_alaric
Cnd_Timer = 2
Act_ActTrig = Friend_Setrep
Act_Cloak = {{ alaric_cloak.name }}, false
Act_SetVibeLblToShip = lab_shield, {{ alaric_cloak.name }}, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = {{ alaric_cloak.name }}, lab_shield, REP_HOSTILE_MAXIMUM
Act_ActTrig = LAB_drop_alaric_cloak

[Trigger]
nickname = LAB_drop_alaric_cloak
Cnd_Timer = 5
Act_LightFuse = {{ alaric_cloak.name }}, fuse_drop_cloaking_device

[Trigger]
nickname = LAB_gen1_destroyed
Cnd_Destroyed = lab_shield, 1
Act_ActTrig = LAB_spawn_reinforce

[Trigger]
nickname = LAB_gen2_destroyed
Cnd_Destroyed = lab_shield, -1
{{ nn_19_dock_on_lab.set() }}
Act_SetVibeOfferBaseHack = sphere_laboratory01
Act_PlayerCanDock = false, sphere_laboratory01
Act_GiveObjList = {{ alaric_cloak.name }}, ol_dock_lab
Act_ActTrig = LAB_inside

[ObjList]
nickname = ol_dock_lab
BreakFormation = no_params
Dock = sphere_laboratory01

[MsnShip]
nickname = lab_defend_01
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 90, Player, 1000

[MsnShip]
nickname = lab_defend_02
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 0, Player, 1000

[MsnShip]
nickname = lab_reinforce_01
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 90, Player, 1500

[MsnShip]
nickname = lab_reinforce_02
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 0, Player, 1500

[MsnShip]
nickname = lab_reinforce_03
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 180, Player, 1500

[MsnShip]
nickname = lab_patrol_01
NPC = npc_rh_elite
label = lab_patrol
random_name = true

[MsnShip]
nickname = lab_patrol_02
NPC = npc_rh_elite
label = lab_patrol
random_name = true


[Trigger]
nickname = LAB_spawn_defend
Cnd_Timer = 5
Act_SpawnShip = lab_defend_01
Act_SpawnShip = lab_defend_02
Act_ActTrig = LAB_defend_setrep

[Trigger]
nickname = LAB_spawn_reinforce
Cnd_True = no_params
Act_SpawnShip = lab_reinforce_01
Act_SpawnShip = lab_reinforce_02
Act_SpawnShip = lab_reinforce_03
Act_ActTrig = LAB_defend_setrep

[Trigger]
nickname = LAB_defend_setrep
Cnd_Timer = 0.25
Act_SetVibeLblToShip = lab_ship, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, lab_ship, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = lab_ship, {{ alaric_cloak.name }}, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = {{ alaric_cloak.name }}, lab_ship, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = LAB_inside
Cnd_LocEnter = Deck, sphere_lab_base
Act_AddRTC = missions\m06\lab_rtc.ini
Act_ActTrig = LAB_inside_ROOM_SCENE
Act_ActTrig = LAB_msn_response
Act_ActTrig = LAB_autosave_fix

[Trigger]
nickname = LAB_autosave_fix
Cnd_BaseEnter = sphere_lab_base
Act_ActTrig = LAB_inside_ROOM_SCENE
Act_ActTrig = LAB_restart_scenes
Act_ActTrig = LAB_launch
repeatable = true ; loop it for next autosaves

[Trigger]
nickname = LAB_msn_response
Cnd_MsnResponse = accept
Act_ActTrig = LAB_restart_scenes

[Trigger]
nickname = LAB_restart_scenes
Cnd_True = no_params
Act_AddRTC = missions\m06\lab_moveto_rtc.ini

[Trigger]
nickname = LAB_inside_ROOM_SCENE
Cnd_LocEnter = Trader, sphere_lab_base
Act_AddRTC = missions\m06\lab_room_rtc.ini
Act_ActTrig = LAB_inside_LAUNCH_SCENE
Act_DeActTrig = LAB_restart_scenes

[Trigger]
nickname = LAB_inside_LAUNCH_SCENE
Cnd_LocEnter = Deck, sphere_lab_base
Act_AddRTC = missions\m06\lab_launch_rtc.ini
Act_ActTrig = LAB_launch


[Trigger]
nickname = LAB_launch
Cnd_SpaceEnter = no_params
Act_Destroy = lab_defend_01, SILENT
Act_Destroy = lab_defend_02, SILENT
Act_Destroy = lab_reinforce_01, SILENT
Act_Destroy = lab_reinforce_02, SILENT
Act_Destroy = lab_reinforce_03, SILENT
Act_Destroy = {{ alaric_cloak.name }}, SILENT
Act_Destroy = lab_shield01, SILENT
Act_Destroy = lab_shield02, SILENT
Act_ActTrig = LAB_outside
Act_PlayMusic = none, none, none, music_omicron_danger

[Trigger]
nickname = LAB_outside
Cnd_True = no_params
Act_MovePlayer = -26500, -500, 3800, 1
Act_PobjIdle = no_params
Act_ActTrig = LAB_explode_camera

[Trigger]
nickname = LAB_explode_camera
Cnd_Timer = 1
Act_RelocateShip = Player, -26500, -500, 3800, 0.5, 0, -0.5, 0
Act_CallThorn = scripts\mod\m06_lab_explode_camera.thn, Player
Act_LightFuse = sphere_laboratory01, fuse_rmbase_medium
Act_ActTrig = LAB_explode_revert

[Trigger]
nickname = LAB_explode_revert
Cnd_Timer = 10
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = LAB_ESCAPE_init
Act_ActTrig = LAB_patrols
Act_PlayMusic = none, none, none, music_omicron_danger

[Trigger]
nickname = LAB_patrols
Cnd_True = no_params
Act_SpawnShip = lab_patrol_01, ol_lab_patrol01, -25500, -300, 5000, 0.5, 0, 0.5, 0
Act_SpawnShip = lab_patrol_02, ol_lab_patrol02, -25500, -500, 3000, 0.5, 0, -0.5, 0
Act_ActTrig = lab_patrol_01_repeat
Act_ActTrig = lab_patrol_02_repeat
Act_ActTrig = LAB_patrol_setrep

[Trigger]
nickname = LAB_defend_setrep
Cnd_Timer = 0.25
Act_SetVibeLblToShip = lab_patrol, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, lab_patrol, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = lab_patrol, {{ alaric_cloak.name }}, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = {{ alaric_cloak.name }}, lab_patrol, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = lab_patrol_01_repeat
Cnd_DistVec = inside, lab_patrol_01, -25500, -300, 3000, 200
Act_ActTrig = lab_patrol_01_finalize

[Trigger]
nickname = lab_patrol_01_finalize
Cnd_DistVec = inside, lab_patrol_01, -25500, -300, 5000, 200
Act_GiveObjList = lab_patrol_01, ol_lab_patrol01
Act_ActTrig = lab_patrol_01_repeat

[Trigger]
nickname = lab_patrol_02_repeat
Cnd_DistVec = inside, lab_patrol_02, -25500, -500, 5000, 200
Act_ActTrig = lab_patrol_02_finalize

[Trigger]
nickname = lab_patrol_02_finalize
Cnd_DistVec = inside, lab_patrol_02, -25500, -500, 3000, 200
Act_GiveObjList = lab_patrol_02, ol_lab_patrol02
Act_ActTrig = lab_patrol_02_repeat


[ObjList]
nickname = ol_lab_patrol01
avoidance = false
GotoVec = goto_no_cruise, -26500, -300, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -300, 3000, 150, true
GotoVec = goto_no_cruise, -24500, -300, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -300, 5000, 150, true

[ObjList]
nickname = ol_lab_patrol02
avoidance = false
GotoVec = goto_no_cruise, -24500, -500, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -500, 5000, 150, true
GotoVec = goto_no_cruise, -26500, -500, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -500, 3000, 150, true

[Trigger]
nickname = REMOVE_LAB_PATROL
Cnd_true = no_params
Act_Destroy = lab_patrol_01, SILENT
Act_Destroy = lab_patrol_02, SILENT
Act_DeActTrig = lab_patrol_01_repeat
Act_DeActTrig = lab_patrol_01_finalize
Act_DeActTrig = lab_patrol_02_repeat
Act_DeActTrig = lab_patrol_02_finalize


[Trigger]
nickname = LAB_ESCAPE_init
Cnd_Timer = 1
;Alaric:
{{ script.line(230) }}

{{ nn_20_back_to_exit_wp01.set() }}
Act_ActTrig = LAB_ESCAPE_around_wp01

[Trigger]
nickname = LAB_ESCAPE_around_wp01
Cnd_DistVec = inside, Player, -20000, 0, 16500, 5000
{{ nn_20_back_to_exit_wp02.set() }}
Act_ActTrig = LAB_ESCAPE_around_wp02
Act_PlayMusic = no_params
Act_ActTrig = REMOVE_LAB_PATROL

[Trigger]
nickname = LAB_ESCAPE_around_wp02
Cnd_DistVec = inside, Player, -8500, 0, 21500, 5000
{{ nn_20_back_to_exit_airlock01.set() }}
Act_ActTrig = LAB_ESCAPE_after_airlock01

[Trigger]
nickname = LAB_ESCAPE_after_airlock01
Cnd_DistVec = inside, Player, -3500, 0, 21500, 5000
{{ nn_20_back_to_exit_wp03.set() }}
Act_ActTrig = LAB_ESCAPE_around_wp03
Act_SpawnSolar = dread_escape
Act_Destroy = dread_init, SILENT
Act_ActTrig = ESCAPE_TUNNEL1_BACK_ROAD_LOCK

[Trigger]
nickname = LAB_ESCAPE_around_wp03
Cnd_DistVec = inside, Player, 0, 0, 26000, 5000
{{ nn_21_dock_on_dread.set() }}
Act_ActTrig = ESCAPE_TO_DREAD_dialog
Act_ActTrig = ESCAPE_TO_DREAD_far_around_dread
Act_ActTrig = ESCAPE_TO_DREAD_near_dread
Act_PlayMusic = none, music_omicron_danger, music_omicron_battle 

[Trigger]
nickname = ESCAPE_TUNNEL1_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -14000, 0, 21500, 2500
Act_ChangeState = FAIL, 096109

[Trigger]
nickname = ESCAPE_TO_DREAD_dialog
Cnd_True = no_params
;Hatcher:
{{ script.line(240) }}


[NPC] 
nickname = npc_li_elite
affiliation = li_grp
npc_ship_arch = ms6_li_elite_ship
voice = pilot_f_mil_m01

[NPC] 
nickname = npc_li_fighter
affiliation = li_grp
npc_ship_arch = ms6_li_fighter_ship
voice = pilot_f_mil_m01

[MsnShip]
nickname = escape_bg_fight_li_ship_01
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_02
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_03
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_04
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_05
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_01
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_02
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_03
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_04
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_05
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[Trigger]
nickname = ESCAPE_TO_DREAD_far_around_dread
Cnd_DistShip = inside, Player, dread_escape, 4000
Act_SpawnShip = escape_bg_fight_li_ship_01, no_ol, 0, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_02, no_ol, 300, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_03, no_ol, -300, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_04, no_ol, 600, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_05, no_ol, -600, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_rh_ship_01, no_ol, 0, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_02, no_ol, 300, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_03, no_ol, -300, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_04, no_ol, 600, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_05, no_ol, -600, 700, 38500, 1, 0, 0, 0
Act_ActTrig = bg_fight_setrep

[Trigger]
nickname = bg_fight_setrep
Cnd_timer = 1
Act_SetVibeLbl = rh_bg_fighter, li_bg_fighter, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = li_bg_fighter, rh_bg_fighter, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = ESCAPE_TO_DREAD_near_dread
Cnd_DistShip = inside, Player, dread_escape, 2000
Act_LightFuse = Player, fuse_drop_cloaking_device
Act_PlayerCanDock = false, dread_escape
Act_ActTrig = ESCAPE_TO_DREAD_on_board


[Trigger]
nickname = ESCAPE_TO_DREAD_on_board
Cnd_BaseEnter = sphere_02_base
Act_AddRTC = missions\m06\dread_escape_deck.ini
Act_ActTrig = DEFEND_launch
{{ nn_00_launch_to_space.set() }}

[Trigger]
nickname = DEFEND_launch
Cnd_PlayerLaunch = no_params
Act_Destroy = dread_escape, SILENT
Act_SpawnSolar = dread_defend
Act_ActTrig = DEFEND_launched
Act_ActTrig = DEFEND_inspace

[Trigger]
nickname = DEFEND_inspace
Cnd_InSpace = no_params
Act_PlayMusic = none, music_omicron_danger, music_omicron_battle

[Trigger]
nickname = DEFEND_launched
Cnd_LaunchComplete = Player
Act_Destroy = dread_escape, SILENT
Act_ActTrig = DEFEND_clear_bg_fighters
Act_ActTrig = DEFEND_init

[Trigger]
nickname = DEFEND_clear_bg_fighters
Cnd_True = no_params
Act_Destroy = escape_bg_fight_li_ship_01, SILENT
Act_Destroy = escape_bg_fight_li_ship_02, SILENT
Act_Destroy = escape_bg_fight_li_ship_03, SILENT
Act_Destroy = escape_bg_fight_li_ship_04, SILENT
Act_Destroy = escape_bg_fight_li_ship_05, SILENT
Act_Destroy = escape_bg_fight_rh_ship_01, SILENT
Act_Destroy = escape_bg_fight_rh_ship_02, SILENT
Act_Destroy = escape_bg_fight_rh_ship_03, SILENT
Act_Destroy = escape_bg_fight_rh_ship_04, SILENT
Act_Destroy = escape_bg_fight_rh_ship_05, SILENT


[MsnShip]
nickname = li_dread_defend_01
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_02
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_03
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_04
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_01
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_02
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_03
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_04
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_05
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = rh_dread_assault_01
NPC = npc_rh_elite
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_dread_assault_02
NPC = npc_rh_elite
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_center_attack_01
NPC = npc_rh_elite
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_center_attack_02
NPC = npc_rh_elite
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_center_attack_03
NPC = npc_rh_elite
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_center_attack_04
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_center_attack_05
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_01
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_02
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_03
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_04
NPC = npc_rh_fighter
label = rheinland
label = defend_fight_enemy
random_name = true


[MsnShip]
nickname = rh_action_reinforcement_01
NPC = npc_rh_elite
label = rheinland
random_name = true
rel_pos = 90, Player, 1500

[MsnShip]
nickname = rh_action_reinforcement_02
NPC = npc_rh_elite
label = rheinland
random_name = true
rel_pos = 180, Player, 1500

[MsnShip]
nickname = rh_action_reinforcement_03
NPC = npc_rh_elite
label = rheinland
random_name = true
rel_pos = 270, Player, 1500

[MsnShip]
nickname = rh_action_reinforcement_04
NPC = npc_rh_fighter
label = rheinland
random_name = true
rel_pos = 360, Player, 1500

[MsnShip]
nickname = rh_action_reinforcement_05
NPC = npc_rh_fighter
label = rheinland
random_name = true
rel_pos = 30, Player, 1500

[NPC] 
nickname = npc_torpedo_gunboat
affiliation = rh_grp
npc_ship_arch = ms6_rh_gunship
individual_name = 096214
voice = pilot_f_mil_m02

[MsnShip]
nickname = torpedo_gunboat_1
NPC = npc_torpedo_gunboat 
label = torpedo

[MsnShip]
nickname = torpedo_gunboat_2
NPC = npc_torpedo_gunboat
label = torpedo

[MsnShip]
nickname = torpedo_gunboat_3
NPC = npc_torpedo_gunboat
label = torpedo


[ObjList]
nickname = ol_DEFEND
Avoidance = true
StayInRange = -2000, 0, 50000, 3000

[ObjList]
nickname = ol_DEFEND_help_player
GotoShip = goto, Player, 500, false

[Trigger]
nickname = DEFEND_init
Cnd_True = no_params
Act_SpawnShip = torpedo_gunboat_1, no_ol, -1000, 100, 52000, 0.95, 0, 0.05, 0
Act_SpawnShip = torpedo_gunboat_2, no_ol, -1500, 100, 51850, 0.99, 0, -0.1, 0
Act_SpawnShip = torpedo_gunboat_3, no_ol, -2100, 100, 51500, 0.95, 0, -0.05, 0
Act_ActTrig = DEFEND_torpedo_vs_dread_reputation
Act_ActTrig = DEFEND_spawn_fighters
Act_ActTrig = DEFEND_fighters_reputation
Act_PlayerEnemyClamp = 1, 2
Act_ActTrig = DEFEND_gunboat_hits
Act_ActTrig = DEFEND_begin_mission

[Trigger]
nickname = DEFEND_gunboat_hits
Cnd_True = no_params
Act_ActTrig = DEFEND_torpedo_1_outside
Act_ActTrig = DEFEND_torpedo_2_outside
Act_ActTrig = DEFEND_torpedo_3_outside

[Trigger]
nickname = DEFEND_torpedo_1_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_1, 50
Act_ActTrig = DEFEND_player_hits_torpedo1
Act_ActTrig = DEFEND_torpedo_1_inside

[Trigger]
nickname = DEFEND_torpedo_1_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_1, 50
Act_DeActTrig = DEFEND_player_hits_torpedo1
Act_ActTrig = DEFEND_torpedo_1_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo1
Cnd_ProjHit = Player, 1, torpedo_gunboat_1
Act_Destroy = Player

[Trigger]
nickname = DEFEND_torpedo_2_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_2, 50
Act_ActTrig = DEFEND_player_hits_torpedo2
Act_ActTrig = DEFEND_torpedo_2_inside

[Trigger]
nickname = DEFEND_torpedo_2_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_2, 50
Act_DeActTrig = DEFEND_player_hits_torpedo2
Act_ActTrig = DEFEND_torpedo_2_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo2
Cnd_ProjHit = Player, 1, torpedo_gunboat_2
Act_Destroy = Player

[Trigger]
nickname = DEFEND_torpedo_3_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_3, 50
Act_ActTrig = DEFEND_player_hits_torpedo3
Act_ActTrig = DEFEND_torpedo_3_inside

[Trigger]
nickname = DEFEND_torpedo_3_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_3, 50
Act_DeActTrig = DEFEND_player_hits_torpedo3
Act_ActTrig = DEFEND_torpedo_3_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo3
Cnd_ProjHit = Player, 1, torpedo_gunboat_3
Act_Destroy = Player


[Trigger]
nickname = DEFEND_torpedo_vs_dread_reputation
Cnd_Timer = 1
Act_SetVibeLbl = dread, torpedo, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = torpedo, dread, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = DEFEND_fighters_reputation
Cnd_Timer = 1
Act_SetVibeLbl = liberty, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = rheinland, liberty, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = rheinland, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = rheinland, {{ alaric_cloak.name }}, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = {{ alaric_cloak.name }}, rheinland, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = DEFEND_spawn_fighters
Cnd_True = no_params

Act_SpawnShip = li_dread_defend_01, ol_DEFEND, -1000, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_02, ol_DEFEND, -1050, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_03, ol_DEFEND, -1100, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_04, ol_DEFEND, -1150, 250, 47000, 0, 0, 1, 0

Act_SpawnShip = li_center_attack_01, ol_DEFEND, -1150, 0, 49500, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_02, ol_DEFEND, -1150, 0, 49600, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_03, ol_DEFEND, -1150, 0, 49700, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_04, ol_DEFEND, -1150, 0, 49800, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_05, ol_DEFEND, -1150, 0, 49900, 0.5, 0, 0.5, 0

Act_SpawnShip = rh_dread_assault_01, ol_DEFEND, -500, 250, 47800, 0.75, 0, 0.25, 0
Act_SpawnShip = rh_dread_assault_02, ol_DEFEND, -400, 250, 47700, 0.75, 0, 0.25, 0

Act_SpawnShip = rh_center_attack_01, ol_DEFEND, -2000, 250, 50000, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_02, ol_DEFEND, -2000, 250, 50100, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_03, ol_DEFEND, -2000, 250, 50200, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_04, ol_DEFEND, -2000, 250, 50300, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_05, ol_DEFEND, -2000, 250, 50400, 0.5, 0, -0.5, 0

Act_SpawnShip = rh_gunboat_defend_01, ol_DEFEND, -1200, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_02, ol_DEFEND, -1400, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_03, ol_DEFEND, -1600, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_04, ol_DEFEND, -1800, -200, 52400, 1, 0, 0, 0

[Trigger]
nickname = DEFEND_spawn_rh_reinforcement
Cnd_True = no_params
Act_SpawnShip = rh_action_reinforcement_01, ol_DEFEND
Act_SpawnShip = rh_action_reinforcement_02, ol_DEFEND
Act_SpawnShip = rh_action_reinforcement_03, ol_DEFEND
Act_SpawnShip = rh_action_reinforcement_04, ol_DEFEND
Act_SpawnShip = rh_action_reinforcement_05, ol_DEFEND
Act_GiveObjList = li_dread_defend_01, ol_DEFEND_help_player
Act_GiveObjList = li_dread_defend_02, ol_DEFEND_help_player
Act_GiveObjList = li_dread_defend_03, ol_DEFEND_help_player
Act_GiveObjList = li_dread_defend_04, ol_DEFEND_help_player
Act_GiveObjList = li_center_attack_01, ol_DEFEND_help_player
Act_GiveObjList = li_center_attack_02, ol_DEFEND_help_player
Act_GiveObjList = li_center_attack_03, ol_DEFEND_help_player
Act_GiveObjList = li_center_attack_04, ol_DEFEND_help_player
Act_GiveObjList = li_center_attack_05, ol_DEFEND_help_player


[Trigger]
nickname = DEFEND_begin_mission
Cnd_Timer = 1
{{ nn_22_destroy_torpedoes_look_at.set() }}
;Missouri:
{{ script.line(300) }}

Act_ActTrig = DEFEND_first_torpedo
Act_ActTrig = DEFEND_dread_first_hit
Act_ActTrig = DEFEND_dread_taking_high_damage
Act_ActTrig = DEFEND_dread_destroyed
Act_ActTrig = DEFEND_all_torpedoes_complete
Act_ActTrig = DEFEND_time_to_reinforcement

[Trigger]
nickname = DEFEND_time_to_reinforcement
Cnd_Destroyed = defend_fight_enemy, 6
Act_ActTrig = DEFEND_spawn_rh_reinforcement

[Trigger]
nickname = DEFEND_first_torpedo
Cnd_Timer = 20
{{ nn_22_destroy_torpedoes.set() }}
;Missouri:
{{ script.line(310) }}

Act_PlayMusic = none, none, none, music_omicron_battle

[Trigger]
nickname = DEFEND_dread_first_hit
Cnd_True = no_params
Act_ActTrig = DEFEND_dread_first_hit_torpedo1
Act_ActTrig = DEFEND_dread_first_hit_torpedo2
Act_ActTrig = DEFEND_dread_first_hit_torpedo3

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo1
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_1
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo2
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_2
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo3
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_3
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_first_hit_warning
Cnd_True = no_params
Act_DeActTrig = DEFEND_dread_first_hit_torpedo1
Act_DeActTrig = DEFEND_dread_first_hit_torpedo2
Act_DeActTrig = DEFEND_dread_first_hit_torpedo3
;Hatcher:
{{ script.line(1200) }}


[Trigger]
nickname = DEFEND_dread_taking_high_damage
Cnd_HealthDec = dread_defend, 0.35
;Hatcher:
{{ script.line(1210) }}


[Trigger]
nickname = DEFEND_dread_destroyed
Cnd_Destroyed = dread_defend, 1, EXPLODE
Act_ActTrig = DEFEND_dread_destroyed_fail
Act_DeActTrig = DEFEND_all_torpedoes_complete

[Trigger]
nickname = DEFEND_dread_destroyed_fail
Cnd_Timer = 3
Act_ChangeState = FAIL, 096110

[Trigger]
nickname = DEFEND_remove_torpedo_triggers
Cnd_True = no_params
Act_DeActTrig = DEFEND_torpedo_1_outside
Act_DeActTrig = DEFEND_torpedo_1_inside
Act_DeActTrig = DEFEND_player_hits_torpedo1
Act_DeActTrig = DEFEND_torpedo_2_outside
Act_DeActTrig = DEFEND_torpedo_2_inside
Act_DeActTrig = DEFEND_player_hits_torpedo2
Act_DeActTrig = DEFEND_torpedo_3_outside
Act_DeActTrig = DEFEND_torpedo_3_inside
Act_DeActTrig = DEFEND_player_hits_torpedo3
Act_DeActTrig = DEFEND_dread_destroyed

[Trigger]
nickname = DEFEND_all_torpedoes_complete
Cnd_Timer = 160
Act_DeActTrig = DEFEND_remove_torpedo_triggers
Act_ActTrig = DEFEND_complete_dialogs
Act_ActTrig = DEFEND_gunboats_nothing_to_do_here
Act_PlayMusic = music_omicron_danger, music_omicron_danger, music_omicron_battle

[Trigger]
nickname = DEFEND_gunboats_nothing_to_do_here
Cnd_True = no_params
Act_GiveObjList = torpedo_gunboat_1, ol_nothing_to_do_here
Act_GiveObjList = torpedo_gunboat_2, ol_nothing_to_do_here
Act_GiveObjList = torpedo_gunboat_3, ol_nothing_to_do_here

[ObjList]
nickname = ol_nothing_to_do_here
GotoVec = goto_cruise, -13000, 0, 54000, 1000, true
SetPriority = ALWAYS_EXECUTE

[Trigger]
nickname = DEFEND_complete_dialogs
Cnd_True = no_params
;Missouri:
{{ script.line(1220) }}

;Hatcher:
{{ script.line(320) }}

;Hatcher:
{{ script.line(330) }}

Act_ActTrig = JUMPOUT_init

[MsnShip]
nickname = jumpout_li_elite_1
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_2
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_3
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_4
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_5
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_1
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_2
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_3
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_4
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_5
NPC = npc_rh_fighter
label = rheinland
random_name = true

[ObjList]
nickname = ol_JUMPOUT
Avoidance = true
StayInRange = 0, 0, 70000, 3000

[Trigger]
nickname = JUMPOUT_init
{{ script.ends(330) }}
;Player:
{{ script.line(340) }}

;Hatcher:
{{ script.line(350) }}

;Alaric:
{{ script.line(360) }}

;Player:
{{ script.line(370) }}


{{ nn_23_goto_omicron_major_jumphole.set() }}
Act_ActTrig = JUMPOUT_init_battle
Act_DeActTrig = DEFEND_time_to_reinforcement

[Trigger]
nickname = JUMPOUT_init_battle
Cnd_DistShip = inside, Player, sphere_to_omicron1B, 6000
Act_SpawnShip = {{ alaric.name }}, ol_JUMPOUT, 200, 100, 69000, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_1, ol_JUMPOUT, 0, 0, 69000, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_2, ol_JUMPOUT, 0, 0, 69050, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_3, ol_JUMPOUT, 0, 0, 69100, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_4, ol_JUMPOUT, 0, 0, 69150, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_5, ol_JUMPOUT, 0, 0, 69200, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_rh_elite_1, ol_JUMPOUT, -1500, 0, 69250, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_2, ol_JUMPOUT, -1500, 0, 69200, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_3, ol_JUMPOUT, -1500, 0, 69150, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_4, ol_JUMPOUT, -1500, 0, 69100, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_5, ol_JUMPOUT, -1500, 0, 69050, 0.5, 0, -0.5, 0
Act_ActTrig = Friend_Setrep
Act_ActTrig = DEFEND_fighters_reputation
Act_ActTrig = JUMPOUT_destroy_outpost

[Trigger]
nickname = JUMPOUT_destroy_outpost
Cnd_Timer = 5
Act_LightFuse = sphere_outpost03, fuse_rmbase_xlarge
Act_ActTrig = JUMPOUT_ready_to_fly

[Trigger]
nickname = JUMPOUT_ready_to_fly
Cnd_Timer = 12
{{ nn_24_jump_to_omicron_major.set() }}
Act_SpawnShip = trap_li_elite1
Act_SpawnShip = trap_li_elite2
Act_SpawnShip = trap_li_elite3
Act_SpawnShip = trap_li_elite4
Act_ActTrig = welcome_to_omicron
Act_PlayerCanDock = false, sphere_to_omicron1B
Act_PlayMusic = none, music_omicron_danger, music_omicron_battle


;----

[MsnShip]
nickname = trap_li_elite1
NPC = npc_li_elite
label = liberty
random_name = true
jumper = true
rel_pos = 90, Player, 2000

[MsnShip]
nickname = trap_li_elite2
NPC = npc_li_elite
label = liberty
random_name = true
jumper = true
rel_pos = 190, Player, 2000

[MsnShip]
nickname = trap_li_elite3
NPC = npc_li_elite
label = liberty
random_name = true
jumper = true
rel_pos = -190, Player, 2000

[MsnShip]
nickname = trap_li_elite4
NPC = npc_li_elite
label = liberty
random_name = true
jumper = true
rel_pos = 0, Player, 2000


[NPC] 
nickname = npc_osiris
affiliation = or_grp
npc_ship_arch = ms6_osiris
voice = pilot_f_mil_m01

[MsnShip]
nickname = the_osiris
NPC = npc_osiris
label = order


[NPC] 
nickname = npc_anubis
affiliation = or_grp
npc_ship_arch = ms6_or_elite_ship
voice = pilot_f_mil_m02

[MsnShip]
nickname = anubis1
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis2
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis3
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis4
NPC = npc_anubis
label = order


;---


[Trigger]
nickname = welcome_to_omicron
Cnd_NPCSystemEnter = omicron1B, trap_li_elite1, trap_li_elite2, trap_li_elite3, trap_li_elite4, Player
Act_ActTrig = welcome_to_omicron_complete
Act_RandomPop = False
Act_ActTrig = jump_omicron_complete
Act_PlayMusic = none

[Trigger]
nickname = welcome_to_omicron_complete
Cnd_Timer = 1
Act_ActTrig = TRAP_SCENE
Act_GiveObjList = trap_li_elite1, unform_n_stop
Act_GiveObjList = trap_li_elite2, unform_n_stop
Act_GiveObjList = trap_li_elite3, unform_n_stop
Act_GiveObjList = trap_li_elite4, unform_n_stop

[Trigger]
nickname = jump_omicron_complete
Cnd_JumpInComplete = Player
Act_ActTrig = TRAP_SCENE
Act_DeActTrig = welcome_to_omicron_complete

[Trigger]
nickname = TRAP_SCENE
Cnd_Timer = 0.1
Act_ActTrig = BEGIN_TRAP_SCENE

[Trigger]
nickname = TRAP_SCENE_player_position
Cnd_True = no_params
Act_PobjIdle = no_params
Act_RelocateShip = Player, 41800, 5000, -27500, 0, 0, 1, 0

[Trigger]
nickname = BEGIN_TRAP_SCENE
Cnd_Timer = 0.1
Act_ActTrig = TRAP_SCENE_player_position
Act_RelocateShip = trap_li_elite1, 41850, 5000, -27560, 0, 0, 1, 0
Act_RelocateShip = trap_li_elite2, 41890, 5000, -27590, 0, 0, 1, 0
Act_RelocateShip = trap_li_elite3, 41750, 5000, -27540, 0, 0, 1, 0
Act_RelocateShip = trap_li_elite4, 41700, 5000, -27520, 0, 0, 1, 0
Act_ActTrig = init_OMICRON_MINOR

[Trigger]
nickname = init_OMICRON_MINOR
Cnd_Timer = 0.1
Act_ActTrig = TRAP_SCENE_player_position
Act_CallThorn = scripts\mod\m06_jumpin_camera1.thn, Player
Act_ActTrig = O_MINOR_dialog1

[Trigger]
nickname = O_MINOR_dialog1
Cnd_Timer = 2
Act_PobjIdle = no_params
;Delta-Leader:
{{ script.line(380) }}

Act_ActTrig = O_MINOR_dialog1_complete

[Trigger]
nickname = O_MINOR_dialog1_complete
{{ script.ends(380) }}
Act_ActTrig = TRAP_prepear

[Trigger]
nickname = O_MINOR_fuses
Cnd_Timer = 1
Act_PlaySoundEffect = cruise_disrupt
Act_LightFuse = Player, fuse_distrupted_engine
Act_LightFuse = trap_li_elite1, fuse_distrupted_engine
Act_LightFuse = trap_li_elite2, fuse_distrupted_engine
Act_LightFuse = trap_li_elite3, fuse_distrupted_engine
Act_LightFuse = trap_li_elite4, fuse_distrupted_engine
Act_LightFuse = Player, fuse_ms6_trapped
Act_LightFuse = trap_li_elite1, fuse_ms6_trapped
Act_LightFuse = trap_li_elite2, fuse_ms6_trapped
Act_LightFuse = trap_li_elite3, fuse_ms6_trapped
Act_LightFuse = trap_li_elite4, fuse_ms6_trapped
Act_PlayMusic = none, none, none, music_reveal_challenging

[Trigger]
nickname = TRAP_prepear
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m06_jumpin_camera2.thn, Player
Act_ActTrig = TRAP_spawn_order_ships
Act_ActTrig = O_MINOR_fuses
Act_PobjIdle = no_params
Act_ActTrig = TRAP_appearance_scene

[Trigger]
nickname = TRAP_spawn_order_ships
Cnd_True = no_params
Act_SpawnShip = the_osiris, no_ol, 41850, 5000, -27100, 1, 0, 0, 0
Act_SpawnShip = anubis1, no_ol, 41900, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis2, no_ol, 41780, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis3, no_ol, 41980, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis4, no_ol, 41690, 4980, -27320, 1, 0, 0, 0

[Trigger]
nickname = TRAP_appearance_scene
Cnd_Timer = 5
Act_CallThorn = scripts\mod\m06_order_camera3.thn, Player
Act_ActTrig = TRAP_great_uncloak
Act_ActTrig = TRAP_ord_dialog
Act_ActTrig = TRAP_loc_player

[Trigger]
nickname = TRAP_great_uncloak
Cnd_Timer = 1
Act_Cloak = the_osiris, 0
Act_ActTrig = TRAP_fighters_uncloak

[Trigger]
nickname = TRAP_fighters_uncloak
Cnd_Timer = 8
Act_Cloak = anubis1, 0
Act_Cloak = anubis2, 0
Act_ActTrig = TRAP_fighters_uncloak_tear_2

[Trigger]
nickname = TRAP_fighters_uncloak_tear_2
Cnd_Timer = 2
Act_Cloak = anubis3, 0
Act_Cloak = anubis4, 0


;test cloak camera
[;Trigger]
nickname = init_OMICRON_MINOR
Cnd_Timer = 1
Act_SpawnShip = the_osiris, no_ol, 41850, 5000, -27100, 1, 0, 0, 0
Act_SpawnShip = anubis1, no_ol, 41900, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis2, no_ol, 41780, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis3, no_ol, 41980, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis4, no_ol, 41690, 4980, -27320, 1, 0, 0, 0
Act_ActTrig = TRAP_great_uncloak


[Trigger]
nickname = TRAP_ord_dialog
Cnd_Timer = 14
;Order pilot: We got them
{{ script.line(390) }}

Act_ActTrig = TRAP_ord_dialog_complete

[Trigger]
nickname = TRAP_ord_dialog_complete
{{ script.ends(390) }}
Act_ActTrig = TRAP_syd_dialog_camera

[Trigger]
nickname = TRAP_syd_dialog_camera
Cnd_Timer = 2
Act_CallThorn = scripts\mod\m06_order_camera4.thn, Player
Act_ActTrig = TRAP_syd_dialog

[Trigger]
nickname = TRAP_syd_dialog
Cnd_Timer = 1
;Syd: Well done. We need to pick them up
{{ script.line(400) }}

Act_ActTrig = TRAP_complete


[Trigger]
nickname = TRAP_complete
{{ script.ends(400) }}
Act_LockManeuvers = false
Act_ActTrig = KLESHNYA_scene

;----

[Trigger]
nickname = KLESHNYA_scene
Cnd_Timer = 5
Act_ForceLand = sphere_cruiser_base
Act_ActTrig = OMICRON_SPACE_SCENE

[Trigger]
nickname = OMICRON_SPACE_SCENE
Cnd_LocEnter = Deck, sphere_cruiser_base
Act_AddRTC = missions\m06\omicron_rtc.ini
Act_ActTrig = CRUISER_CONVOY_SCENE
Act_ActTrig = SPHERE_CRUISER_autosave_fix

[Trigger]
nickname = SPHERE_CRUISER_autosave_fix
Cnd_BaseEnter = sphere_cruiser_base
Act_RemoveRTC = missions\m06\omicron_rtc.ini
Act_RemoveRTC = missions\m06\cruiser_deck_rtc.ini
Act_RemoveRTC = missions\m06\prison_rtc.ini
Act_AddRTC = missions\m06\cruiser_deck_launch_rtc.ini
Act_AddRTC = missions\m06\prison_launch_rtc.ini
Act_AddRTC = missions\m06\omicron_launch_rtc.ini
Act_ActTrig = PRISON_COMPLETE
repeatable = true ; loop it for next autosaves

[Trigger]
nickname = CRUISER_CONVOY_SCENE
Cnd_LocEnter = Equipment, sphere_cruiser_base
Act_AddRTC = missions\m06\cruiser_deck_rtc.ini
Act_ActTrig = PRISON_SCENE

[Trigger]
nickname = PRISON_SCENE
Cnd_LocEnter = Bar, sphere_cruiser_base
Act_AddRTC = missions\m06\prison_rtc.ini
Act_ActTrig = PRISON_NEXT_SCENE

[Trigger]
nickname = PRISON_NEXT_SCENE
Cnd_RTCDone = missions\m06\prison_rtc.ini
Act_ActTrig = PRISON_COMPLETE

;---

;---

[Trigger]
nickname = PRISON_COMPLETE
Cnd_PlayerLaunch = no_params
Act_SpawnSolar = sphere_cruiser
Act_ActTrig = LAST_launch_complete
Act_SetRep = Player, sl_grp, 0
Act_SetRep = Player, co_grp, 0

[Trigger]
nickname = LAST_launch_complete
Cnd_LaunchComplete = Player
Act_SpawnShip = nag_voice
Act_ActTrig = LAST_real_launch_complete

[Trigger]
nickname = LAST_real_launch_complete
Cnd_Timer = 1
Act_PlayerCanDock = False
;Player:
{{ script.line(410) }}

;Delta-Leader:
{{ script.line(420) }}


Act_ActTrig = GOTO_TOBAGO_init

[Trigger]
nickname = GOTO_TOBAGO_init
{{ script.ends(420) }}
{{ nn_25_goto_tobago_base.set() }}
Act_ActTrig = GOTO_TOBAGO_dialog
Act_ActTrig = GOTO_TOBAGO_around


[Trigger]
nickname = GOTO_TOBAGO_dialog
Cnd_Timer = 2


;Player:
{{ script.line(430) }}

;Delta-3:
{{ script.line(440) }}

;Delta-Leader:
{{ script.line(450) }}

;Delta-Leader:
{{ script.line(460) }}

;Delta-Leader:
{{ script.line(470) }}

;Delta-Leader:
{{ script.line(480) }}

;Player:
{{ script.line(490) }}


[Trigger]
nickname = GOTO_TOBAGO_around
Cnd_DistShip = inside, Player, co_cad_03, 4000
Act_ActTrig = TOBAGO_init
Act_Save = MS6_SECOND_UNCOMPLETE_SAVE, 096310

[Trigger]
nickname = MS6_SECOND_UNCOMPLETE_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_PobjIdle = no_params
Act_ActTrig = TOBAGO_init
Act_SpawnShip = nag_voice

[Trigger]
nickname = TOBAGO_init
Cnd_True = no_params
{{ nn_26_dock_on_tobago_base.set() }}
Act_PlayerCanDock = False, co_cad_03
Act_ActTrig = TOBAGO_inside

[Trigger]
nickname = TOBAGO_inside
Cnd_SpaceExit = no_params
Act_ActTrig = MSN_REP_AFTER
Act_ChangeState = SUCCEED




[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0.65
Act_SetRep = Player, lc_grp, 0.65
Act_SetRep = Player, rh_grp, -0.65
Act_SetRep = Player, rc_grp, -0.65
Act_SetRep = Player, rx_grp, -0.65

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, li_grp, -0.65
Act_SetRep = Player, lc_grp, -0.65
Act_SetRep = Player, bh_grp, -0.65
Act_SetRep = Player, tr_grp, -0.65
Act_SetRep = Player, sl_grp, -0.65
Act_SetRep = Player, co_grp, 0
Act_SetRep = Player, lx_grp, 0
Act_SetRep = Player, pi_grp, 0







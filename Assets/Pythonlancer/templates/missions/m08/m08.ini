[Mission]
npc_ship_file = missions\m08\npcships.ini

[NPC] 
nickname = npc_nnvoice
affiliation = li_n_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = nn_mod

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
BreakFormation = no_params

[ObjList] 
nickname = unform_n_stop
BreakFormation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 1500, -100, 50, -200

[Trigger]
nickname = friend_armor
Cnd_True = no_params
Act_Invulnerable = darcy, true

[Trigger]
nickname = Friend_Setrep
Cnd_Timer = 0.1
Act_SetVibeLblToShip = ally, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, ally, REP_FRIEND_MAXIMUM



{{ objects_definitions }}
{{ direct.define_solar_group('SOLAR_MAIN') }}

;-------------------------------------
;waypoints

{{ nn_objectives_list }}






[Trigger]
nickname = init_ms8
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms8_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever

[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = {{ vendor_planet.name }}

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;darcy: 
{{ script.line(0) }}


[Trigger]
nickname = init_objective
Cnd_True = no_params
{{ nn_meet_vendor.set_as_path() }}

[Trigger]
nickname = ms8_create_vendor
Cnd_LocEnter = Bar, {{ vendor_planet.name }}
Act_AddRTC = missions\m08\queen_rtc.ini
Act_ActTrig = ms8_do_accept
repeatable = true

;;accepted

[Trigger]
nickname = ms8_do_accept
Cnd_MsnResponse = accept
Act_DeactTrig = ms8_create_vendor
Act_RemoveRTC = missions\m08\queen_rtc.ini
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_RandomPop = false

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

{{ nn_launch.set() }}
Act_SetTitle = 098301
Act_SetOffer = 098302
Act_ActTrig = player_first_in_space

Act_ActTrig = MSN_REP_BEFORE

[Trigger]
nickname = player_first_in_space
Cnd_InSpace = true
{{ price_wales_avalon.spawn() }}
Act_ActTrig = player_first_launch_complete

[Trigger]
nickname = player_first_launch_complete
Cnd_LaunchComplete = Player
{{ nag.nag_voice }}
Act_ActTrig = Friend_Setrep
{{ direct.spawn_ship('br_avl', 'm8_darcy', darcy, ol='follow_player') }}

Act_ActTrig = first_space_dialog



;---

[Trigger]
nickname = first_space_dialog
Cnd_Timer = 2

;darcy: 
{{ script.line(10) }}

{{ nn_dock_wales.set() }}
Act_ActTrig = WARWICK_on_battleship

[Trigger]
nickname = WARWICK_on_battleship
Cnd_BaseEnter = tau44_01_base
{{ nn_prepare_and_launch.set() }}
;;; PopupDialog?
Act_ActTrig = TAU44_WALES_LAUNCH

[Trigger]
nickname = TAU44_WALES_LAUNCH
Cnd_PlayerLaunch = no_params
{{ price_wales_avalon.hide() }}
{{ price_wales_start.spawn() }}
Act_ActTrig = TAU44_WALES_LAUNCH_space_enter

[Trigger]
nickname = TAU44_WALES_LAUNCH_space_enter
Cnd_SpaceEnter = no_params
{{ price_wales_avalon.hide() }}
Act_Destroy = darcy_warwick, SILENT
Act_SpawnShip = darcy, no_ol, -5100, -50, -23000, 0, 0, -1, 0
Act_PlayerEnemyClamp = 3, 5
Act_CallThorn = scripts\mod\m08_wales_init.thn, {{ price_wales_start.name }}
Act_ActTrig = TAU44_WALES_LAUNCH_dialog
Act_ActTrig = remove_lair_turrets

[Trigger]
nickname = TAU44_WALES_LAUNCH_dialog
Cnd_Timer = 2
;brighton: 
{{ script.line(7010) }}


;brighton: 
{{ script.line(7020) }}


;brighton: 
{{ script.line(7030) }}


Act_ActTrig = TAU44_WALES_LAUNCH_dialog_complete

[Trigger]
nickname = TAU44_WALES_LAUNCH_dialog_complete
{{ script.ends(7030) }}
Act_RevertCam = no_params
Act_GiveObjList = darcy, follow_player
Act_ActTrig = init_outside_darcy

Act_ACtTrig = TAU44_EXPLORE_MISSION_init

[Trigger]
nickname = init_outside_darcy
Cnd_True = no_params
Act_ActTrig = Friend_Setrep
Act_MarkObj = darcy, 1
Act_Invulnerable = darcy, true

[Trigger]
nickname = TAU44_EXPLORE_MISSION_init
Cnd_Timer = 1

;darcy: 
{{ script.line(7060) }}


;trent: 
{{ script.line(20) }}


;darcy: 
{{ script.line(30) }}



Act_ActTrig = TAU44_EXPLORE_MISSION_first_dialog_done

[Trigger]
nickname = TAU44_EXPLORE_MISSION_first_dialog_done
{{ script.ends(20) }}

{{ nn_explore_area_waypoint1.reach() }}
Act_PObjIdle = no_params
;trent: 
{{ script.line(40) }}


;darcy: 
{{ script.line(50) }}


Act_ActTrig = TAU44_EXPLORE_MISSION_near_wp1_dialog_done

[Trigger]
nickname = TAU44_EXPLORE_MISSION_near_wp1_dialog_done
{{ script.ends(40) }}
Act_ActTrig = TAU44_EXPLORE_MISSION_explore_wp2



[Trigger]
nickname = TAU44_EXPLORE_MISSION_explore_wp2
Cnd_True = no_params

{{ nn_explore_area_waypoint2.reach() }}
Act_PObjIdle = no_params
;trent: 
{{ script.line(60) }}


;darcy: 
{{ script.line(70) }}


;trent: 
{{ script.line(80) }}


;darcy: 
{{ script.line(100) }}


;trent: 
{{ script.line(110) }}


Act_ActTrig = TAU44_EXPLORE_MISSION_near_wp2_dialog_done

[Trigger]
nickname = TAU44_EXPLORE_MISSION_near_wp2_dialog_done
{{ script.ends(100) }}

{{ nn_explore_area_waypoint3.reach() }}
Act_PObjIdle = no_params

;darcy: 
{{ script.line(120) }}


;trent: 
{{ script.line(130) }}


;darcy: 
{{ script.line(140) }}


;brighton: 
{{ script.line(150) }}


;trent: 
{{ script.line(170) }}


Act_ActTrig = TAU44_EXPLORE_MISSION_near_wp3_dialog_done

[Trigger]
nickname = TAU44_EXPLORE_MISSION_near_wp3_dialog_done
{{ script.ends(130) }}

{{ nn_explore_area_waypoint4.reach() }}
;brighton: 
{{ script.line(180) }}


;darcy: 
{{ script.line(190) }}

{{ nn_explore_area_waypoint5.reach() }}
Act_ActTrig = fix_liberty_rep
Act_ActTrig = LI_ENTER_spawn_ships
{{ nn_explore_area_waypoint6.reach() }}
Act_ActTrig = TAU44_EXPLORE_complete



[Trigger]
nickname = fix_liberty_rep
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0
Act_SetRep = Player, fc_n_grp, -1
Act_SetRep = Player, no_grp, -1




[ObjList]
nickname = li_enter_battle_zone
Avoidance = false
StayInRange = -4000, 0, 0, 1000

[ObjList]
nickname = darcy_goto_lair_entry_point
Avoidance = true
GotoVec = goto_cruise, -3200, 0, 0, 200, true
Avoidance = false
GotoVec = goto_no_cruise, -2000, 0, -10, 200, true


[Trigger]
nickname = LI_ENTER_spawn_ships
Cnd_True = no_params
{{ enter_fighter.spawn_all_slide() }}

[Trigger]
nickname = LI_ENTER_hostile
Cnd_Timer = 0.25
Act_SetVibeLblToShip = li_enter, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, li_enter, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = li_enter, darcy, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = darcy, li_enter, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = remove_lair_turrets
Cnd_True = no_params
Act_Destroy = m8_tau44_lair_platform01, SILENT
Act_Destroy = m8_tau44_lair_platform02, SILENT
Act_Destroy = m8_tau44_lair_platform03, SILENT
Act_Destroy = m8_tau44_lair_platform04, SILENT
Act_Destroy = m8_tau44_lair_platform05, SILENT
Act_Destroy = m8_tau44_lair_platform06, SILENT
Act_Destroy = m8_tau44_lair_platform07, SILENT
Act_Destroy = m8_tau44_lair_platform08, SILENT
Act_Destroy = m8_tau44_lair_platform10, SILENT
Act_Destroy = m8_tau44_lair_platform11, SILENT
Act_Destroy = m8_tau44_lair_platform12, SILENT
Act_Destroy = m8_tau44_lair_platform13, SILENT
Act_Destroy = m8_tau44_lair_platform14, SILENT
Act_Destroy = m8_tau44_lair_platform15, SILENT

[Trigger]
nickname = TAU44_EXPLORE_complete
Cnd_True = no_params
Act_PobjIdle = no_params
Act_GiveObjList = darcy, unform_n_stop
Act_ActTrig = LI_ENTER_scene

[Trigger]
nickname = LI_ENTER_scene
Cnd_True = no_params
Act_CallThorn = scripts\mod\m08_liberty_enter_camera_01.thn, Player
Act_ActTrig = LI_ENTER_relocate_players

;trent: 
{{ script.line(200) }}


;darcy: 
{{ script.line(210) }}


Act_ActTrig = LI_ENTER_scene_complete

[Trigger]
nickname = LI_ENTER_relocate_players
Cnd_Timer = 1
Act_RelocateShip = Player, -3200, 0, -1000, 0, 0, -1, 0
Act_RelocateShip = darcy, -3300, 0, -1000, 0, 0, -1, 0

[Trigger]
nickname = LI_ENTER_scene_complete
{{ script.ends(210) }}
Act_RevertCam = no_params
Act_ActTrig = LI_ENTER_init
{{ direct.save('li_enter') }}


Act_ActTrig = remove_lair_turrets
Act_RelocateShip = Player, -3200, 0, -1000, 0, 0, -1, 0
Act_SpawnShip = {{ darcy.name }}, no_ol,  -3300, 0, -1000, 0, 0, -1, 0
Act_ActTrig = init_outside_darcy
{{ nag.nag_voice }}
Act_ActTrig = LI_ENTER_spawn_ships
Act_ActTrig = LI_ENTER_init
; Act_ActTrig = LI_ENTER_scene

[Trigger]
nickname = LI_ENTER_init
Cnd_True = no_params

Act_ActTrig = LI_ENTER_hostile
Act_GiveObjList = darcy, li_enter_battle_zone
Act_GiveObjList = enter_fighter_01, li_enter_battle_zone
Act_GiveObjList = enter_fighter_02, li_enter_battle_zone
Act_GiveObjList = enter_fighter_03, li_enter_battle_zone
Act_GiveObjList = enter_fighter_04, li_enter_battle_zone
Act_PlayerEnemyClamp = 24, 26
Act_ActTrig = LI_ENTER_begin_dialog

Act_ActTrig = LI_ENTER_enemy_dead

[Trigger]
nickname = LI_ENTER_begin_dialog
Cnd_Timer = 2

;darcy: 
{{ script.line(220) }}


;trent: 
{{ script.line(230) }}



[Trigger]
nickname = LI_ENTER_enemy_dead
Cnd_Destroyed = li_enter, -1, ALL_IGNORE_LANDING
Act_GiveObjList = darcy, darcy_goto_lair_entry_point

;trent: 
{{ script.line(240) }}


;brighton: 
{{ script.line(250) }}


Act_ActTrig = TAU44_ENTER_THE_LAIR

[Trigger]
nickname = TAU44_ENTER_THE_LAIR
{{ script.ends(250) }}
Act_SetNNObj = NN_03_enter_the_lair_wp1

;trent: 
{{ script.line(270) }}


;darcy: 
{{ script.line(280) }}


Act_ActTrig = TAU44_ENTER_THE_LAIR_near_door


;---


[MsnSolar]
nickname = TAU44_outside_door_animated
faction = fc_uk_grp
system = m8_tau44
position = -1685, 0, -10
orientation = 0.5, 0, 0.5, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_enter_core_first_door_roadback
faction = fc_uk_grp
system = m8_lair_enter
position = -3700, 0, 0
orientation = 0.5, 0, 0.5, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_enter_core_last_door_animated
faction = fc_uk_grp
system = m8_lair_enter
position = 2885, 0, -1970
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_the_core_fwd_door03
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -530
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_the_core_fwd_door02
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, 55
orientation = 1,  0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_the_core_fwd_door01
faction = fc_uk_grp
system = m8_lair_core
position = 527, 0, 575
orientation = 0.737, 0, 0.676, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_the_core_fwd_door04
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -1770
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_the_core_roadback_door00
faction = fc_uk_grp
system = m8_lair_core
position = 1130, 0, 590
orientation = 0.707, 0, 0.707, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_the_core_roadback_door01
faction = fc_uk_grp
system = m8_lair_core
position = 527, 0, 575
orientation = 0.737, 0, 0.676, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_the_core_roadback_door02
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, 55
orientation = 1,  0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_the_core_roadback_door03
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -530
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_the_core_roadback_door04
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -1770
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0

[MsnSolar]
nickname = TAU44_the_core_fwd_door05
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -2380
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_escape_fwd_door02
faction = fc_uk_grp
system = m8_lair_escape
position = -8270, 0, 6310
orientation = 1, 0, 0, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_lair_exit_door_open_anim
faction = fc_uk_grp
system = m8_tau44
position = 1730, 0, -10
orientation = 0.5, 0, 0.5, 0
archetype = lair_anim_door
loadout = lair_airlock_door_open_forever
radius = 0

[MsnSolar]
nickname = TAU44_lair_exit_door_close_back
faction = fc_uk_grp
system = m8_tau44
position = 1730, 0, -10
orientation = 0.5, 0, 0.5, 0
archetype = lair_anim_door
loadout = lair_airlock_door_close_forever_snd
radius = 0



;---


[Trigger]
nickname = TAU44_ENTER_THE_LAIR_near_door
Cnd_DistVec = inside, Player, -1685, 0, -10, 200
Act_Destroy = m8_tau44_door01, SILENT
Act_SpawnSolar = TAU44_outside_door_animated
Act_PlaySoundEffect = lair_door_open
Act_SetNNObj = NN_03_enter_the_lair_wp2
Act_PlayerCanDock = false, m8_tau44_airlock01
Act_ActTrig = TAU44_ENTER_THE_LAIR_activate_airlock

[Trigger]
nickname = TAU44_ENTER_THE_LAIR_activate_airlock
Cnd_DistVec = inside, Player, -1360, 0, -10, 250
Act_DockRequest = m8_tau44_airlock01
Act_ActTrig = TAU44_LAIR_ENTER_welcome

;----

[Trigger]
nickname = TAU44_LAIR_ENTER_welcome
Cnd_SystemEnter = m8_lair_enter
Act_SetNNObj = NN_04_go_through_entry_tunnels
Act_ActTrig = TAU44_LAIR_ENTER_begin_mission
Act_ActTrig = TAU44_LAIR_ENTER_close_first_door

[Trigger]
nickname = TAU44_LAIR_ENTER_close_first_door
Cnd_DistVec = inside, Player, -3200, 0, 0, 400
Act_Destroy = m8_lair_enter_airlock_door01, SILENT
Act_ActTrig = TAU44_LAIR_ENTER_close_first_door_delay

[Trigger]
nickname = TAU44_LAIR_ENTER_close_first_door_delay
Cnd_Timer = 0.001
Act_SpawnSolar = TAU44_enter_core_first_door_roadback

[Trigger]
nickname = TAU44_LAIR_ENTER_begin_mission
Cnd_True = no_params
{{ locked_door.spawn() }}
{{ locked_door.invulnerable() }}
Act_ActTrig = TAU44_LAIR_ENTER_darcy_dialog_its_nomad
Act_ActTrig = TAU44_LAIR_ENTER_darcy_dialog_gravitation
Act_ActTrig = TAU44_LAIR_ENTER_darcy_dialog_mill
Act_ActTrig = TAU44_LAIR_ENTER_near_locked_door

[Trigger]
nickname = TAU44_LAIR_ENTER_darcy_dialog_gravitation
Cnd_DistVec = inside, Player, -3700, 0, 0, 200
;darcy: 
{{ script.line(4900) }}


[Trigger]
nickname = TAU44_LAIR_ENTER_darcy_dialog_its_nomad
Cnd_DistVec = inside, Player, -2710, 0, 0, 500
;darcy: 
{{ script.line(290) }}


;trent: 
{{ script.line(300) }}


;darcy: 
{{ script.line(310) }}



[Trigger]
nickname = TAU44_LAIR_ENTER_darcy_dialog_mill
Cnd_DistVec = inside, Player, 1360, 0, 915, 800
;darcy: 
{{ script.line(4910) }}


[ObjList]
nickname = ol_darcy_locked_door_scene
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 2940, 0, -1070, 10, true

[Trigger]
nickname = TAU44_LAIR_ENTER_near_locked_door
Cnd_DistShip = inside, Player, TAU44_human_locked_door, 200
Act_PObjIdle = no_params
Act_RelocateShip = Player, 2885, 0, -1050, 1, 0, 0, 0
Act_SpawnShip = darcy, ol_darcy_locked_door_scene, 2940, 0, -930, 1, 0, 0, 0
Act_CallThorn = scripts\mod\m08_lair_enter_door_01.thn, Player
Act_ActTrig = TAU44_LAIR_ENTER_near_locked_door_dialog_done

;trent: 
{{ script.line(320) }}


;darcy: 
{{ script.line(330) }}


;trent: 
{{ script.line(340) }}


;darcy: 
{{ script.line(350) }}


;trent: 
{{ script.line(360) }}


[Trigger]
nickname = TAU44_LAIR_ENTER_near_locked_door_dialog_done
{{ script.ends(360) }}
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_Invulnerable = TAU44_human_locked_door, false
Act_SetNNObj = NN_04_destroy_locked_door
Act_SetVibe = Player, TAU44_human_locked_door, REP_HOSTILE_MAXIMUM
Act_SetVibe = TAU44_human_locked_door, Player, REP_HOSTILE_MAXIMUM
Act_ActTrig = TAU44_LAIR_ENTER_locked_door_destroyed

[Trigger]
nickname = TAU44_LAIR_ENTER_locked_door_destroyed
Cnd_Destroyed = TAU44_human_locked_door
Act_SetNNObj = NN_04_proceed_to_core
Act_ActTrig = TAU44_BEFORE_THE_CORE_near_door

[Trigger]
nickname = TAU44_BEFORE_THE_CORE_near_door
Cnd_DistVec = inside, Player, 2885, 0, -1970, 200
Act_Destroy = m8_lair_enter_airlock_door03, SILENT
Act_SpawnSolar = TAU44_enter_core_last_door_animated
Act_PlaySoundEffect = lair_door_open
Act_PlayerCanDock = false, m8_lair_enter_airlock02
Act_ActTrig = TAU44_BEFORE_THE_CORE_activate_airlock

[Trigger]
nickname = TAU44_BEFORE_THE_CORE_activate_airlock
Cnd_DistVec = inside, Player, 2885, 0, -2300, 250
Act_DockRequest = m8_lair_enter_airlock02
Act_ActTrig = TAU44_LAIR_THE_CORE_welcome

[Trigger]
nickname = TAU44_LAIR_THE_CORE_welcome
Cnd_SystemEnter = m8_lair_core
Act_SetNNObj = NN_05_go_to_core
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door00
Act_ActTrig = TAU44_LAIR_THE_CORE_through_door01
Act_ActTrig = TAU44_LAIR_THE_CORE_through_door02
Act_ActTrig = TAU44_LAIR_THE_CORE_through_door03
Act_ActTrig = TAU44_LAIR_THE_CORE_init_scene




[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door00
Cnd_DistVec = inside, Player, 630, 0, 590, 400
Act_Destroy = m8_lair_core_door00, SILENT
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door01_delay

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door01_delay
Cnd_Timer = 0.1
Act_SpawnSolar = TAU44_the_core_roadback_door00


[Trigger]
nickname = TAU44_LAIR_THE_CORE_through_door01
Cnd_DistShip = inside, Player, m8_lair_core_door01, 300
Act_Destroy = m8_lair_core_door01, SILENT
Act_SpawnSolar = TAU44_the_core_fwd_door01
Act_PlaySoundEffect = lair_door_open
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door01


[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door01
Cnd_DistVec = inside, Player, 130, 0, 290, 400
Act_Destroy = m8_lair_core_door01, SILENT
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door01_delay

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door01_delay
Cnd_Timer = 0.1
Act_SpawnSolar = TAU44_the_core_roadback_door01


[Trigger]
nickname = TAU44_LAIR_THE_CORE_through_door02
Cnd_DistShip = inside, Player, m8_lair_core_door02, 300
Act_Destroy = m8_lair_core_door02, SILENT
Act_SpawnSolar = TAU44_the_core_fwd_door02
Act_PlaySoundEffect = lair_door_open



[Trigger]
nickname = TAU44_LAIR_THE_CORE_open_door03
Cnd_True = no_params
Act_Destroy = m8_lair_core_door03, SILENT
Act_SpawnSolar = TAU44_the_core_fwd_door03
Act_PlaySoundEffect = lair_door_open

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door03
Cnd_True = no_params
Act_Destroy = TAU44_the_core_fwd_door03, SILENT
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door03_delay

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door03_delay
Cnd_Timer = 0.1
Act_SpawnSolar = TAU44_the_core_roadback_door03



; cam1 - core entry
; cam2 - tilton cruiser
; cam3 - trent
; cam4 - darcy
; cam5 - power cell aim
; cam6 - cruiser
; cam7 - cruiser fireshot
; cam8 - lair_description
; cam9 - lair_fx


[Trigger]
nickname = TAU44_LAIR_THE_CORE_through_door03
Cnd_DistShip = inside, Player, m8_lair_core_door03, 500
Act_PObjIdle = no_params
Act_CallThorn = scripts\mod\m08_core_camera_01.thn, Player
Act_RelocateShip = Player, 0, -500, -1110, 1, 0, 0, 0

Act_ActTrig = CORE_LOADING_open_the_door


[Trigger]
nickname = CORE_LOADING_open_the_door
Cnd_Timer = 1

Act_ActTrig = TAU44_LAIR_THE_CORE_open_door03
Act_ActTrig = CORE_LOADING_entry_dialog


[Trigger]
nickname = CORE_LOADING_entry_dialog
Cnd_Timer = 1

;darcy: 
{{ script.line(370) }}


;trent: 
{{ script.line(380) }}


Act_ActTrig = CORE_LOADING_tilton_greetings

[Trigger]
nickname = CORE_LOADING_tilton_greetings
{{ script.ends(380) }}
Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

Act_SpawnShip = darcy, no_ol, 0, 0, -780, 1, 0, 0, 0
Act_RelocateShip = Player, -20, 0, -773, 1, 0, 0, 0

;tilton: 
{{ script.line(390) }}


Act_ActTrig = CORE_LOADING_trent_greetings


[Trigger]
nickname = CORE_LOADING_trent_greetings
{{ script.ends(390) }}
Act_CallThorn = scripts\mod\m08_core_camera_03.thn, Player

Act_ActTrig = TAU44_LAIR_THE_CORE_close_door03

;trent: 
{{ script.line(400) }}


Act_ActTrig = CORE_LOADING_tilton_keepsafe_warning

[Trigger]
nickname = CORE_LOADING_tilton_keepsafe_warning
{{ script.ends(400) }}

; Act_ActTrig = THE_CORE_FIRE_scene
; [;

Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

;tilton: 
{{ script.line(410) }}


Act_ActTrig = CORE_LOADING_darcy_meet_tilton_reaction

[Trigger]
nickname = CORE_LOADING_darcy_meet_tilton_reaction
{{ script.ends(410) }}
Act_CallThorn = scripts\mod\m08_core_camera_04.thn, darcy

;darcy: 
{{ script.line(420) }}


Act_ActTrig = CORE_LOADING_trent_ask_be_quiet

[Trigger]
nickname = CORE_LOADING_trent_ask_be_quiet
{{ script.ends(420) }}
Act_CallThorn = scripts\mod\m08_core_camera_03.thn, Player

;trent: 
{{ script.line(430) }}


Act_ActTrig = CORE_LOADING_tilton_check_loading_state

[Trigger]
nickname = CORE_LOADING_tilton_check_loading_state
{{ script.ends(430) }}
Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

;tilton: 
{{ script.line(440) }}


Act_ActTrig = CORE_LOADING_captain_loading_40_pct

[Trigger]
nickname = CORE_LOADING_captain_loading_40_pct
{{ script.ends(440) }}
Act_CallThorn = scripts\mod\m08_core_camera_06.thn, Player

;captain: 
{{ script.line(450) }}


Act_ActTrig = CORE_LOADING_tilton_msn_description

[Trigger]
nickname = CORE_LOADING_tilton_msn_description
{{ script.ends(450) }}
Act_CallThorn = scripts\mod\m08_core_camera_08.thn, core_power_cell

;tilton: 
{{ script.line(460) }}


;tilton: 
{{ script.line(470) }}


;tilton: 
{{ script.line(480) }}


;tilton: 
{{ script.line(490) }}


;tilton: 
{{ script.line(500) }}


Act_ActTrig = CORE_LOADING_cruiser_gun_loaded

[Trigger]
nickname = CORE_LOADING_cruiser_gun_loaded
{{ script.ends(500) }}
Act_CallThorn = scripts\mod\m08_core_camera_06.thn, Player

;captain: 
{{ script.line(510) }}


Act_ActTrig = CORE_LOADING_tilton_historical_moment

[Trigger]
nickname = CORE_LOADING_tilton_historical_moment
{{ script.ends(510) }}
Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

;tilton: 
{{ script.line(520) }}


Act_ActTrig = CORE_LOADING_darcy_tilton_is_insane

[Trigger]
nickname = CORE_LOADING_darcy_tilton_is_insane
{{ script.ends(520) }}
Act_CallThorn = scripts\mod\m08_core_camera_04.thn, darcy

;darcy: 
{{ script.line(530) }}


Act_ActTrig = CORE_LOADING_trent_tilton_are_you_sure

[Trigger]
nickname = CORE_LOADING_trent_tilton_are_you_sure
{{ script.ends(530) }}
Act_CallThorn = scripts\mod\m08_core_camera_03.thn, Player

;trent: 
{{ script.line(540) }}


Act_ActTrig = CORE_LOADING_tilton_fire_command

[Trigger]
nickname = CORE_LOADING_tilton_fire_command
{{ script.ends(540) }}
Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

;tilton: 
{{ script.line(550) }}


Act_ActTrig = CORE_LOADING_captain_not_really_sure

[Trigger]
nickname = CORE_LOADING_captain_not_really_sure
{{ script.ends(550) }}
Act_CallThorn = scripts\mod\m08_core_camera_06.thn, Player

;captain: 
{{ script.line(560) }}


Act_ActTrig = CORE_LOADING_tilton_force_fire_command

[Trigger]
nickname = CORE_LOADING_tilton_force_fire_command
{{ script.ends(560) }}
Act_CallThorn = scripts\mod\m08_core_camera_02.thn, Player

;tilton: 
{{ script.line(570) }}


Act_ActTrig = CORE_LOADING_complete

[Trigger]
nickname = CORE_LOADING_complete
{{ script.ends(570) }}
Act_ActTrig = THE_CORE_FIRE_scene




[MsnSolar]
nickname = core_main_light01
faction = fc_uk_grp
system = m8_lair_core
position = 0, 100, -950
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_core_destruction_lightsource01
radius = 0

[MsnSolar]
nickname = core_main_light02
faction = fc_uk_grp
system = m8_lair_core
position = 0, 99, -950
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_core_destruction_lightsource02
radius = 0

[MsnSolar]
nickname = core_main_light_nomad
faction = fc_uk_grp
system = m8_lair_core
position = 1, -2, -1119
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_core_destruction_lightsource_nomad
radius = 0




[MsnSolar]
nickname = core_main_power01
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0.01, -1119
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_core_destruction_core_base_fx
radius = 0

[MsnSolar]
nickname = core_extended_power01
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0.02, -1119
orientation = 0.5, 0, 0.5, 0
archetype = space_hidden_root
loadout = lair_core_destruction_core_simple_reactor
radius = 0

[MsnSolar]
nickname = core_expl_root01
faction = fc_uk_grp
system = m8_lair_core
position = -1, -0.02, -1119
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = core_expl_root02
faction = fc_uk_grp
system = m8_lair_core
position = 1, -0.03, -1119
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = core_expl_root03
faction = fc_uk_grp
system = m8_lair_core
position = 1, 0.03, -1119
orientation = 0.66, 0, 0.33, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = core_expl_root04
faction = fc_uk_grp
system = m8_lair_core
position = -1, 0.03, -1119
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = core_expl_root05
faction = fc_uk_grp
system = m8_lair_core
position = 1, 0.05, -1120
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0


[MsnSolar]
nickname = core_cruiser_lazer
faction = fc_n_grp
system = m8_lair_escape
position = 60, -250, -900
orientation = 0.707, 0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound
radius = 0

[MsnSolar]
nickname = core_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -150, -250, -1200
orientation = 0.707, 0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound
radius = 0

[MsnSolar]
nickname = core_lazer02
faction = fc_n_grp
system = m8_lair_escape
position = 50, 250, -1300
orientation = 0.707, -0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound
radius = 0

[MsnSolar]
nickname = core_lazer03
faction = fc_n_grp
system = m8_lair_escape
position = -100, 250, -900
orientation = 0.707, -0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound
radius = 0



[MsnSolar]
nickname = core_power_cell
faction = fc_uk_grp
system = m8_lair_core
position = 0, 0, -1119
orientation = 1, 0, 0, 0
archetype = lair_power_cell_large
radius = 0
label = the_cell




[Trigger]
nickname = TAU44_LAIR_THE_CORE_init_scene
Cnd_DistVec = inside, Player, 0, 0, -1119, 1200


Act_ActTrig = fix_liberty_rep
Act_ActTrig = THE_CORE_spawn_main_core_ships


[Trigger]
nickname = THE_CORE_spawn_main_core_ships
Cnd_True = no_params

Act_SpawnSolar = core_power_cell
{{ direct.spawn_capital_group('m8_lair_core', 'CORE_CAP') }}

{{ direct.spawn_ship_member('m8_lair_core', 'sh1', core_fighter.member_obj(1)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh2', core_fighter.member_obj(2)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh3', core_fighter.member_obj(3)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh4', core_fighter.member_obj(4)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh5', core_fighter.member_obj(5)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh6', core_fighter.member_obj(6)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh7', core_fighter.member_obj(7)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh8', core_fighter.member_obj(8)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh9', core_fighter.member_obj(9)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh10', core_fighter.member_obj(10)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh11', core_fighter.member_obj(11)) }}
{{ direct.spawn_ship_member('m8_lair_core', 'sh12', core_fighter.member_obj(12)) }}

;Act_ActTrig = THE_CORE_scene





; TEMPORARY?
[Trigger]
nickname = THE_CORE_explosion
Cnd_Timer = 5

Act_ActTrig = CORE_DEATH_stage1
Act_ActTrig = CORE_DEATH_stage2


Act_ActTrig = CORE_DEATH_expls


[Trigger]
nickname = CORE_DEATH_stage1
Cnd_True = no_params
Act_SpawnSolar = core_main_power01
Act_ActTrig = CORE_DEATH_stage1_light

[Trigger]
nickname = CORE_DEATH_stage1_light
Cnd_Timer = 0.5
Act_SpawnSolar = core_main_light01
[Trigger]
nickname = CORE_DEATH_stage2
Cnd_True = no_params
Act_SpawnSolar = core_extended_power01
Act_Destroy = core_main_light01, SILENT
Act_SpawnSolar = core_main_light02

[Trigger]
nickname = CORE_DEATH_expls
Cnd_True = no_params

; Act_PlayMusic = none, none, none, music_omicron_battle
; Act_ActTrig = CORE_DEATH_countdown

Act_SpawnSolar = core_expl_root01
Act_SpawnSolar = core_expl_root02
Act_SpawnSolar = core_expl_root03
Act_SpawnSolar = core_expl_root04
Act_SpawnSolar = core_expl_root05
Act_LightFuse = core_expl_root01, fuse_lair_core_explosions
Act_ActTrig = CORE_DEATH_expls2

; Act_ActTrig = THE_CORE_scene_complete

[Trigger]
nickname = CORE_DEATH_expls2
Cnd_Timer = 15
Act_LightFuse = core_expl_root02, fuse_lair_core_explosions
Act_ActTrig = CORE_DEATH_expls3

[Trigger]
nickname = CORE_DEATH_expls3
Cnd_Timer = 14
Act_LightFuse = core_expl_root03, fuse_lair_core_explosions
Act_ActTrig = CORE_DEATH_expls4

[Trigger]
nickname = CORE_DEATH_expls4
Cnd_Timer = 14
Act_LightFuse = core_expl_root04, fuse_lair_core_explosions
Act_ActTrig = CORE_DEATH_expls5

[Trigger]
nickname = CORE_DEATH_expls5
Cnd_Timer = 14
Act_LightFuse = core_expl_root05, fuse_lair_core_explosions2

[Trigger]
nickname = CORE_DEATH_cleanup
Cnd_True = no_params
Act_DeActTrig = CORE_DEATH_stage1
Act_DeActTrig = CORE_DEATH_stage2
Act_DeActTrig = CORE_DEATH_expls
Act_DeActTrig = CORE_DEATH_expls2
Act_DeActTrig = CORE_DEATH_expls3
Act_DeActTrig = CORE_DEATH_expls4
Act_DeActTrig = CORE_DEATH_expls5
Act_Destroy = core_main_power01, SILENT
Act_Destroy = core_main_light01, SILENT
Act_Destroy = core_expl_root01, SILENT
Act_Destroy = core_expl_root02, SILENT
Act_Destroy = core_expl_root03, SILENT
Act_Destroy = core_expl_root04, SILENT
Act_Destroy = core_expl_root05, SILENT
Act_Destroy = core_power_cell, SILENT





[Trigger]
nickname = THE_CORE_FIRE_scene
Cnd_True = no_params
Act_CallThorn = scripts\mod\m08_core_camera_07.thn, core_power_cell
Act_ActTrig = CRUISER_DO_FIRE
Act_ActTrig = CRUISER_DID_HIT

Act_Destroy = darcy, SILENT


[Trigger]
nickname = CRUISER_DO_FIRE
Cnd_Timer = 1
Act_SetVibe = core_cruiser1, core_power_cell, REP_HOSTILE_MAXIMUM
Act_SetVibe = core_power_cell, core_cruiser1, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = CRUISER_DID_HIT
Cnd_HealthDec = core_power_cell, 0.999
Act_ActTrig = CRUISER_STOP_FIRE
Act_ActTrig = CORE_lair_death_wakeup_cam

[Trigger]
nickname = CORE_lair_death_wakeup_cam
Cnd_Timer = 1.5
Act_CallThorn = scripts\mod\m08_core_camera_09.thn, core_power_cell

[Trigger]
nickname = CRUISER_STOP_FIRE
Cnd_Timer = 2
Act_SetVibe = core_cruiser1, core_power_cell, REP_NEUTRAL
Act_SetVibe = core_power_cell, core_cruiser1, REP_NEUTRAL
Act_GiveObjList = core_cruiser1, force_stop
Act_ActTrig = CORE_wake_up_lair

[Trigger]
nickname = CORE_wake_up_lair
Cnd_Timer = 1
Act_PlayMusic = none, none, none, music_omicron_space
Act_ActTrig = CORE_DEATH_stage1
Act_ActTrig = CORE_lair_strange_sound
Act_ActTrig = CORE_lair_overpowered

[Trigger]
nickname = CORE_lair_strange_sound
Cnd_Timer = 5
Act_PlaySoundEffect = cloak_no_battleship

[Trigger]
nickname = CORE_lair_overpowered
Cnd_Timer = 12
Act_ActTrig = CORE_DEATH_stage2
Act_ActTrig = CORE_lair_init_damage

[Trigger]
nickname = CORE_lair_init_damage
Cnd_Timer = 10
Act_PlayMusic = none, none, none, music_omicron_danger
Act_ActTrig = CORE_DEATH_expls
Act_ActTrig = CORE_lazers

[Trigger]
nickname = CORE_lazers
Cnd_Timer = 3
Act_ActTrig = CORE_DEATH_lazer01
Act_ActTrig = CORE_DEATH_lazer02
Act_ActTrig = CORE_DEATH_lazer03
Act_ActTrig = CRUISER_death_lazer

Act_ActTrig = KILL_core_fighter_01
Act_ActTrig = KILL_core_fighter_02
Act_ActTrig = KILL_core_fighter_03
Act_ActTrig = KILL_core_fighter_04
Act_ActTrig = KILL_core_fighter_05
Act_ActTrig = KILL_core_fighter_06
Act_ActTrig = KILL_core_fighter_07
Act_ActTrig = KILL_core_fighter_08
Act_ActTrig = KILL_core_fighter_09
Act_ActTrig = KILL_core_fighter_10
Act_ActTrig = KILL_core_fighter_11
Act_ActTrig = KILL_core_fighter_12



[Trigger]
nickname = CORE_DEATH_lazer01
Cnd_Timer = 1.5
Act_SpawnSolar = core_lazer01
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = CORE_DEATH_lazer01_turn_off

[Trigger]
nickname = CORE_DEATH_lazer02
Cnd_True = no_params
Act_SpawnSolar = core_lazer02
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = CORE_DEATH_lazer02_turn_off

[Trigger]
nickname = CORE_DEATH_lazer03
Cnd_Timer = 3
Act_SpawnSolar = core_lazer03
Act_PlaySoundEffect = fire_missile_emp_m8
{{ core_cruiser2.fuse('li_cruiser_body_fuse') }}
{{ core_cruiser3.fuse('li_cruiser_body_fuse') }}
Act_ActTrig = CORE_DEATH_lazer03_turn_off

[Trigger]
nickname = CRUISER_death_lazer
Cnd_Timer = 2
Act_SpawnSolar = core_cruiser_lazer
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = CRUISER_death_lazer_hit

[Trigger]
nickname = CRUISER_death_lazer_hit
Cnd_Timer = 0.35
{{ core_cruiser1.fuse('li_cruiser_body_fuse') }}
Act_PlayMusic = none, none, none, music_omicron_battle
Act_ActTrig = CORE_DEATH_cruiser_lazer_turn_off
Act_ActTrig = CORE_main_cruiser_destroyed

[Trigger]
nickname = CORE_DEATH_cruiser_lazer_turn_off
Cnd_Timer = 0.5
Act_Destroy = core_cruiser_lazer, SILENT


[Trigger]
nickname = CORE_DEATH_lazer01_turn_off
Cnd_Timer = 1
Act_Destroy = core_lazer01, SILENT

[Trigger]
nickname = CORE_DEATH_lazer02_turn_off
Cnd_Timer = 2
Act_Destroy = core_lazer02, SILENT

[Trigger]
nickname = CORE_DEATH_lazer03_turn_off
Cnd_Timer = 2
Act_Destroy = core_lazer03, SILENT






[Trigger]
nickname = KILL_core_fighter_01
Cnd_Timer = 1
{{ core_fighter.destroy_member(1) }}

[Trigger]
nickname = KILL_core_fighter_02
Cnd_Timer = 1.5
{{ core_fighter.destroy_member(2) }}

[Trigger]
nickname = KILL_core_fighter_03
Cnd_Timer = 2
{{ core_fighter.destroy_member(3) }}

[Trigger]
nickname = KILL_core_fighter_04
Cnd_Timer = 1.3
{{ core_fighter.destroy_member(4) }}

[Trigger]
nickname = KILL_core_fighter_05
Cnd_Timer = 2
{{ core_fighter.destroy_member(5) }}

[Trigger]
nickname = KILL_core_fighter_06
Cnd_Timer = 3
{{ core_fighter.destroy_member(6) }}

[Trigger]
nickname = KILL_core_fighter_07
Cnd_Timer = 2.3
{{ core_fighter.destroy_member(7) }}

[Trigger]
nickname = KILL_core_fighter_08
Cnd_Timer = 2.6
{{ core_fighter.destroy_member(8) }}

[Trigger]
nickname = KILL_core_fighter_09
Cnd_Timer = 3
{{ core_fighter.destroy_member(9) }}

[Trigger]
nickname = KILL_core_fighter_10
Cnd_Timer = 4
{{ core_fighter.destroy_member(10) }}

[Trigger]
nickname = KILL_core_fighter_11
Cnd_Timer = 3.3
{{ core_fighter.destroy_member(11) }}

[Trigger]
nickname = KILL_core_fighter_12
Cnd_Timer = 1.3
{{ core_fighter.destroy_member(12) }}


[Trigger]
nickname = CORE_main_cruiser_destroyed
; Cnd_Destroyed = core_cruiser
Cnd_Timer = 3
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = THE_CORE_scene_complete
Act_ActTrig = CORE_DEATH_countdown


[Trigger]
nickname = CORE_DEATH_countdown
Cnd_Timer = 60
Act_ChangeState = FAIL, 97154



[Trigger]
nickname = THE_CORE_scene_complete
Cnd_True = no_params
Act_SetNNObj = NN_05_the_core_escape_wp1
Act_ActTrig = TAU44_LAIR_THE_CORE_through_door04
Act_ActTrig = TAU44_LAIR_THE_CORE_final_door

Act_ActTrig = THE_CORE_explosion_fly_out_dialog

[Trigger]
nickname = THE_CORE_explosion_fly_out_dialog
Cnd_Timer = 1

;darcy: 
{{ script.line(580) }}


;trent: 
{{ script.line(590) }}







[Trigger]
nickname = TAU44_LAIR_THE_CORE_through_door04
Cnd_DistShip = inside, Player, m8_lair_core_door04, 250
Act_Destroy = m8_lair_core_door04, SILENT
Act_SpawnSolar = TAU44_the_core_fwd_door04
Act_PlaySoundEffect = lair_door_open
Act_SetNNObj = NN_05_the_core_escape_wp2
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door04

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door04
Cnd_DistVec = inside, Player, 0, 0, -2350, 450
Act_Destroy = TAU44_the_core_fwd_door04, SILENT
Act_ActTrig = TAU44_LAIR_THE_CORE_close_door04_delay

[Trigger]
nickname = TAU44_LAIR_THE_CORE_close_door04_delay
Cnd_Timer = 0.1
Act_SpawnSolar = TAU44_the_core_roadback_door04



[Trigger]
nickname = TAU44_LAIR_THE_CORE_final_door
Cnd_DistVec = inside, Player, 0, 0, -2380, 300
Act_Destroy = m8_lair_core_door05, SILENT
Act_SpawnSolar = TAU44_the_core_fwd_door05
Act_PlaySoundEffect = lair_door_open
Act_DeActTrig = CORE_DEATH_countdown

; Act_SetNNObj = NN_03_enter_the_lair_wp2
Act_PlayerCanDock = false, m8_lair_core_airlock02
Act_ActTrig = TAU44_LAIR_THE_CORE_activate_airlock

[Trigger]
nickname = TAU44_LAIR_THE_CORE_activate_airlock
Cnd_DistVec = inside, Player, 0, 0, -2700, 250
Act_ActTrig = CORE_DEATH_cleanup
Act_DockRequest = m8_lair_core_airlock02
Act_ActTrig = TAU44_LAIR_ESCAPE_welcome



[Trigger]
nickname = TAU44_LAIR_ESCAPE_welcome
Cnd_SystemEnter = m8_lair_escape
Act_PlayMusic = none, none, none, music_omicron_danger
Act_ActTrig = ESCAPE_run_splash

[Trigger]
nickname = ESCAPE_run_splash
Cnd_True = no_params


Act_PlayMusic = none, none, none, music_omicron_danger

Act_ActTrig = section01_inside
Act_ActTrig = section02_inside
Act_ActTrig = section03_inside
Act_ActTrig = section04_inside
Act_ActTrig = section05_inside
Act_ActTrig = section05_leaved
Act_ActTrig = section05_around_door

Act_ActTrig = section07_inside
Act_ActTrig = section08_inside
Act_ActTrig = section09_inside
Act_ActTrig = section10_inside
Act_ActTrig = section11_inside
Act_ActTrig = section12_inside

Act_SetNNObj = NN_06_escape_the_lair
Act_ActTrig = ESCAPE_last_door

[Trigger]
nickname = ESCAPE_clean_up
Cnd_True = no_params

Act_DeActTrig = section01_inside
Act_DeActTrig = section02_inside
Act_DeActTrig = section03_inside
Act_DeActTrig = section04_inside
Act_DeActTrig = section05_inside
Act_DeActTrig = section05_leaved
Act_DeActTrig = section05_around_door

Act_DeActTrig = section07_inside
Act_DeActTrig = section08_inside
Act_DeActTrig = section09_inside
Act_DeActTrig = section10_inside
Act_DeActTrig = section11_inside
Act_DeActTrig = section12_inside

Act_DeActTrig = section01_back
Act_DeActTrig = section02_back
Act_DeActTrig = section03_back
Act_DeActTrig = section04_back
Act_DeActTrig = section05_back

Act_Destroy = section01_lazer01, SILENT
Act_Destroy = section01_lazer02, SILENT
Act_Destroy = section01_explode01, SILENT
Act_Destroy = section01_explode02, SILENT
Act_Destroy = section01_explode03, SILENT
Act_Destroy = section02_explode01, SILENT
Act_Destroy = section03_explode01, SILENT
Act_Destroy = section03_explode02, SILENT

Act_Destroy = section04_explode01, SILENT
Act_Destroy = section04_explode02, SILENT
Act_Destroy = section04_explode03, SILENT
Act_Destroy = section04_explode04, SILENT
Act_Destroy = section05_lazer01, SILENT
Act_Destroy = section05_explode01, SILENT
Act_Destroy = section05_explode02, SILENT
Act_Destroy = section05_wait_explode01, SILENT
Act_Destroy = section05_wait_explode02, SILENT
Act_Destroy = section05_wait_explode03, SILENT
Act_Destroy = section05_wait_explode04, SILENT
Act_Destroy = section05_wait_explode05, SILENT

Act_Destroy = section08_explode01, SILENT
Act_Destroy = section08_explode02, SILENT
Act_Destroy = section08_explode03, SILENT
Act_Destroy = section08_explode04, SILENT
Act_Destroy = section08_explode05, SILENT
Act_Destroy = section08_explode06, SILENT
Act_Destroy = section08_lazer01, SILENT
Act_Destroy = section09_explode01, SILENT
Act_Destroy = section09_explode02, SILENT
Act_Destroy = section09_explode03, SILENT
Act_Destroy = section10_lazerlight01, SILENT
Act_Destroy = section10_lazer01, SILENT
Act_Destroy = section10_lazer02, SILENT
Act_Destroy = section11_explode01, SILENT
Act_Destroy = section11_explode02, SILENT
Act_Destroy = section11_lazer01, SILENT
Act_Destroy = section11_lazer02, SILENT
Act_Destroy = section11_lazer03, SILENT
Act_Destroy = section11_explode03, SILENT
Act_Destroy = section11_explode04, SILENT
Act_Destroy = section11_explode05, SILENT
Act_Destroy = section12_greenlight01, SILENT
Act_Destroy = section12_greenfx01, SILENT



[Trigger]
nickname = ESCAPE_DIALOG_darcy_01
Cnd_True = no_params
;darcy: 
{{ script.line(5000) }}


[Trigger]
nickname = ESCAPE_DIALOG_darcy_02
Cnd_True = no_params
;darcy: 
{{ script.line(5010) }}


[Trigger]
nickname = ESCAPE_DIALOG_darcy_03
Cnd_True = no_params
;darcy: 
{{ script.line(5020) }}


[Trigger]
nickname = ESCAPE_DIALOG_darcy_04
Cnd_True = no_params
;darcy: 
{{ script.line(5030) }}




[Trigger]
nickname = section01_inside
Cnd_DistVec = inside, Player, -4400, 0, 0, 200
Act_PlayMusic = none, none, none, music_omicron_battle
Act_SpawnSolar = section01_explode01
Act_ActTrig = section01_dmg2
Act_ActTrig = section01_dmg3
Act_ActTrig = section01_dmg4
Act_ActTrig = section01_dmg5
; Act_ActTrig = ESCAPE_last_door

[Trigger]
nickname = section01_dmg2
Cnd_Timer = 0.5
Act_SpawnSolar = section01_lazer01

[Trigger]
nickname = section01_dmg3
Cnd_Timer = 2
Act_SpawnSolar = section01_lazer02

[Trigger]
nickname = section01_dmg4
Cnd_Timer = 2.5
Act_SpawnSolar = section01_explode02

Act_ActTrig = ESCAPE_DIALOG_darcy_01

[Trigger]
nickname = section01_dmg5
Cnd_Timer = 5
Act_SpawnSolar = section01_explode03

[Trigger]
nickname = section02_inside
Cnd_DistVec = inside, Player, -2280, 0, -590, 400
Act_ActTrig = section01_back
Act_SpawnSolar = section02_explode01
Act_Destroy = section01_lazer01, SILENT

[Trigger]
nickname = section03_inside
Cnd_DistVec = inside, Player, -3220, 0, -1490, 700
Act_ActTrig = section02_back
Act_SpawnSolar = section03_explode01
Act_ActTrig = section03_dmg2
Act_Destroy = section01_lazer02, SILENT

[Trigger]
nickname = section03_dmg2
Cnd_Timer = 2
Act_SpawnSolar = section03_explode02

[Trigger]
nickname = section04_inside
Cnd_DistVec = inside, Player, -4720, 0, -2000, 800
Act_ActTrig = section03_back
Act_ActTrig = section04_dmg1
Act_ActTrig = section04_dmg2
Act_ActTrig = section04_dmg3
Act_ActTrig = section04_dmg4

[Trigger]
nickname = section04_dmg1
Cnd_Timer = 0.5
Act_SpawnSolar = section04_explode01

[Trigger]
nickname = section04_dmg2
Cnd_Timer = 1
Act_SpawnSolar = section04_explode02

[Trigger]
nickname = section04_dmg3
Cnd_Timer = 1.5
Act_SpawnSolar = section04_explode03

[Trigger]
nickname = section04_dmg4
Cnd_Timer = 2
Act_SpawnSolar = section04_explode04

[Trigger]
nickname = section05_inside
Cnd_DistVec = inside, Player, -4720, 0, -3350, 350
Act_ActTrig = section05_close_roadback
Act_SpawnSolar = section05_lazer01
Act_ActTrig = section05_dmg1
Act_ActTrig = section05_dmg2
Act_ActTrig = section05_wait_dmg1
Act_ActTrig = section05_wait_dmg2
Act_ActTrig = section05_wait_dmg3
Act_ActTrig = section05_wait_dmg4
Act_ActTrig = section05_wait_dmg5
Act_ActTrig = section05_wait_death

[Trigger]
nickname = section05_close_roadback
Cnd_DistVec = inside, Player, -4720, 0, -4300, 600
Act_ActTrig = section04_back

[Trigger]
nickname = section05_dmg1
Cnd_Timer = 1
Act_SpawnSolar = section05_explode01

[Trigger]
nickname = section05_dmg2
Cnd_Timer = 2
Act_SpawnSolar = section05_explode02

[Trigger]
nickname = section05_wait_dmg1
Cnd_Timer = 7
Act_SpawnSolar = section05_wait_explode01

[Trigger]
nickname = section05_wait_dmg2
Cnd_Timer = 10
Act_SpawnSolar = section05_wait_explode02

[Trigger]
nickname = section05_wait_dmg3
Cnd_Timer = 12
Act_SpawnSolar = section05_wait_explode03

[Trigger]
nickname = section05_wait_dmg4
Cnd_Timer = 13
Act_SpawnSolar = section05_wait_explode04

[Trigger]
nickname = section05_wait_dmg5
Cnd_Timer = 14
Act_SpawnSolar = section05_wait_explode05

[Trigger]
nickname = section05_wait_death
Cnd_Timer = 16
Act_ChangeState = FAIL, 97108






[Trigger]
nickname = section05_leaved
Cnd_DistVec = inside, Player, -5390, 0, -4300, 200
Act_Destroy = section05_lazer01, SILENT
Act_DeActTrig = section05_wait_dmg1
Act_DeActTrig = section05_wait_dmg2
Act_DeActTrig = section05_wait_dmg3
Act_DeActTrig = section05_wait_dmg4
Act_DeActTrig = section05_wait_dmg5
Act_DeActTrig = section05_wait_death
Act_ActTrig = section05_tunnel_inside
Act_ActTrig = section05_tunnel_deepinside
Act_SetNNObj = NN_lair_escape


[Trigger]
nickname = section05_around_door
Cnd_DistVec = inside, Player, -4720, 0, -4700, 600
Act_SetNNObj = NN_06_use_left_door


Act_ActTrig = ESCAPE_DIALOG_darcy_02


[Trigger]
nickname = section05_tunnel_inside
Cnd_DistVec = inside, Player, -5390, 0, -4300, 200
Act_PlayMusic = none, none, none, music_omicron_danger


[Trigger]
nickname = section05_tunnel_deepinside
Cnd_DistVec = inside, Player, -6000, 390, -4300, 200
Act_ActTrig = section05_back
Act_SetNNObj = NN_06_reach_lair_exit






[Trigger]
nickname = section01_back
Cnd_DistVec = inside, Player, -3700, 0, 300, 1000
Act_ChangeState = FAIL, 97104

[Trigger]
nickname = section02_back
Cnd_DistVec = inside, Player, -2280, 0, -590, 700
Act_ChangeState = FAIL, 97105

[Trigger]
nickname = section03_back
Cnd_DistVec = inside, Player, -3220, 0, -1490, 900
Act_ChangeState = FAIL, 97106

[Trigger]
nickname = section04_back
Cnd_DistVec = inside, Player, -4720, 0, -1900, 1200
Act_ChangeState = FAIL, 97107

[Trigger]
nickname = section05_back
Cnd_DistVec = inside, Player, -4720, 0, -4300, 600
Act_ChangeState = FAIL, 97108






[MsnSolar]
nickname = section01_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -4165, 0, -100
orientation = 0.4, 0.6, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0

[MsnSolar]
nickname = section01_lazer02
faction = fc_n_grp
system = m8_lair_escape
position = -3690, -50, 150
orientation = 0.6, 0.4, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0

[MsnSolar]
nickname = section01_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -4300, 0, 200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section01_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -3416, 0, -226
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section01_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -3100, 0, 190
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0


[MsnSolar]
nickname = section02_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -2450, -50, -720
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section03_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -3244, 100, -1680
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section03_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -3550, -170, -1200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0





[MsnSolar]
nickname = section04_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -4900, -100, -1800
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section04_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -4550, -120, -2200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section04_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -4900, -150, -2500
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section04_explode04
faction = fc_n_grp
system = m8_lair_escape
position = -4550, -180, -2800
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section05_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -4590, -300, -3710
orientation = 0.4, 0.3, 0.3, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0


[MsnSolar]
nickname = section05_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -4900, 0, -3550
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section05_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -4500, 160, -3950
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0


[MsnSolar]
nickname = section05_wait_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -4520, -250, -4550
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section05_wait_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -4520, 250, -4550
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section05_wait_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -5020, -200, -4000
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section05_wait_explode04
faction = fc_n_grp
system = m8_lair_escape
position = -5020, 250, -4100
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section05_wait_explode05
faction = fc_n_grp
system = m8_lair_escape
position = -5020, 150, -4600
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0





;;; road 2





[Trigger]
nickname = section07_inside
Cnd_DistVec = inside, Player, -8270, 0, -5490, 600
Act_PlayMusic = none, none, none, music_dangerous_chase

[Trigger]
nickname = section08_inside
Cnd_DistVec = inside, Player, -8270, 0, -4105, 1100
Act_ActTrig = section08_dmg1
Act_ActTrig = section08_dmg2
Act_ActTrig = section08_dmg3
Act_ActTrig = section08_dmg4
Act_ActTrig = section08_dmg5
Act_ActTrig = section08_dmg6
Act_ActTrig = section08_dmg7

[Trigger]
nickname = section08_dmg1
Cnd_Timer = 0.5
Act_SpawnSolar = section08_explode01

[Trigger]
nickname = section08_dmg2
Cnd_Timer = 1
Act_SpawnSolar = section08_explode02

[Trigger]
nickname = section08_dmg3
Cnd_Timer = 1.5
Act_SpawnSolar = section08_explode03

[Trigger]
nickname = section08_dmg4
Cnd_Timer = 2
Act_SpawnSolar = section08_explode04

[Trigger]
nickname = section08_dmg5
Cnd_Timer = 2.5
Act_SpawnSolar = section08_explode05

[Trigger]
nickname = section08_dmg6
Cnd_Timer = 3
Act_SpawnSolar = section08_lazer01

[Trigger]
nickname = section08_dmg7
Cnd_Timer = 3.5
Act_SpawnSolar = section08_explode06

Act_ActTrig = ESCAPE_DIALOG_darcy_03


[Trigger]
nickname = section09_inside
Cnd_DistVec = inside, Player, -8270, 0, -1605, 1100
Act_ActTrig = section09_dmg1
Act_ActTrig = section09_dmg2
Act_ActTrig = section09_leaving
Act_Destroy = section08_lazer01, SILENT

[Trigger]
nickname = section09_dmg1
Cnd_Timer = 0.2
Act_SpawnSolar = section09_explode01

[Trigger]
nickname = section09_dmg2
Cnd_Timer = 0.5
Act_SpawnSolar = section09_explode02

[Trigger]
nickname = section09_leaving
Cnd_DistVec = inside, Player, -8270, 0, -800, 1100
Act_ActTrig = section09_dmg3

[Trigger]
nickname = section09_dmg3
Cnd_Timer = 0.5
Act_SpawnSolar = section09_explode03

[Trigger]
nickname = section10_inside
Cnd_DistVec = inside, Player, -8270, 0, 200, 1200
Act_ActTrig = section10_light_enable
Act_ActTrig = section10_dmg1
Act_ActTrig = section10_dmg2
Act_ActTrig = section10_lazer_timeout

[Trigger]
nickname = section10_light_enable
Cnd_Timer = 0.5
Act_SpawnSolar = section10_lazerlight01

[Trigger]
nickname = section10_dmg1
Cnd_Timer = 0.1
Act_SpawnSolar = section10_lazer01

[Trigger]
nickname = section10_dmg2
Cnd_Timer = 0.5
; Act_SpawnSolar = section10_lazer02

[Trigger]
nickname = section10_lazer_timeout
Cnd_Timer = 10
Act_ActTrig = section10_lazer_disable

[Trigger]
nickname = section10_lazer_disable
Cnd_True = no_params
; Act_Destroy = section10_lazerlight01, SILENT
Act_Destroy = section10_lazer01, SILENT
; Act_Destroy = section10_lazer02, SILENT



[Trigger]
nickname = section11_inside
Cnd_DistVec = inside, Player, -8270, 0, 2210, 1150
; Act_ActTrig = section10_lazer_disable
; Act_ActTrig = section12_light_enable
Act_ActTrig = section11_dmg1
Act_ActTrig = section11_dmg2

Act_ActTrig = section11_dmg3
Act_ActTrig = section11_dmg4
Act_ActTrig = section11_dmg5

Act_ActTrig = section11_dmg6
Act_ActTrig = section11_dmg7
Act_ActTrig = section11_dmg8

[Trigger]
nickname = section11_dmg1
Cnd_Timer = 0.2
Act_SpawnSolar = section11_explode01

[Trigger]
nickname = section11_dmg2
Cnd_Timer = 0.5
Act_SpawnSolar = section11_explode02

[Trigger]
nickname = section11_dmg3
Cnd_Timer = 1
Act_SpawnSolar = section11_lazer01

[Trigger]
nickname = section11_dmg4
Cnd_Timer = 1.4
Act_SpawnSolar = section11_lazer02

[Trigger]
nickname = section11_dmg5
Cnd_Timer = 1.8
Act_SpawnSolar = section11_lazer03

[Trigger]
nickname = section11_dmg6
Cnd_Timer = 3
Act_SpawnSolar = section11_explode03

[Trigger]
nickname = section11_dmg7
Cnd_Timer = 3.3
Act_SpawnSolar = section11_explode04

[Trigger]
nickname = section11_dmg8
Cnd_Timer = 3.6
Act_SpawnSolar = section11_explode05

Act_ActTrig = ESCAPE_DIALOG_darcy_04

[Trigger]
nickname = section11_remove_lazers
Cnd_True = no_params
Act_Destroy = section11_lazer01, SILENT
Act_Destroy = section11_lazer02, SILENT
Act_Destroy = section11_lazer03, SILENT

; Act_ActTrig = section12_lazer_timeout

[Trigger]
nickname = section12_inside
Cnd_DistVec = inside, Player, -8270, 0, 4240, 1150
; Act_ActTrig = section10_lazer_disable
Act_ActTrig = section12_light_enable
; Act_ActTrig = section12_dmg1
; Act_ActTrig = section12_dmg2
; Act_ActTrig = section12_lazer_timeout
Act_ActTrig = section11_remove_lazers

[Trigger]
nickname = section12_light_enable
Cnd_True = no_params
Act_SpawnSolar = section12_greenlight01
Act_SpawnSolar = section12_greenfx01

[Trigger]
nickname = section12_light_disable
Cnd_True = no_params
Act_Destroy = section11_greenfx01, SILENT




[MsnSolar]
nickname = section08_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -8450, -100, -4700
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section08_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -8100, 30, -4450
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section08_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -8450, 150, -4300
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section08_explode04
faction = fc_n_grp
system = m8_lair_escape
position = -8100, -150, -4000
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section08_explode05
faction = fc_n_grp
system = m8_lair_escape
position = -8450, -100, -3900
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section08_explode06
faction = fc_n_grp
system = m8_lair_escape
position = -8450, 0, -3500
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0


[MsnSolar]
nickname = section08_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -7900, -250, -3800
orientation = 0.3, 0.4, 0.4, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0



[MsnSolar]
nickname = section09_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -8100, -250, -2300
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section09_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -8500, 250, -1900
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section09_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -8350, -200, -1400
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0




[MsnSolar]
nickname = section10_lazerlight01
faction = fc_n_grp
system = m8_lair_escape
position = -8270, 0, 50
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_light
radius = 0


[MsnSolar]
nickname = section10_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -8100, -200, -200
orientation = 0.5, 0.5, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0

[MsnSolar]
nickname = section10_lazer02
faction = fc_n_grp
system = m8_lair_escape
position = -8460, 400, 700
orientation = 0.5, -0.5, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser
radius = 0



[MsnSolar]
nickname = section11_explode01
faction = fc_n_grp
system = m8_lair_escape
position = -8470, 50, 1510
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section11_explode02
faction = fc_n_grp
system = m8_lair_escape
position = -8070, -100, 1710
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section11_lazer01
faction = fc_n_grp
system = m8_lair_escape
position = -8610, -300, 2010
orientation = 0.5, 0, -0.5, 0
archetype = space_hidden_root
loadout = lair_escape_laser_rot
radius = 0

[MsnSolar]
nickname = section11_lazer02
faction = fc_n_grp
system = m8_lair_escape
position = -7990, -200, 2110
orientation = 0.5, 0, 0.5, 0
archetype = space_hidden_root
loadout = lair_escape_laser_rot
radius = 0

[MsnSolar]
nickname = section11_lazer03
faction = fc_n_grp
system = m8_lair_escape
position = -8590, -300, 2310
orientation = 0.5, 0, -0.5, 0
archetype = space_hidden_root
loadout = lair_escape_laser_rot
radius = 0

[MsnSolar]
nickname = section11_explode03
faction = fc_n_grp
system = m8_lair_escape
position = -8070, -100, 2610
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = section11_explode04
faction = fc_n_grp
system = m8_lair_escape
position = -8470, 50, 2710
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = section11_explode05
faction = fc_n_grp
system = m8_lair_escape
position = -8070, 100, 2900
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0


[MsnSolar]
nickname = section12_greenlight01
faction = fc_n_grp
system = m8_lair_escape
position = -8270, 0, 4275
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_green_light
radius = 0

[MsnSolar]
nickname = section12_greenfx01
faction = fc_n_grp
system = m8_lair_escape
position = -8270, 0, 4275
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_green_bubble
radius = 0



[Trigger]
nickname = ESCAPE_last_door
Cnd_DistVec = inside, Player, -8270, 0, 6310, 400
Act_Destroy = m8_lair_escape_airlock_door02, SILENT
Act_SpawnSolar = TAU44_escape_fwd_door02
Act_PlaySoundEffect = lair_door_open
Act_PlayerCanDock = false, m8_lair_escape_airlock02
Act_ActTrig = TAU44_LAIR_ESCAPE_activate_airlock

[Trigger]
nickname = TAU44_LAIR_ESCAPE_activate_airlock
Cnd_DistVec = inside, Player, -8270, 0, 6646, 250
Act_ActTrig = ESCAPE_clean_up
Act_DockRequest = m8_lair_escape_airlock02
Act_ActTrig = TAU44_WELCOME_BACK_OUTSIDE

;----

[Trigger]
nickname = TAU44_WELCOME_BACK_OUTSIDE
Cnd_SystemEnter = m8_tau44
Act_ActTrig = TAU44_OUTSIDE_FIGHT_init

[Trigger]
nickname = TAU44_OUTSIDE_open_last_door
Cnd_DistShip = inside, Player, m8_tau44_airlock02, 1000
Act_Destroy = m8_tau44_door03, SILENT
Act_SpawnSolar = TAU44_lair_exit_door_open_anim
Act_PlaySoundEffect = lair_door_open
Act_ActTrig = TAU44_OUTSIDE_close_last_door
Act_ActTrig = OUTSIDE_infinite_explosion
Act_PlayMusic = none, none, none, music_no_lair_battle

[Trigger]
nickname = TAU44_OUTSIDE_close_last_door
Cnd_DistVec = inside, Player, 2180, 0, -10, 400
Act_Destroy = TAU44_lair_exit_door_open_anim, SILENT
Act_ActTrig = TAU44_OUTSIDE_close_last_door_delay

Act_ActTrig = outside_darcy_follows_player

[Trigger]
nickname = TAU44_OUTSIDE_close_last_door_delay
Cnd_Timer = 0.1
Act_SpawnSolar = TAU44_lair_exit_door_close_back
Act_ActTrig = OUTSIDE_first_lazers






[MsnSolar]
nickname = outer_column01
faction = fc_uk_grp
system = m8_tau44
position = -1172, 0, 1616
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column02
faction = fc_uk_grp
system = m8_tau44
position = 650, 0, 1800
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column03
faction = fc_uk_grp
system = m8_tau44
position = 300, 0, -2000
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column05
faction = fc_uk_grp
system = m8_tau44
position = -2400, 0, 500
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column06
faction = fc_uk_grp
system = m8_tau44
position = -1400, 0, -1700
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column07
faction = fc_uk_grp
system = m8_tau44
position = 2000, 0, -1300
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column

[MsnSolar]
nickname = outer_column08
faction = fc_uk_grp
system = m8_tau44
position = 2400, 0, 500
orientation = 1, 0, 0, 0
archetype = lair_energy_column
radius = 0
label = outer_energy_column



[MsnSolar]
nickname = outer_expl_root01
faction = fc_uk_grp
system = m8_tau44
position = 0, -1, -10
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = outer_expl_root02
faction = fc_uk_grp
system = m8_tau44
position = 0, 1, -10
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0


[MsnSolar]
nickname = outer_xlazers_root01
faction = fc_uk_grp
system = m8_tau44
position = 1, 0, -9
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0


[MsnSolar]
nickname = outer_first_lazer01
faction = fc_n_grp
system = m8_tau44
position = 1750, 0, -500
orientation = 0.707, 0, -0.707, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound_alt
radius = 0

[MsnSolar]
nickname = outer_first_lazer02
faction = fc_n_grp
system = m8_tau44
position = 1750, 0, 800
orientation = 0.707, 0, -0.707, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound_alt
radius = 0


[Trigger]
nickname = OUTSIDE_first_lazers
Cnd_Timer = 1
Act_SpawnSolar = outer_first_lazer01
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = OUTSIDE_first_lazers_turn_off
Act_ActTrig = OUTSIDE_first_lazers02
Act_ActTrig = OUTSIDE_virtual_lazer_snd
Act_ActTrig = OUTSIDE_virtual_lazer_snd_turn_off

[Trigger]
nickname = OUTSIDE_first_lazers_turn_off
Cnd_Timer = 2
Act_Destroy = outer_first_lazer01, SILENT

[Trigger]
nickname = OUTSIDE_first_lazers02
Cnd_Timer = 2
Act_SpawnSolar = outer_first_lazer02
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = OUTSIDE_first_lazers02_turn_off

[Trigger]
nickname = OUTSIDE_first_lazers02_turn_off
Cnd_Timer = 3
Act_Destroy = outer_first_lazer02, SILENT

[Trigger]
nickname = OUTSIDE_virtual_lazer_snd
Cnd_Timer = 15
Act_PlaySoundEffect = fire_missile_emp_m8
repeatable = true

[Trigger]
nickname = OUTSIDE_virtual_lazer_snd_turn_off
Cnd_Timer = 120
Act_DeActTrig = OUTSIDE_virtual_lazer_snd

[Trigger]
nickname = OUTSIDE_virtual_lazer_snd_turn_off_force
Cnd_True = no_params
Act_DeActTrig = OUTSIDE_virtual_lazer_snd





[Trigger]
nickname = spawn_outer_columns
Cnd_True = no_params
Act_SpawnSolar = outer_column01
Act_SpawnSolar = outer_column02
Act_SpawnSolar = outer_column03
Act_SpawnSolar = outer_column05
Act_SpawnSolar = outer_column06
Act_SpawnSolar = outer_column07
Act_SpawnSolar = outer_column08
; Act_ActTrig = outer_columns_invulnerable
Act_ActTrig = outer_columns_is_enemy

[Trigger]
nickname = outer_columns_invulnerable
Cnd_True = no_params
Act_Invulnerable = outer_column01, true, false
Act_Invulnerable = outer_column02, true
Act_Invulnerable = outer_column03, true
Act_Invulnerable = outer_column05, true
Act_Invulnerable = outer_column06, true
Act_Invulnerable = outer_column07, true
Act_Invulnerable = outer_column08, true

[Trigger]
nickname = outer_columns_destroyable
Cnd_True = no_params
Act_Invulnerable = outer_column01, false
Act_Invulnerable = outer_column02, false
Act_Invulnerable = outer_column03, false
Act_Invulnerable = outer_column05, false
Act_Invulnerable = outer_column06, false
Act_Invulnerable = outer_column07, false
Act_Invulnerable = outer_column08, false

[Trigger]
nickname = outer_columns_is_enemy
Cnd_True = no_params
Act_SetVibeLblToShip = outer_energy_column, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, outer_energy_column, REP_HOSTILE_MAXIMUM


[Trigger]
nickname = outer_columns_mark_all
Cnd_True = no_params
Act_MarkObj = outer_column01, 1
Act_MarkObj = outer_column02, 1
Act_MarkObj = outer_column03, 1
Act_MarkObj = outer_column05, 1
Act_MarkObj = outer_column06, 1
Act_MarkObj = outer_column07, 1
Act_MarkObj = outer_column08, 1

[Trigger]
nickname = outer_columns_unmark_all
Cnd_True = no_params
Act_MarkObj = outer_column01, 0
Act_MarkObj = outer_column02, 0
Act_MarkObj = outer_column03, 0
Act_MarkObj = outer_column05, 0
Act_MarkObj = outer_column06, 0
Act_MarkObj = outer_column07, 0
Act_MarkObj = outer_column08, 0

[Trigger]
nickname = outer_columns_remove
Cnd_True = no_params
Act_Destroy = outer_column01, SILENT
Act_Destroy = outer_column02, SILENT
Act_Destroy = outer_column03, SILENT
Act_Destroy = outer_column05, SILENT
Act_Destroy = outer_column06, SILENT
Act_Destroy = outer_column07, SILENT
Act_Destroy = outer_column08, SILENT



[Trigger]
nickname = spawn_outside_fleet
Cnd_Timer = 1
Act_Destroy = br_battleship_tau44_init, SILENT
Act_SpawnSolar = br_battleship_tau44_battleside
Act_ActTrig = OUTSIDE_spawn_any_ships
Act_ActTrig = OUTSIDE_hostile_setrep
Act_PlayerEnemyClamp = 4, 7



[Trigger]
nickname = spawn_outside_darcy
Cnd_True = no_params
Act_SpawnShip = darcy, no_ol, 2000, 0, 20
Act_ActTrig = init_outside_darcy

[Trigger]
nickname = outside_darcy_follows_player
Cnd_True = no_params
Act_GiveObjList = darcy, follow_player


[Trigger]
nickname = OUTSIDE_infinite_explosion
Cnd_True = no_params
Act_ActTrig = OUTSIDE_expl_tear1

[Trigger]
nickname = OUTSIDE_expl_tear1
Cnd_Timer = 0.5
Act_SpawnSolar = outer_expl_root01
Act_LightFuse = outer_expl_root01, fuse_lair_outer_explosions
Act_ActTrig = OUTSIDE_expl_tear1_done

[Trigger]
nickname = OUTSIDE_expl_tear1_done
Cnd_Timer = 20
Act_Destroy = outer_expl_root02, SILENT
Act_ActTrig = OUTSIDE_expl_tear2

[Trigger]
nickname = OUTSIDE_expl_tear2
Cnd_Timer = 0.5
Act_SpawnSolar = outer_expl_root02
Act_LightFuse = outer_expl_root02, fuse_lair_outer_explosions
Act_ActTrig = OUTSIDE_expl_tear1_done

[Trigger]
nickname = OUTSIDE_expl_tear2_done
Cnd_Timer = 20
Act_Destroy = outer_expl_root01, SILENT
Act_ActTrig = OUTSIDE_expl_tear1

[Trigger]
nickname = OUTSIDE_expl_deactivate
Cnd_True = no_params
Act_DeActTrig = OUTSIDE_expl_tear1
Act_DeActTrig = OUTSIDE_expl_tear1_done
Act_DeActTrig = OUTSIDE_expl_tear2
Act_DeActTrig = OUTSIDE_expl_tear2_done

[Trigger]
nickname = OUTSIDE_expl_force_remove
Cnd_True = no_params
Act_Destroy = outer_expl_root01, SILENT
Act_Destroy = outer_expl_root02, SILENT
Act_ActTrig = OUTSIDE_expl_deactivate





[NPC] 
nickname = npc_li_cruiser_outside
affiliation = li_grp
npc_ship_arch = li_grp_main_cruiser
individual_name = 97101
voice = pilot_f_mil_m01

[MsnShip]
nickname = li_cruiser_out01
NPC = npc_li_cruiser_outside
label = liberty
label = li_cruiser
random_name = true
radius = 0
position = 3000, 0, 300
orientation = 1, 0, 0, 0

[MsnShip]
nickname = li_cruiser_out02
NPC = npc_li_cruiser_outside
label = liberty
label = li_cruiser
random_name = true
radius = 0
position = -2000, 800, 50
orientation = 0.707, 0, -0.707, 0

[MsnShip]
nickname = li_cruiser_out03
NPC = npc_li_cruiser_outside
label = liberty
label = li_cruiser
random_name = true
radius = 0
position = 2000, 800, -50
orientation = 0.707, 0, 0.707, 0

[ObjList]
nickname = ol_cruiser01
SetPriority = ALWAYS_EXECUTE
avoidance = false
GotoVec = goto_no_cruise, 3000, 0, -500, true
GotoVec = goto_no_cruise, 2800, 500, -1500, true
GotoVec = goto_no_cruise, 1500, 1000, -1500, true

[NPC] 
nickname = npc_outside_li_fighter
affiliation = li_grp
npc_ship_arch = gen_rc_grp_interceptor_bw_fighter_d5
voice = pilot_f_mil_m01

[MsnShip]
nickname = out_fighter_A01
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_A02
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_A03
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_A04
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0


[MsnShip]
nickname = out_fighter_B01
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_B02
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_B03
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_B04
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0


[MsnShip]
nickname = out_fighter_C01
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_C02
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_C03
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_C04
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0


[MsnShip]
nickname = out_fighter_D01
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_D02
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_D03
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0

[MsnShip]
nickname = out_fighter_D04
NPC = npc_outside_li_fighter
label = liberty
label = li_fighter
random_name = true
radius = 0


[MsnFormation]
nickname = li_wing_A
position = -1000, 800, 0
orientation = 0.707, 0, -0.707, 0
formation = fighter_basic
ship = out_fighter_A01
ship = out_fighter_A02
ship = out_fighter_A03
ship = out_fighter_A04

[MsnFormation]
nickname = li_wing_B
position = 1000, 800, 0
orientation = 0.707, 0, 0.707, 0
formation = fighter_basic
ship = out_fighter_B01
ship = out_fighter_B02
ship = out_fighter_B03
ship = out_fighter_B04

[MsnFormation]
nickname = li_wing_C
position = 0, 800, 500
orientation = 1, 0, 0, 0
formation = fighter_basic
ship = out_fighter_C01
ship = out_fighter_C02
ship = out_fighter_C03
ship = out_fighter_C04

[MsnFormation]
nickname = li_wing_D
position = 0, 800, -500
orientation = 0, 0, 1, 0
formation = fighter_basic
ship = out_fighter_D01
ship = out_fighter_D02
ship = out_fighter_D03
ship = out_fighter_D04



[NPC] 
nickname = npc_outside_br_fighter
affiliation = br_grp
npc_ship_arch = gen_rx_grp_interceptor_bw_fighter_d8
voice = pilot_f_mil_m01

[MsnShip]
nickname = br_fighter_A01
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_A02
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_A03
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_A04
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_B01
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_B02
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_B03
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0

[MsnShip]
nickname = br_fighter_B04
NPC = npc_outside_br_fighter
label = bretonia
label = br_fighter
random_name = true
radius = 0





[MsnFormation]
nickname = br_wing_A
position = 200, 1000, 0
orientation = 1, 0, 0, 0
formation = fighter_basic
ship = br_fighter_A01
ship = br_fighter_A02
ship = br_fighter_A03
ship = br_fighter_A04

[MsnFormation]
nickname = br_wing_B
position = -200, 1000, 0
orientation = 1, 0, 0, 0
formation = fighter_basic
ship = br_fighter_B01
ship = br_fighter_B02
ship = br_fighter_B03
ship = br_fighter_B04

[ObjList]
nickname = ol_zone_wales
StayInRange = 0, 1200, 0, 2000


[Trigger]
nickname = OUTSIDE_spawn_any_ships
Cnd_True = no_params
Act_SpawnFormation = li_wing_A
Act_SpawnFormation = li_wing_B
Act_SpawnFormation = li_wing_C
Act_SpawnFormation = li_wing_D
Act_SpawnShip = li_cruiser_out01, ol_cruiser01
Act_SpawnShip = li_cruiser_out02, ol_zone_wales
Act_SpawnShip = li_cruiser_out03, ol_zone_wales
Act_SpawnFormation = br_wing_A
Act_SpawnFormation = br_wing_B
Act_GiveObjList = li_wing_A, ol_zone_wales
Act_GiveObjList = li_wing_B, ol_zone_wales
Act_GiveObjList = li_wing_C, ol_zone_wales
Act_GiveObjList = br_wing_A, ol_zone_wales
Act_GiveObjList = br_wing_B, ol_zone_wales


Act_Invulnerable = li_cruiser_out01, true, false, 0.5
Act_Invulnerable = li_cruiser_out02, true, false, 0.5
Act_Invulnerable = li_cruiser_out03, true, false, 0.5

Act_Invulnerable = out_fighter_A01, true, false, 0.5
Act_Invulnerable = out_fighter_A02, true, false, 0.5
Act_Invulnerable = out_fighter_A03, true, false, 0.5
Act_Invulnerable = out_fighter_A04, true, false, 0.5
Act_Invulnerable = out_fighter_B01, true, false, 0.5
Act_Invulnerable = out_fighter_B02, true, false, 0.5
Act_Invulnerable = out_fighter_B03, true, false, 0.5
Act_Invulnerable = out_fighter_B04, true, false, 0.5
Act_Invulnerable = out_fighter_C01, true, false, 0.5
Act_Invulnerable = out_fighter_C02, true, false, 0.5
Act_Invulnerable = out_fighter_C03, true, false, 0.5
Act_Invulnerable = out_fighter_C04, true, false, 0.5
Act_Invulnerable = out_fighter_D01, true, false, 0.5
Act_Invulnerable = out_fighter_D02, true, false, 0.5
Act_Invulnerable = out_fighter_D03, true, false, 0.5
Act_Invulnerable = out_fighter_D04, true, false, 0.5

Act_Invulnerable = br_fighter_A01, true, false, 0.5
Act_Invulnerable = br_fighter_A02, true, false, 0.5
Act_Invulnerable = br_fighter_A03, true, false, 0.5
Act_Invulnerable = br_fighter_A04, true, false, 0.5
Act_Invulnerable = br_fighter_B01, true, false, 0.5
Act_Invulnerable = br_fighter_B02, true, false, 0.5
Act_Invulnerable = br_fighter_B03, true, false, 0.5
Act_Invulnerable = br_fighter_B04, true, false, 0.5



[Trigger]
nickname = OUTSIDE_hostile_setrep
Cnd_Timer = 0.25
Act_SetVibeLbl = liberty, bretonia, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = bretonia, liberty, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = liberty, Player, REP_HOSTILE_THRESHOLD
Act_SetVibeShipToLbl = Player, liberty, REP_HOSTILE_THRESHOLD
Act_SetVibeLblToShip = liberty, darcy, REP_HOSTILE_THRESHOLD
Act_SetVibeShipToLbl = darcy, liberty, REP_HOSTILE_THRESHOLD




[Trigger]
nickname = TAU44_OUTSIDE_FIGHT_init
Cnd_True = no_params
Act_ActTrig = TAU44_OUTSIDE_open_last_door
Act_SpawnShip = nag_voice
Act_SetNNObj = NN_06_enter_the_battle
Act_ActTrig = spawn_outer_columns
Act_ActTrig = spawn_outside_fleet
Act_ActTrig = spawn_outside_darcy
Act_ActTrig = OUTSIDE_dialogs


[Trigger]
nickname = OUTSIDE_dlg_welcome
Cnd_True = no_params

;brighton: 
{{ script.line(600) }}


;darcy: 
{{ script.line(610) }}


;brighton: 
{{ script.line(620) }}


;trent: 
{{ script.line(630) }}


;brighton: 
{{ script.line(640) }}


;trent: 
{{ script.line(650) }}


;brighton: 
{{ script.line(660) }}



[Trigger]
nickname = OUTSIDE_dlg_before_msn
Cnd_True = no_params

;brighton: 
{{ script.line(670) }}


;brighton: 
{{ script.line(680) }}


;brighton: 
{{ script.line(690) }}


;trent: 
{{ script.line(700) }}


;darcy: 
{{ script.line(710) }}

Act_ActTrig = TAU44_OUTSIDE_COLUMNS_init

[Trigger]
nickname = OUTSIDE_dialogs
Cnd_Timer = 2



; Act_ActTrig = WALES_DMG_explode
; Act_ActTrig = LAIR_FINAL_DEATH_explode
; Act_ActTrig = LAIR_END_init
; [;


Act_MarkObj = br_battleship_tau44_battleside, 1

Act_SetVibeLblToShip = bretonia, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, bretonia, REP_FRIEND_MAXIMUM

Act_ActTrig = OUTSIDE_dlg_welcome
Act_ActTrig = OUTSIDE_dlg_before_msn

Act_ActTrig = outer_columns_destroyable
Act_ActTrig = outer_columns_is_enemy
Act_ActTrig = outer_columns_destroyed

[Trigger]
nickname = TAU44_OUTSIDE_COLUMNS_init
{{ script.ends(670) }}
Act_SetNNObj = NN_06_destroy_the_columns
Act_ActTrig = outer_columns_mark_all

[Trigger]
nickname = outer_columns_destroyed
;NEED TO BE 5
Cnd_Destroyed = outer_energy_column, -1, ALL_IGNORE_LANDING

Act_ActTrig = WALES_DMG_init






[MsnSolar]
nickname = wales_lair_expl01
faction = fc_n_grp
system = m8_tau44
position = 200, 550, 200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = wales_lair_expl02
faction = fc_n_grp
system = m8_tau44
position = 200, 550, -200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = wales_lair_expl03
faction = fc_n_grp
system = m8_tau44
position = -200, 550, 200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0

[MsnSolar]
nickname = wales_lair_expl04
faction = fc_n_grp
system = m8_tau44
position = 0, 550, 0
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0

[MsnSolar]
nickname = wales_lair_expl05
faction = fc_n_grp
system = m8_tau44
position = -200, 550, -200
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion02
radius = 0



[MsnSolar]
nickname = wales_lair_lazer01
faction = fc_n_grp
system = m8_tau44
position = 150, 600, 300
orientation = 0.707, 0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound_alt
radius = 0

[MsnSolar]
nickname = wales_lair_lazer02
faction = fc_n_grp
system = m8_tau44
position = 100, 600, -300
orientation = 0.707, 0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound_alt
radius = 0

[MsnSolar]
nickname = wales_lair_lazer03
faction = fc_n_grp
system = m8_tau44
position = 0, 600, 130
orientation = 0.707, 0.707, 0, 0
archetype = space_hidden_root
loadout = lair_escape_laser_no_sound_alt
radius = 0




[MsnSolar]
nickname = wales_lair_expl_critical01
faction = fc_n_grp
system = m8_tau44
position = 0, 1200, 130
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = lair_escape_explosion01
radius = 0



[Trigger]
nickname = WALES_DMG_init
Cnd_Timer = 4
Act_ActTrig = WALES_DMG_explode
Act_PObjIdle = no_params

[Trigger]
nickname = WALES_DMG_explode
Cnd_True = no_params
Act_ActTrig = OUTSIDE_virtual_lazer_snd_turn_off_force
Act_ActTrig = OUTSIDE_expl_force_remove
Act_CallThorn = scripts\mod\m08_outside_camera_01.thn, Player
Act_ActTrig = WALES_DMG_expl01
Act_ActTrig = WALES_DMG_expl02
Act_ActTrig = WALES_DMG_expl03
Act_ActTrig = WALES_DMG_expl04
Act_ActTrig = WALES_DMG_expl05
Act_ActTrig = WALES_DMG_lazer01
Act_ActTrig = WALES_DMG_lazer02
Act_ActTrig = WALES_DMG_lazer03
Act_ActTrig = WALES_DMG_expl_critical
Act_ActTrig = WALES_DMG_expl_done

[Trigger]
nickname = WALES_DMG_expl01
Cnd_Timer = 0.5
Act_SpawnSolar = wales_lair_expl01

[Trigger]
nickname = WALES_DMG_expl02
Cnd_Timer = 1
Act_SpawnSolar = wales_lair_expl02

[Trigger]
nickname = WALES_DMG_expl03
Cnd_Timer = 2
Act_SpawnSolar = wales_lair_expl03

[Trigger]
nickname = WALES_DMG_expl04
Cnd_Timer = 5
Act_SpawnSolar = wales_lair_expl04

[Trigger]
nickname = WALES_DMG_expl05
Cnd_Timer = 5.5
Act_SpawnSolar = wales_lair_expl05

[Trigger]
nickname = WALES_DMG_lazer01
Cnd_Timer = 3
Act_ActTrig = OUTSIDE_hurt_liberty_force
Act_SpawnSolar = wales_lair_lazer01
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = WALES_DMG_lazer01_turn_off

[Trigger]
nickname = WALES_DMG_lazer01_turn_off
Cnd_Timer = 3
Act_Destroy = wales_lair_lazer01

[Trigger]
nickname = WALES_DMG_lazer02
Cnd_Timer = 4
Act_SpawnSolar = wales_lair_lazer02
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = WALES_DMG_lazer02_turn_off

[Trigger]
nickname = WALES_DMG_lazer02_turn_off
Cnd_Timer = 3
Act_Destroy = wales_lair_lazer02

[Trigger]
nickname = WALES_DMG_lazer03
Cnd_Timer = 5.2
Act_SpawnSolar = wales_lair_lazer03
Act_PlaySoundEffect = fire_missile_emp_m8
Act_ActTrig = WALES_DMG_lazer03_turn_off

[Trigger]
nickname = WALES_DMG_lazer03_turn_off
Cnd_Timer = 2
Act_Destroy = wales_lair_lazer03

[Trigger]
nickname = WALES_DMG_expl_critical
Cnd_Timer = 5.8
Act_SpawnSolar = wales_lair_expl_critical01
Act_ActTrig = WALES_DMG_fuse

[Trigger]
nickname = WALES_DMG_fuse
Cnd_Timer = 1
Act_LightFuse = br_battleship_tau44_battleside, b_battleship_engine_fuse

[Trigger]
nickname = WALES_DMG_expl_done
Cnd_Timer = 10
Act_RelocateShip = Player, -2800, 550, 200, 0.707, 0, -0.707, 0
Act_RelocateShip = darcy, -2900, 520, 300, 0.707, 0, -0.707, 0
Act_ActTrig = outer_columns_remove
Act_ActTrig = WALES_DMG_camera_revert

[Trigger]
nickname = WALES_DMG_camera_revert
Cnd_Timer = 0.5
Act_RevertCam = no_params
Act_ActTrig = WALES_DMG_dialog

[Trigger]
nickname = WALES_DMG_dialog
Cnd_Timer = 1
Act_LightFuse = m8_tau44_lair, fuse_lair_side_lazers

;brighton: 
{{ script.line(720) }}


Act_ActTrig = LAIR_EXPLODE_init

[Trigger]
nickname = OUTSIDE_hurt_liberty_force
Cnd_True = no_params

Act_LightFuse = li_cruiser_out01, li_cruiser_body_fuse
Act_LightFuse = li_cruiser_out02, li_cruiser_body_fuse
Act_LightFuse = li_cruiser_out03, li_cruiser_body_fuse

[Trigger]
nickname = LAIR_EXPLODE_init
{{ script.ends(720) }}


Act_ActTrig = OUTSIDE_infinite_explosion
Act_LightFuse = m8_tau44_lair, fuse_lair_top_lazers
Act_ActTrig = OUTSIDE_biglazer_fuse_snd1
Act_ActTrig = OUTSIDE_biglazer_fuse_snd2
Act_ActTrig = OUTSIDE_biglazer_fuse_snd3
Act_ActTrig = OUTSIDE_biglazer_fuse_snd4

Act_SetNNObj = NN_07_leave_lair_zone

Act_ActTrig = LAIR_EXPLODE_brighton_last_words

[Trigger]
nickname = OUTSIDE_biglazer_fuse_snd1
Cnd_True = no_params
Act_PlaySoundEffect = fire_missile_emp_m8

[Trigger]
nickname = OUTSIDE_biglazer_fuse_snd2
Cnd_Timer = 1
Act_PlaySoundEffect = fire_missile_emp_m8

[Trigger]
nickname = OUTSIDE_biglazer_fuse_snd3
Cnd_Timer = 2
Act_PlaySoundEffect = fire_missile_emp_m8

[Trigger]
nickname = OUTSIDE_biglazer_fuse_snd4
Cnd_Timer = 3
Act_PlaySoundEffect = fire_missile_emp_m8

[Trigger]
nickname = LAIR_EXPLODE_brighton_last_words
Cnd_True = no_params



;trent: 
{{ script.line(730) }}


;darcy: 
{{ script.line(740) }}


;brighton: 
{{ script.line(750) }}


;darcy: 
{{ script.line(760) }}


;brighton: 
{{ script.line(770) }}


;darcy: 
{{ script.line(780) }}


;brighton: 
{{ script.line(790) }}


;brighton: 
{{ script.line(800) }}


Act_ActTrig = LAIR_EXPLODE_check_status


[Trigger]
nickname = LAIR_EXPLODE_check_status
{{ script.ends(800) }}
Act_ActTrig = LAIR_EXPLODE_timeout
Act_ActTRig = LAIR_EXPLODE_player_is_far_enough

[Trigger]
nickname = LAIR_EXPLODE_timeout
Cnd_Timer = 60
Act_ChangeState = FAIL, 97154


[Trigger]
nickname = LAIR_EXPLODE_player_is_far_enough
Cnd_DistVec = outside, Player, 0, 0, 0, 15000
Act_DeActTrig = LAIR_EXPLODE_timeout
Act_ActTrig = LAIR_FINAL_DEATH_explode




[MsnSolar]
nickname = outer_final_expl_root01
faction = fc_uk_grp
system = m8_tau44
position = 1, -1, -8
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[MsnSolar]
nickname = outer_final_expl_root02
faction = fc_uk_grp
system = m8_tau44
position = -1, 1, -7
orientation = 1, 0, 0, 0
archetype = space_hidden_root
radius = 0

[Trigger]
nickname = OUTSIDE_clear_ships
Cnd_True = no_params
Act_Destroy = out_fighter_A01, SILENT
Act_Destroy = out_fighter_A02, SILENT
Act_Destroy = out_fighter_A03, SILENT
Act_Destroy = out_fighter_A04, SILENT
Act_Destroy = out_fighter_B01, SILENT
Act_Destroy = out_fighter_B02, SILENT
Act_Destroy = out_fighter_B03, SILENT
Act_Destroy = out_fighter_B04, SILENT
Act_Destroy = out_fighter_C01, SILENT
Act_Destroy = out_fighter_C02, SILENT
Act_Destroy = out_fighter_C03, SILENT
Act_Destroy = out_fighter_C04, SILENT
Act_Destroy = out_fighter_D01, SILENT
Act_Destroy = out_fighter_D02, SILENT
Act_Destroy = out_fighter_D03, SILENT
Act_Destroy = out_fighter_D04, SILENT
Act_Destroy = br_fighter_A01, SILENT
Act_Destroy = br_fighter_A02, SILENT
Act_Destroy = br_fighter_A03, SILENT
Act_Destroy = br_fighter_A04, SILENT
Act_Destroy = br_fighter_B01, SILENT
Act_Destroy = br_fighter_B02, SILENT
Act_Destroy = br_fighter_B03, SILENT
Act_Destroy = br_fighter_B04, SILENT
Act_Destroy = li_cruiser_out01, SILENT
Act_Destroy = li_cruiser_out02, SILENT
Act_Destroy = li_cruiser_out03, SILENT

[Trigger]
nickname = LAIR_FINAL_DEATH_explode
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_solemn_and_grave
Act_RelocateShip = Player, 25000, 0, -1000, 0, 0, -1, 0
Act_ActTrig = OUTSIDE_expl_deactivate
Act_Destroy = m8_tau44_door01, SILENT
Act_Destroy = m8_tau44_door02, SILENT
Act_Destroy = m8_tau44_door03, SILENT
Act_Destroy = m8_tau44_door04, SILENT
Act_Destroy = m8_tau44_airlock01, SILENT
Act_Destroy = m8_tau44_airlock02, SILENT
Act_Destroy = TAU44_lair_exit_door_open_anim, SILENT
Act_Destroy = TAU44_lair_exit_door_close_back, SILENT
Act_ActTrig = remove_lair_turrets
Act_ActTrig = OUTSIDE_clear_ships
Act_CallThorn = scripts\mod\m08_outside_camera_02.thn, m8_tau44_lair
Act_ActTrig = OUTSIDE_expl_force_remove
Act_SpawnSolar = outer_final_expl_root01
Act_LightFuse = outer_final_expl_root01, fuse_lair_outer_top_explosions
Act_LightFuse = m8_tau44_lair, fuse_lair_hull_lazers

Act_ActTrig = LAIR_FINAL_DEATH_hull_lazers

[Trigger]
nickname = LAIR_FINAL_DEATH_hull_lazers
Cnd_Timer = 2
Act_LightFuse = m8_tau44_lair, fuse_lair_final_lazers
Act_LightFuse = br_battleship_tau44_battleside, b_battleship_body_fuse
Act_ActTrig = LAIR_FINAL_DEATH_do_destroy

[Trigger]
nickname = LAIR_FINAL_DEATH_do_destroy
Cnd_Timer = 10
Act_LightFuse = m8_tau44_lair, fuse_lair_internal_burn
; Act_Destroy = m8_tau44_lair, SILENT
Act_ActTrig = LAIR_FINAL_DEATH_destroyed

[Trigger]
nickname = LAIR_FINAL_DEATH_destroyed
Cnd_Timer = 5
Act_ActTrig = LAIR_END_init

[Trigger]
nickname = LAIR_END_init
Cnd_True = no_params
Act_GiveObjList = darcy, unform_n_stop
Act_PObjIdle = no_params
Act_RelocateShip = Player, 20250, 10000, 0, 0.707, 0, -0.707, 0
Act_RelocateShip = darcy, 20260, 10000, 20, 0.707, 0, -0.707, 0
Act_ActTrig = LAIR_END_final_relocate

[Trigger]
nickname = LAIR_END_final_relocate
Cnd_Timer = 2
Act_RelocateShip = Player, 20220, 0, 0, 0.707, 0, -0.707, 0
Act_RelocateShip = darcy, 20230, 0, 20, 0.707, 0, -0.707, 0
Act_SetRep = Player, asf_grp, -0.3
Act_ActTrig = LAIR_END_boom_explosion

[Trigger]
nickname = LAIR_END_boom_explosion
Cnd_True = no_params 
Act_CallThorn = scripts\mod\m08_lair_done_camera_04.thn, Player
Act_SpawnSolar = giant_explosion_root01
Act_ActTrig = LAIR_END_boom_explosion_complete

[Trigger]
nickname = LAIR_END_boom_explosion_complete
Cnd_Timer = 10
Act_Destroy = giant_explosion_root01, SILENT
Act_ActTrig = LAIR_END_dialogs


[MsnFormation]
nickname = asf_wing_A
position = 20340, -15, 30
orientation = 0.793, 0, 0.609, 0
; position = -5000, 0, -5000
; orientation = 1, 0, 0, 0
formation = ms8_asf
ship = {{ asf.member(1) }}
ship = {{ asf.member(2) }}
ship = {{ asf.member(3) }}

[MsnFormation]
nickname = asf_wing_B
position = 20310, -10, -40
orientation = 0.574, 0, 0.819, 0
formation = ms8_asf
ship = {{ asf.member(4) }}
ship = {{ asf.member(5) }}
ship = {{ asf.member(6) }}

[MsnFormation]
nickname = asf_wing_C
; position = 20200, 0, 50
; orientation = 0.924, 0, -0.383, 0
formation = ms8_asf
ship = {{ asf.member(7) }}
ship = {{ asf.member(8) }}
ship = {{ asf.member(9) }}

[MsnFormation]
nickname = asf_wing_D
; position = 20190, 0, -35
; orientation = 0.423, 0, -0.906, 0
formation = ms8_asf
ship = {{ asf.member(10) }}
ship = {{ asf.member(11) }}
ship = {{ asf.member(12) }}


[Trigger]
nickname = LAIR_END_decloak_wing_A
Cnd_Timer = 1.1
Act_Cloak = {{ asf.member(1) }}, false
Act_Cloak = {{ asf.member(2) }}, false
Act_Cloak = {{ asf.member(3) }}, false

[Trigger]
nickname = LAIR_END_decloak_wing_B
Cnd_Timer = 1.5
Act_Cloak = {{ asf.member(4) }}, false
Act_Cloak = {{ asf.member(5) }}, false
Act_Cloak = {{ asf.member(6) }}, false

[Trigger]
nickname = LAIR_END_decloak_wing_C
Cnd_Timer = 2
Act_Cloak = {{ asf.member(7) }}, false
Act_Cloak = {{ asf.member(8) }}, false
Act_Cloak = {{ asf.member(9) }}, false

[Trigger]
nickname = LAIR_END_decloak_wing_D
Cnd_Timer = 2.5
Act_Cloak = {{ asf.member(10) }}, false
Act_Cloak = {{ asf.member(11) }}, false
Act_Cloak = {{ asf.member(12) }}, false

[ObjList]
nickname = ol_hatcher_arrive
SetPriority = ALWAYS_EXECUTE
Avoidance = false
GotoVec = goto_no_cruise, 20300, 0, 0, 10, true

[ObjList]
nickname = ol_wing_A_road_out
SetPriority = ALWAYS_EXECUTE
Avoidance = false
GotoVec = goto_no_cruise, 20240, -200, 30, 100, true
GotoVec = goto_no_cruise, 21240, -200, 30, 100, true
GotoVec = goto_no_cruise, 0, 0, 30, 100, true

[ObjList]
nickname = ol_wing_B_road_out
SetPriority = ALWAYS_EXECUTE
Avoidance = false
GotoVec = goto_no_cruise, 20210, -100, -40, 100, true
GotoVec = goto_no_cruise, 0, -100, -40, 100, true

[ObjList]
nickname = ol_hatcher_goto_tau44_to_asf_hq
SetPriority = ALWAYS_EXECUTE
Avoidance = true
GotoVec = goto_no_cruise, 20500, 0, 0, 50, true
GotoVec = goto_no_cruise, 25000, 0, 5000, 50, true

[ObjList]
nickname = ol_hatcher_goto_asf_hq_test
SetPriority = ALWAYS_EXECUTE
Avoidance = true
GotoVec = goto_cruise, 0, 0, 0, 2000, true

[ObjList]
nickname = ol_hatcher_asf_hq_travel
SetPriority = ALWAYS_EXECUTE
Avoidance = true
GotoVec = goto_cruise, -2000, 0, 2500, 500, true
GotoShip = goto_cruise, kings_dread, 1000, true
Avoidance = false
GotoVec = goto_no_cruise, 880, 120, 2500, 50, true

[ObjList]
nickname = ol_hatcher_asf_hq_travel_fwd
SetPriority = ALWAYS_EXECUTE
Avoidance = false
GotoVec = goto_no_cruise, 2000, 120, 2500, 50, true

[ObjList] 
nickname = ol_pl_docks_kings_dread
BreakFormation = no_params
Idle = no_params
Dock = kings_dread


[ObjList]
nickname = ol_hatcher_dock_with_jumphole
Dock = m8_tau44_to_m8_asf_hq

; dock with 

[ObjList]
nickname = ol_pl_follow_hatcher
SetPriority = ALWAYS_EXECUTE
Follow = {{ hatcher.name }}, 3000, -30, -5, 20

[ObjList]
nickname = ol_darcy_follow_hatcher
SetPriority = ALWAYS_EXECUTE
Follow = {{ hatcher.name }}, 3000, 30, -5, 20

[ObjList]
nickname = ol_wing_C_follow_hatcher
SetPriority = ALWAYS_EXECUTE
Follow = {{ hatcher.name }}, 3000, -200, -5, 200

[ObjList]
nickname = ol_wind_D_follow_hatcher
SetPriority = ALWAYS_EXECUTE
Follow = {{ hatcher.name }}, 3000, 200, -5, 200

[ObjList]
nickname = ol_wing_C_follow_player
SetPriority = ALWAYS_EXECUTE
Follow = Player, 3000, -200, -5, 200

[ObjList]
nickname = ol_wing_D_follow_player
SetPriority = ALWAYS_EXECUTE
Follow = Player, 3000, 200, -5, 200



[MsnSolar]
nickname = giant_explosion_root01
faction = fc_uk_grp
system = m8_tau44
position = 16000, 0, -5
orientation = 1, 0, 0, 0
archetype = space_hidden_root
loadout = planet_ultra_explosion
radius = 0

;cam 1 - trent/darcy personal
;cam 2 - trent back to hatcher
;cam 3 - hatcher personal
;cam 4 - trent/darcy together_sad cam



[Trigger]
nickname = LAIR_END_dialogs
Cnd_Timer = 1
; Act_RevertCam = no_params
; Act_ActTrig = LAIR_END_player_near_jumphole
Act_ActTrig = LAIR_END_dlg_darcy_sad

[Trigger]
nickname = LAIR_END_dlg_darcy_sad
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_null
Act_CallThorn = scripts\mod\m08_lair_done_camera_01.thn, darcy
;darcy: 
{{ script.line(810) }}


Act_ActTrig = LAIR_END_dlg_trent_helps_darcy

[Trigger]
nickname = LAIR_END_dlg_trent_helps_darcy
{{ script.ends(810) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_01.thn, Player

;trent: 
{{ script.line(820) }}


;hatcher: 
{{ script.line(830) }}


Act_SpawnShip = {{ hatcher.name }}, no_ol, 20500, 0, 0, 0.707, 0, 0.707, 0


Act_ActTrig = LAIR_END_music_instant_hatcher
Act_ActTrig = LAIR_END_dlg_hatcher_arrive

[Trigger]
nickname = LAIR_END_music_instant_hatcher
{{ script.ends(820) }}
Act_PlayMusic = none, none, none, music_null

[Trigger]
nickname = LAIR_END_dlg_hatcher_arrive
{{ script.ends(830) }}

Act_PlayMusic = none, none, none, music_anticipation_motivated


Act_GiveObjList = {{ hatcher.name }}, ol_hatcher_arrive
Act_SpawnFormation = asf_wing_A
Act_SpawnFormation = asf_wing_B
Act_SpawnFormation = asf_wing_C, 20200, 0, 50, 0.924, 0, -0.383, 0
Act_SpawnFormation = asf_wing_D, 20190, 0, -35, 0.423, 0, -0.906, 0

Act_ActTrig = LAIR_END_decloak_wing_A
Act_ActTrig = LAIR_END_decloak_wing_B
Act_ActTrig = LAIR_END_decloak_wing_C
Act_ActTrig = LAIR_END_decloak_wing_D

Act_CallThorn = scripts\mod\m08_lair_done_camera_02.thn, Player

;trent: 
{{ script.line(840) }}


Act_ActTrig = LAIR_END_dlg_hatcher_arrive_trent_react_done

[Trigger]
nickname = LAIR_END_dlg_hatcher_arrive_trent_react_done
{{ script.ends(840) }}
Act_ActTrig = LAIR_END_hatcher_did_move


[Trigger]
nickname = LAIR_END_hatcher_did_move
Cnd_DistVec = inside, hatcher,  20300, 0, 0, 50

Act_ActTrig = LAIR_END_decloak_complete

[Trigger]
nickname = LAIR_END_decloak_complete
Cnd_Timer = 3

;hatcher: 
{{ script.line(850) }}


Act_ActTrig = LAIR_END_dlg_trent_glad_to_see_hatcher

[Trigger]
nickname = LAIR_END_dlg_trent_glad_to_see_hatcher
{{ script.ends(850) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_01.thn, Player

;trent: 
{{ script.line(860) }}


Act_ActTrig = LAIR_END_dlg_hatcher_meet_mad

[Trigger]
nickname = LAIR_END_dlg_hatcher_meet_mad
{{ script.ends(860) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, hatcher

;hatcher: 
{{ script.line(870) }}


Act_ActTrig = LAIR_END_dlg_red_reaction_understood

[Trigger]
nickname = LAIR_END_dlg_red_reaction_understood
{{ script.ends(870) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, {{ asf.member(1) }}

;red: 
{{ script.line(880) }}


Act_ActTrig = LAIR_END_dlg_hatcher_super_angry

[Trigger]
nickname = LAIR_END_dlg_hatcher_super_angry
{{ script.ends(880) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, hatcher

;hatcher: 
{{ script.line(890) }}


Act_ActTrig = LAIR_END_dlg_darcy_explains_tilton

[Trigger]
nickname = LAIR_END_dlg_darcy_explains_tilton
{{ script.ends(890) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_01.thn, darcy

;darcy: 
{{ script.line(900) }}


;darcy: 
{{ script.line(910) }}


Act_ActTrig = LAIR_END_dlg_hatcher_listened_about_tilton

[Trigger]
nickname = LAIR_END_dlg_hatcher_listened_about_tilton
{{ script.ends(910) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, {{ hatcher.name }}

;hatcher: 
{{ script.line(920) }}


;hatcher: 
{{ script.line(930) }}


Act_ActTrig = LAIR_END_dlg_red_got_hatchers_order

[Trigger]
nickname = LAIR_END_dlg_red_got_hatchers_order
{{ script.ends(930) }}
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, {{ asf.member(1) }}

;red: 
{{ script.line(940) }}


Act_ActTrig = LAIR_END_dlg_complete

[Trigger]
nickname = LAIR_END_dlg_complete
{{ script.ends(940) }}
Act_ActTrig = LAIR_END_hatcher_start_travel_to_asf_hq


[Trigger]
nickname = LAIR_END_test_hatcher
Cnd_True = no_params
Act_SpawnFormation = asf_wing_A
Act_SpawnFormation = asf_wing_B
Act_SpawnFormation = asf_wing_C
Act_SpawnFormation = asf_wing_D

Act_ActTrig = LAIR_END_decloak_wing_A
Act_ActTrig = LAIR_END_decloak_wing_B
Act_ActTrig = LAIR_END_decloak_wing_C
Act_ActTrig = LAIR_END_decloak_wing_D

Act_SpawnShip = {{ hatcher.name }}, ol_hatcher_arrive, 20500, 0, 0, 0.707, 0, 0.707, 0
Act_CallThorn = scripts\mod\m08_lair_done_camera_03.thn, {{ hatcher.name }}

Act_ActTrig = LAIR_END_test_timeout

[Trigger]
nickname = LAIR_END_test_timeout
Cnd_Timer = 3
Act_ActTrig = LAIR_END_hatcher_start_travel_to_asf_hq

[Trigger]
nickname = LAIR_END_hatcher_start_travel_to_asf_hq
Cnd_Timer = 1
Act_GiveObjList = {{ asf.member(1) }}, ol_wing_A_road_out
Act_GiveObjList = {{ asf.member(4) }}, ol_wing_B_road_out
Act_ActTrig = LAIR_END_hatcher_time_to_travel_timeout

[Trigger]
nickname = LAIR_END_hatcher_time_to_travel_timeout
Cnd_Timer = 2
Act_RevertCam = no_params
Act_RelocateShip = {{ hatcher.name }}, 20300, 0, 0, 0.707, 0, -0.707, 0
Act_GiveObjList = Player, ol_pl_follow_hatcher
Act_GiveObjList = hatcher, ol_hatcher_goto_tau44_to_asf_hq
Act_GiveObjList = darcy, ol_darcy_follow_hatcher
Act_GiveObjList = {{ asf.member(7) }}, ol_wing_C_follow_player
Act_GiveObjList = {{ asf.member(10) }}, ol_wing_D_follow_player
Act_ActTrig = player_lock_maneuvers_delay
Act_ActTrig = LAIR_END_hatcher_travel
Act_ActTrig = hatcher_Fleet_armor

[Trigger]
nickname = hatcher_Fleet_armor
Cnd_True = no_params

Act_Invulnerable = Player, true
Act_Invulnerable = darcy, true
Act_Invulnerable = {{ hatcher.name }}, true
{{ asf.invulnerable() }}

[Trigger]
nickname = player_lock_maneuvers_delay
Cnd_Timer = 0.1
Act_LockManeuvers = true


[Trigger]
nickname = LAIR_END_hatcher_travel
Cnd_Timer = 6

;hatcher: 
{{ script.line(950) }}


;darcy: 
{{ script.line(960) }}


;hatcher: 
{{ script.line(970) }}


;trent: 
{{ script.line(980) }}


;hatcher: 
{{ script.line(990) }}


Act_Jumper = darcy, true

Act_ActTrig = LAIR_END_hatcher_near_jump_to_asf_hq

[Trigger]
nickname = LAIR_END_hatcher_near_jump_to_asf_hq
Cnd_DistShip = inside, Player, m8_tau44_to_m8_asf_hq, 500
Act_LockManeuvers = false
Act_PlayerCanDock = false, m8_tau44_to_m8_asf_hq
Act_DockRequest = m8_tau44_to_m8_asf_hq
Act_ActTrig = welcome_to_ASF_HQ

[Trigger]
nickname = welcome_to_ASF_HQ
Cnd_NPCSystemEnter = m8_asf_hq, {{ hatcher.name }}, {{ darcy.name }}
Act_ActTrig = welcome_to_ASF_HQ_complete
Act_RandomPop = False
Act_ActTrig = jump_asf_hq_complete
Act_PlayMusic = none

[Trigger]
nickname = welcome_to_ASF_HQ_complete
Cnd_Timer = 1
Act_ActTrig = ASF_HQ_ENTRY_init

[Trigger]
nickname = jump_asf_hq_complete
Cnd_JumpInComplete = Player
Act_ActTrig = ASF_HQ_ENTRY_init
Act_DeActTrig = welcome_to_ASF_HQ_complete

[Trigger]
nickname = ASF_HQ_ENTRY_init
Cnd_Timer = 0.1
Act_SpawnSolar = kings_dread
Act_SpawnFormation = asf_wing_extra_01
Act_SpawnShip = asf_W_D03b, no_ol, -5000,0,-5000


; Act_SpawnFormation = asf_wing_Y
Act_GiveObjList = Player, ol_pl_follow_hatcher
Act_GiveObjList = darcy, ol_darcy_follow_hatcher
Act_SpawnFormation = asf_wing_C, -5000,0,-5000, 0,0,1,0
Act_SpawnFormation = asf_wing_D, -5000,100,-5000, 0,0,1,0
Act_GiveObjList = {{ hatcher.name }}, ol_hatcher_asf_hq_travel
Act_GiveObjList = {{ asf.member(7) }}, ol_wing_C_follow_hatcher
Act_GiveObjList = {{ asf.member(10) }}, ol_wind_D_follow_hatcher
Act_ActTrig = player_lock_maneuvers_delay
Act_ActTrig = ASF_HQ_ENTRY_travel_dialog
Act_ActTrig = ASF_HQ_ENTRY_on_dread
Act_ActTrig = ASF_HQ_ENTRY_force_dock_player
Act_PlayerCanDock = false, kings_dread
Act_Jumper = {{ darcy.name }}, false
Act_Jumper = {{ hatcher.name }}, false
Act_ActTrig = hatcher_Fleet_armor
Act_ActTrig = OUTSIDE_expl_force_remove


[MsnSolar]
nickname = kings_dread
string_id = 096201
system = m8_asf_hq
position = 1000, 200, 2500
orientation = 0.707, 0, 0.707, 0
faction = li_grp
archetype = l_dreadnought
loadout = li_dreadnought_03
base = m8_asf_hq_01_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0

[MsnSolar]
nickname = sig42_dread
string_id = 096201
system = sig42
position = -40000, 0, 30000
orientation = 0.707, 0, -0.707, 0
faction = li_grp
archetype = l_dreadnought
loadout = li_dreadnought_03
base = m8_asf_hq_01_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0



[;




[Trigger]
nickname = ASF_HQ_ENTRY_travel_dialog
Cnd_Timer = 5


;darcy: 
{{ script.line(1000) }}


;hatcher: 
{{ script.line(1010) }}


;darcy: 
{{ script.line(1020) }}


;hatcher: 
{{ script.line(1030) }}


;trent: 
{{ script.line(1040) }}


;darcy: 
{{ script.line(1050) }}


;trent: 
{{ script.line(1060) }}


;hatcher: 
{{ script.line(1070) }}


;trent: 
{{ script.line(1080) }}



;hatcher: 
{{ script.line(1090) }}



[Trigger]
nickname = ASF_HQ_ENTRY_force_dock_player
Cnd_DistVec = inside, hatcher, 880, 120, 2500, 100
Act_Destroy = darcy, SILENT
Act_Destroy = hatcher, SILENT
Act_Forceland = m8_asf_hq_01_base

[Trigger]
nickname = ASF_HQ_ENTRY_on_dread
Cnd_BaseEnter = m8_asf_hq_01_base
Act_AddRTC = missions\m08\king_battleship_rtc.ini
Act_ActTrig = ASF_HQ_ENTRY_dread_rtc_done

[Trigger]
nickname = ASF_HQ_ENTRY_dread_rtc_done
Cnd_RTCDone = missions\m08\king_battleship_rtc.ini
Act_ActTrig = SIRIUS_init

[Trigger]
nickname = SIRIUS_init
Cnd_PlayerLaunch = no_params
Act_Destroy = kings_dread, SILENT
Act_SpawnSolar = sig42_dread
Act_ActTrig = SIRIUS_launch_complete
Act_SetRep = Player, sl_grp, 0
Act_SetRep = Player, co_grp, 0

[Trigger]
nickname = SIRIUS_launch_complete
Cnd_LaunchComplete = Player
Act_SpawnShip = nag_voice
Act_ActTrig = SIRIUS_real_launch_complete

[Trigger]
nickname = SIRIUS_real_launch_complete
Cnd_Timer = 1
Act_SetNNObj = NN_09_travel_to_pigar
Act_NagDistTowards = OBJ, goto_pigar, nag_voice, Sig42_Planet01, 090001, 3000, NAG_ALWAYS
Act_ActTrig = SIRIUS_near_pigar
Act_ActTrig = SIRIUS_mission_condition_dialog

; Act_ChangeState = FAIL, 97108
[Trigger]
nickname = SIRIUS_mission_condition_dialog
Cnd_True = no_param

;hatcher: 
{{ script.line(1140) }}


;darcy: 
{{ script.line(1150) }}


;trent: 
{{ script.line(1160) }}


;darcy: 
{{ script.line(1170) }}


Act_ActTrig = SIRIUS_mission_condition_dialog_done


[Trigger]
nickname = SIRIUS_mission_condition_dialog_done
{{ script.ends(1170) }}


Act_ActTrig = SIRIUS_alaric_dialog


[Trigger]
nickname = SIRIUS_alaric_dialog
Cnd_Timer = 5

;trent: 
{{ script.line(1100) }}


;hatcher: 
{{ script.line(1110) }}


;hatcher: 
{{ script.line(1120) }}


;hatcher: 
{{ script.line(1130) }}



[Trigger]
nickname = SIRIUS_near_pigar
Cnd_DistShip = inside, Player, Sig42_Planet01, 5000
Act_NagOff = goto_pigar
Act_AdjAcct = 50000
Act_ChangeState = SUCCEED




















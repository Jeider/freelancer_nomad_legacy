[Mission]
npc_ship_file = missions\m02\npcships.ini

[NPC]
nickname = npc_nnvoice
affiliation = fc_uk_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = nn_mod

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[MsnShip]
nickname = nag_target
NPC = npc_nnvoice
jumper = false
label = the_nagtarget

[ObjList]
nickname = force_stop
Idle = no_params

[ObjList]
nickname = unform
BreakFormation = no_params

[ObjList]
nickname = unform_n_stop
BreakFormation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player

[Trigger]
nickname = Wilham_Armor
Cnd_Timer = 1
Act_Invulnerable = Wilham, true, false, 0.590000

[Trigger]
nickname = Jacobo_Armor
Cnd_Timer = 1
Act_Invulnerable = Jacobo, true, false, 0.200000


[;
;-------------------------------------
;waypoints

{{ nn_objectives_list }}


;INIT MSN - MEET VENDOR

[Trigger]
nickname = init_ms2
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = dock_on_vendor_station
Act_ActTrig = wilham_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever


[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_popup

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = rh_biz_03

[Trigger]
nickname = vendor_popup
Cnd_Timer = 2
Act_Popupdialog = 092210, 092401, CLOSE

[Trigger]
nickname = init_objective
Cnd_True = no_params
{{ nn_meet_vendor.set_as_path() }}

[Trigger]
nickname = dock_on_vendor_station
Cnd_BaseEnter = {{ battleship.base }}
;;;

;---msn02_vendor

[Trigger]
nickname = wilham_vendor
system = rh_biz
Cnd_LocEnter = Bar, {{ battleship.base }}
Act_AddRTC = missions\m02\wilham_msn.ini
Act_ActTrig = ms2_do_accept

[Trigger]
nickname = ms2_do_accept
system = rh_biz
Cnd_MsnResponse = accept
Act_DeActTrig = wilham_vendor
Act_RemoveRTC = missions\m02\wilham_msn.ini
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_ActTrig = fortran_in_space
Act_ActTrig = fortran_launch_complete
{{ nn_launch.set() }}

Act_SetTitle = 092301
Act_SetOffer = 092302

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

Act_ActTrig = MSN_REP_BEFORE

;-WILHAM NPC

[NPC]
nickname = npc_wilham
affiliation = fc_uk_grp
npc_ship_arch = ms2_wilham
space_costume = rh_wilham_head, rh_wilham_body, comm_rh_wilham
individual_name = 092210
voice = razor_1

[MsnShip]
nickname = wilham
NPC = npc_wilham
jumper = true
label = friend
label = rheinland


;-BEGIN MISSION



[Trigger]
nickname = fortran_in_space
Cnd_InSpace = true
{{ thorn_m02_battleship_launch.call() }}
;; Act_StaticCam = -25463, -47, 18654, 1, 0, 0.60, 0
Act_SpawnShip = wilham, no_ol, {{ wilham_init.pos_orient }}

Act_ActTrig = fortran_space_formation
Act_EnableManeuver = formation, false

[Trigger]
nickname = fortran_space_formation
Cnd_Timer = 4
Act_GiveObjList = wilham, follow_player

[Trigger]
nickname = fortran_launch_complete
Cnd_LaunchComplete = Player
Act_ActTrig = Wilham_Armor
Act_ActTrig = Wilham_Triggers
Act_ActTrig = dialog_FirstSpace

[Trigger]
nickname = Wilham_Triggers
Cnd_True = no_params
Act_MarkObj = wilham, 1
Act_SetVibeLblToShip = friend, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, friend, REP_FRIEND_THRESHOLD

[Trigger]
nickname = dialog_FirstSpace
Cnd_Timer = 1
;Wilham: we need to go
Act_EtherComm = echo_m02, 092560, Player, DX_M02_1010_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

{{ nag.nag_voice }}
{{ nn_biz_tlr_1.set() }}

Act_ActTrig = biz_tlr_1_player_inside

[Trigger]
nickname = biz_tlr_1_player_inside
{{ biz_tlr_1.enter }}

Act_ActTrig = biz_tlr_1_player_exit

Act_ActTrig = dialog_after_firstSpace

[Trigger]
nickname = dialog_after_firstSpace
Cnd_True = no_params
;
;;Player: I have question
;Act_EtherComm = echo_m02_player, 092501, Player, DX_M02_0010_trent, -1, pi_pirate5_head, player_body, player_commhelmet
;
;;Wilham: Yes, go on
;Act_EtherComm = echo_m02, 092502, Player, DX_M02_0020_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Player: Can you do it without me?
Act_EtherComm = echo_m02_player, 092503, Player, DX_M02_0030_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Wilham: That's because of... (1)
Act_EtherComm = echo_m02, 092504, Player, DX_M02_0040_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Wilham: That's because of... (2)
Act_EtherComm = echo_m02, 092505, Player, DX_M02_0045_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Wilham: That's because of... (3)
Act_EtherComm = echo_m02, 092506, Player, DX_M02_0050_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Wilham: That's because of... (4)
Act_EtherComm = echo_m02, 092507, Player, DX_M02_0055_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Player: Ok, got it
Act_EtherComm = echo_m02_player, 092508, Player, DX_M02_0060_trent, -1, pi_pirate5_head, player_body, player_commhelmet



[Trigger]
nickname = biz_tlr_1_player_exit
{{ biz_tlr_1.exit }}

{{ nag.nag_voice }}
{{ nn_biz_to_om15.set() }}

Act_ActTrig = welcome_to_om15

;OM15 SYSTEM



[Trigger]
nickname = welcome_to_om15
Cnd_NPCSystemEnter = om15, wilham, Player

{{ nag.nag_off() }}

Act_RandomPop = False
Act_ActTrig = om15_welcome_complete

[Trigger]
nickname = om15_welcome_complete
Cnd_Timer = 1

Act_ActTrig = dialog_welcome_om15
Act_EnableManeuvers = formation, false

[ObjList]
nickname = ol_wilham_go_away
BreakFormation = no_params
GotoVec = goto_cruise, {{ om15_virtual_depot.pos }}, 2000, true

[Trigger]
nickname = wilham_go_away
Cnd_True = no_params
Act_MarkObj = wilham, 0
Act_GiveObjList = wilham, ol_wilham_go_away
Act_ActTrig = om15_hide_wilham

[Trigger]
nickname = om15_hide_wilham
Cnd_DistShip = outside, Player, wilham, 8000
Act_Destroy = wilham, SILENT

[Trigger]
nickname = dialog_welcome_om15
Cnd_Timer = 1
;Wilham: Go to miner
Act_EtherComm = echo_m02, 092509, Player, DX_M02_0070_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = dialog_welcome_om15_COMPLETE

[Trigger]
nickname = dialog_welcome_om15_COMPLETE
Cnd_CommComplete = DX_M02_0070_wilham
;Wilham: He is Jacobo
Act_EtherComm = echo_m02, 092510, Player, DX_M02_0075_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = wilham_go_away

Act_ActTrig = REFRESH_LOCKS

{{ nn_om15_tlr_1.set() }}

Act_ActTrig = om15_in_TLR

[Trigger]
nickname = om15_in_TLR
{{ om15_tlr_1.enter }}
Act_ActTrig = om15_leave_TLR

[Trigger]
nickname = om15_leave_TLR
{{ om15_tlr_1.exit }}
Act_ActTrig = INIT_MINER_MISSION

;;;

[MsnSolar]
nickname = test_ast1
string_id = 1
faction = fc_uk_grp
system = om15
position = {{ demo_ast1.pos }}
orientation = {{ demo_ast1.orient }}
archetype = om15_mineast_super
loadout = demo_om15_xast_ultra
label = ast
radius = 0

[MsnSolar]
nickname = test_ast2
string_id = 1
faction = fc_uk_grp
system = om15
position = {{ demo_ast2.pos }}
orientation = {{ demo_ast2.orient }}
archetype = om15_mineast_super
loadout = demo_om15_xast_empty
label = ast
radius = 0



;;;

[Trigger]
nickname = HELP_ASTEROIDS
Cnd_True = no_params
Act_SpawnSolar = test_ast1
Act_SpawnSolar = test_ast2
Act_ActTrig = AST_CAM

[Trigger]
nickname = AST_CAM
Cnd_True = no_params
{{ thorn_m02_demo_ast01.call() }}

Act_EtherComm = echo_m02, 1, Player, DX_M02_7000_help, -1, null, robot_body_E
Act_EtherComm = echo_m02, 1, Player, DX_M02_7010_help, -1, null, robot_body_E

Act_ActTrig = AST_valid_explode

[Trigger]
nickname = AST_valid_explode
Cnd_CommComplete = DX_M02_7010_help
Act_LightFuse = test_ast1, xast_dmg_ast07

Act_ActTrig = AST_valid_explode_timeout

[Trigger]
nickname = AST_valid_explode_timeout
Cnd_Timer = 5
Act_EtherComm = echo_m02, 1, Player, DX_M02_7020_help, -1, null, robot_body_E

Act_ActTrig = AST_valid_mass_explode_init

[Trigger]
nickname = AST_valid_mass_explode_init
Cnd_CommComplete = DX_M02_7020_help
Act_ActTrig = AST_valid_new_dmg2
Act_ActTrig = AST_valid_new_dmg3
Act_ActTrig = AST_valid_new_dmg4
Act_ActTrig = AST_valid_new_dmg5
Act_ActTrig = AST_valid_dmg_done

[Trigger]
nickname = AST_valid_new_dmg2
Cnd_Timer = 1
Act_LightFuse = test_ast1, xast_dmg_ast02

[Trigger]
nickname = AST_valid_new_dmg3
Cnd_Timer = 2
Act_LightFuse = test_ast1, xast_dmg_ast05

[Trigger]
nickname = AST_valid_new_dmg4
Cnd_Timer = 3
Act_LightFuse = test_ast1, xast_dmg_ast10

[Trigger]
nickname = AST_valid_new_dmg5
Cnd_Timer = 4
Act_LightFuse = test_ast1, xast_dmg_ast09

[Trigger]
nickname = AST_valid_dmg_done
Cnd_Timer = 9
{{ thorn_m02_demo_ast02.call() }}
Act_EtherComm = echo_m02, 1, Player, DX_M02_7030_help, -1, null, robot_body_E

Act_ActTrig = AST_invalid_explode

[Trigger]
nickname = AST_invalid_explode
Cnd_CommComplete = DX_M02_7030_help
Act_LightFuse = test_ast2, xast_dmg_ast03
Act_ActTrig = AST_invalid_new_dmg2
Act_ActTrig = AST_invalid_new_dmg3
Act_ActTrig = AST_invalid_new_dmg4

Act_ActTrig = AST_invalid_explode_timeout

[Trigger]
nickname = AST_invalid_new_dmg2
Cnd_Timer = 1
Act_LightFuse = test_ast2, xast_dmg_ast01

[Trigger]
nickname = AST_invalid_new_dmg3
Cnd_Timer = 2
Act_LightFuse = test_ast2, xast_dmg_ast04

[Trigger]
nickname = AST_invalid_new_dmg4
Cnd_Timer = 3
Act_LightFuse = test_ast2, xast_dmg_ast08

[Trigger]
nickname = AST_invalid_explode_timeout
Cnd_Timer = 8
Act_Destroy = test_ast1, SILENT
Act_Destroy = test_ast2, SILENT
Act_RevertCam = no_params
Act_Invulnerable = Player, false

[Trigger]
nickname = INIT_MINER_MISSION
Cnd_True = no_params
{{ nn_om15_jacobo_miner.set() }}

Act_LockDock = Player, om15_66, unlock

Act_ActTrig = vendor_jacobo
Act_ActTrig = near_locked_miner
Act_ActTrig = DEMO_FIELD_prepare

[Trigger]
nickname = DEMO_FIELD_prepare
Cnd_Timer = 5
{{ demo_astfield.remove_originals() }}
Act_ActTrig = DEMO_FIELD_spawn_new

[Trigger]
nickname = DEMO_FIELD_spawn_new
Cnd_Timer = 0.25
{{ demo_astfield.spawn_new_ast() }}

[Trigger]
nickname = near_locked_miner
Cnd_DistShip = inside, Player, {{ om15_jacobo_miner.name }}, 2000
Act_ActTrig = miner_popup_true
Act_Popupdialog = 092210, 092401, YES_NO

[Trigger]
nickname = miner_popup_true
Cnd_PopupDialog = YES
Act_PObjIdle = no_params
Act_ActTrig = HELP_ASTEROIDS


[Trigger]
nickname = vendor_jacobo
Cnd_LocEnter = Deck, {{ om15_jacobo_miner.base }}
{{ nag.nag_off() }}
Act_AddRTC = missions\m02\jacobo_msn.ini
Act_ActTrig = vendor_jacobo_done
repeatable = true


[Trigger]
nickname = vendor_jacobo_done
Cnd_RTCDone = missions\m02\jacobo_msn.ini
Act_RemoveRTC = missions\m02\jacobo_msn.ini
Act_DeActTrig = vendor_jacobo

Act_ActTrig = jacoboMSN_inSpace
Act_ActTrig = jacoboMSN_launchComplete
Act_ActTrig = roid_miner_force_exit

{{ nn_launch.set() }}
Act_RandomPop = false


[NPC]
nickname = npc_jacobo
affiliation = fc_uk_grp
npc_ship_arch = ms2_jacobo
space_costume = pl_male1_head, pi_pirate2_body, comm_br_guard
individual_name = 092211
voice = pilot_f_mil_m01

[MsnShip]
nickname = jacobo
NPC = npc_jacobo
jumper = true
label = outcast

[Trigger]
nickname = roid_miner_force_exit
Cnd_LocEnter = Deck, {{ om15_jacobo_miner.base }}
Act_AddRTC = missions\m02\roid_miner_force_exit.ini

Act_ActTrig = jacoboMSN_inSpace
Act_ActTrig = jacoboMSN_launchComplete
Act_ActTrig = jacoboMSN_playerLaunch

[Trigger]
nickname = jacoboMSN_inSpace
Cnd_InSpace = true
{{ demo_astfield.remove_new_ast() }}
Act_SpawnShip = jacobo, no_ol, {{ jacobo_init.pos_orient }}

[Trigger]
nickname = jacoboMSN_launchComplete
Cnd_LaunchComplete = Player
Act_ActTrig = Jacobo_Armor
Act_ActTrig = Jacobo_Triggers
Act_ActTrig = dialog_jacoboMSN
Act_ActTrig = spawn_suprises
;reset nag_voice
Act_Destroy = nag_voice, SILENT

[Trigger]
nickname = Jacobo_Triggers
Cnd_True = no_params
Act_MarkObj = Jacobo, 1
Act_SetVibeLblToShip = outcast, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, outcast, REP_FRIEND_MAXIMUM

[Trigger]
nickname = dialog_jacoboMSN
Cnd_Timer = 2
;Jacobo: Objectives loaded
Act_EtherComm = echo_m02, 092562, Player, DX_M02_1030_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

Act_ActTrig = dialog_jacoboMSN_COMPLETE
Act_GiveObjList = Jacobo, follow_player

[Trigger]
nickname = dialog_jacoboMSN_COMPLETE
Cnd_CommComplete = DX_M02_1030_jacobo
Act_ActTrig = init_SUPRISE_MSN

[Trigger]
nickname = spawn_suprises
Cnd_True = no_params
Act_SpawnShip = suprise_waypoint01_ship01
Act_SpawnShip = suprise_waypoint01_ship02
Act_SpawnShip = suprise_waypoint02_ship01
Act_SpawnShip = suprise_waypoint02_ship02
Act_SpawnShip = suprise_waypoint02_ship03
Act_Invulnerable = suprise_waypoint02_ship01, true
Act_Invulnerable = suprise_waypoint02_ship02, true
Act_Invulnerable = suprise_waypoint02_ship03, true


;SUPRISES

[NPC]
nickname = npc_suprise
affiliation = fc_uk_grp
npc_ship_arch = ms2_suprise_ship
individual_name = 092201
voice = null

[MsnShip]
nickname = suprise_waypoint01_ship01
NPC = npc_suprise
position = {{ ship1.pos }}
orientation = {{ ship1.orient_random }}
label = suprise

[MsnShip]
nickname = suprise_waypoint01_ship02
NPC = npc_suprise
position = {{ ship2.pos }}
orientation = {{ ship2.orient_random }}
label = suprise

[MsnShip]
nickname = suprise_waypoint02_ship01
NPC = npc_suprise
position = {{ shipa1.pos }}
orientation = {{ shipa1.orient_random }}
label = suprise

[MsnShip]
nickname = suprise_waypoint02_ship02
NPC = npc_suprise
position = {{ shipa2.pos }}
orientation = {{ shipa2.orient_random }}
label = suprise

[MsnShip]
nickname = suprise_waypoint02_ship03
NPC = npc_suprise
position = {{ shipa3.pos }}
orientation = {{ shipa3.orient_random }}
label = suprise






;END

[Trigger]
nickname = init_SUPRISE_MSN
Cnd_True = no_params

{{ nag.nag_voice }}
{{ nn_scan_wp1.set() }}

Act_ActTrig = around_WAYPOINT1
Act_ActTrig = dialog_jacobo_afterStart

[Trigger]
nickname = dialog_jacobo_afterStart
Cnd_Timer = 2
;Player: What is junkers?
Act_EtherComm = echo_m02_player, 092511, Player, DX_M02_0100_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Is a badguys
Act_EtherComm = echo_m02, 092512, Player, DX_M02_0110_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Jacobo: Is a badguys
Act_EtherComm = echo_m02, 092513, Player, DX_M02_0112_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Jacobo: Is a badguys
Act_EtherComm = echo_m02, 092514, Player, DX_M02_0115_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard


[Trigger]
nickname = around_WAYPOINT1
Cnd_DistVec = inside, Player, {{ waypoint1.pos }}, 1000
Act_GiveObjList = Player, force_stop
Act_PlayMusic = music_reveal_and_exposition, none, none, none

;Jacobo: Let's scan
Act_EtherComm = echo_m02, 092515, Player, DX_M02_0120_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

{{ nn_scan_objects.set() }}
Act_MarkObj = suprise_waypoint01_ship01, 1
Act_MarkObj = suprise_waypoint01_ship02, 1
Act_ActTrig = WP1_scanned_LEFT
Act_ActTrig = WP1_scanned_RIGHT

[Trigger]
nickname = WP1_scanned_LEFT
Cnd_CargoScanned = Player, suprise_waypoint01_ship01
Act_ActTrig = WP1_scanned_RIGHT_after_LEFT
Act_MarkObj = suprise_waypoint01_ship01, 0
Act_DeActTrig = WP1_scanned_RIGHT
Act_ActTrig = WP1_scan_in_progress

[Trigger]
nickname = WP1_scanned_RIGHT_after_LEFT
Cnd_CargoScanned = Player, suprise_waypoint01_ship02
Act_ActTrig = WP1_scan_done

[Trigger]
nickname = WP1_scanned_RIGHT
Cnd_CargoScanned = Player, suprise_waypoint01_ship02
Act_ActTrig = WP1_scanned_LEFT_after_RIGHT
Act_MarkObj = suprise_waypoint01_ship02, 0
Act_DeActTrig = WP1_scanned_LEFT
Act_ActTrig = WP1_scan_in_progress

[Trigger]
nickname = WP1_scanned_LEFT_after_RIGHT
Cnd_CargoScanned = Player, suprise_waypoint01_ship01
Act_ActTrig = WP1_scan_done

[Trigger]
nickname = WP1_scan_in_progress
Cnd_True = no_params
;Player: Scanning..
Act_EtherComm = echo_m02_player, 092516, Player, DX_M02_0130_trent, -1, pi_pirate5_head, player_body, player_commhelmet


[Trigger]
nickname = WP1_scan_done
Cnd_Timer = 3
;Player: Nothing is found
Act_EtherComm = echo_m02_player, 092517, Player, DX_M02_0140_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = WP1_objective_complete
Act_ActTrig = clear_WP1_MSN

[Trigger]
nickname = WP1_objective_complete
Cnd_CommComplete = DX_M02_0140_trent
Act_ActTrig = init_WP2

[Trigger]
nickname = clear_WP1_MSN
Cnd_Timer = 2
Act_MarkObj = suprise_waypoint01_ship01, 0
Act_MarkObj = suprise_waypoint01_ship02, 0
{{ nag.nag_off() }}

;WP2 NPC

;v2 enemies

[;

9 total

1 - CSV
1 - sabre
3 - stiletto
4 - dagger

[ObjList]
nickname = cinema_attack
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 28275, 45, 42030, 50, true



[NPC]
nickname = npc_suprise_freighter
affiliation = fc_uk_grp
npc_ship_arch = ms2_suprise_ship_freighter
individual_name = 092201
voice = null

[MsnShip]
nickname = suprise_waypoint02_static_ship01
NPC = npc_suprise_freighter
position = 28580, 38, 42000
orientation = 0.55, -0.1, 0.2, -0.15
label = suprise
radius = 0




[NPC]
nickname = npc_csv_cinema
affiliation = fc_uk_grp
npc_ship_arch = ms2_csv_cinema

[NPC]
nickname = npc_junker_fighter_cinema
affiliation = fc_uk_grp
npc_ship_arch = ms2_junker_fighter

[NPC]
nickname = npc_junker_elite_cinema
affiliation = fc_uk_grp
npc_ship_arch = ms2_junker_elite


[MsnShip]
nickname = junker_cinema1
NPC = npc_csv_cinema
jumper = false
random_name = true
radius = 0
position = 28570, 41, 42005
orientation = 0.65, 0, -0.35, 0
; rotate = 0, -60, 0

[MsnShip]
nickname = junker_cinema2
NPC = npc_junker_fighter_cinema
jumper = false
random_name = true
radius = 0
position = 28575, 45, 42030
orientation = 0.5, 0, 0.5, 0
; rotate = 0, 90, 0

[MsnShip]
nickname = junker_cinema3
NPC = npc_junker_elite_cinema
jumper = false
random_name = true
radius = 0
position = 28575, 40, 42050
orientation = 0.65, 0, 0.35, 0
; rotate = 0, 60, 0

[MsnShip]
nickname = junker_cinema4
NPC = npc_junker_elite_cinema
jumper = false
random_name = true
radius = 0
position = 28595, 40, 42045
orientation = 0.65, 0, 0.35, 0
; rotate = 0, 60, 0


[NPC]
nickname = npc_csv
affiliation = junk_grp
npc_ship_arch = ms2_csv
voice = pilot_f_ill_m01

[NPC]
nickname = npc_junker_fighter
affiliation = junk_grp
npc_ship_arch = ms2_junker_fighter
voice = pilot_f_ill_m01b

[NPC]
nickname = npc_junker_elite
affiliation = junk_grp
npc_ship_arch = ms2_junker_elite
voice = pilot_f_ill_m02a

[MsnShip]
nickname = junker1
NPC = npc_csv
jumper = false
label = junker
random_name = true
rel_pos = 15, Player, 1200

[MsnShip]
nickname = junker2
NPC = npc_junker_fighter
jumper = false
label = junker
random_name = true
rel_pos = 45, Player, 1250

[MsnShip]
nickname = junker3
NPC = npc_junker_fighter
jumper = false
label = junker
random_name = true
rel_pos = 150, Player, 1250

[MsnShip]
nickname = junker4
NPC = npc_junker_elite
jumper = false
label = junker
random_name = true
rel_pos = 250, Player, 1250

[MsnShip]
nickname = junker5
NPC = npc_junker_elite
jumper = false
label = junker
random_name = true
rel_pos = 90, Player, 1250

[MsnShip]
nickname = junker6
NPC = npc_junker_elite
jumper = false
label = junker
random_name = true
rel_pos = 320, Player, 1750

[MsnShip]
nickname = junker7
NPC = npc_junker_fighter
jumper = false
label = junker
random_name = true
rel_pos = 45, Player, 1750

[MsnShip]
nickname = junker8
NPC = npc_junker_fighter
jumper = false
label = junker
random_name = true
rel_pos = 150, Player, 1750

[MsnShip]
nickname = junker9
NPC = npc_junker_elite
jumper = false
label = junker
random_name = true
rel_pos = 250, Player, 1650

[MsnShip]
nickname = junker10
NPC = npc_junker_elite
jumper = false
label = junker
random_name = true
rel_pos = 90, Player, 1650


;-->end



[Trigger]
nickname = init_WP2
Cnd_True = no_params
{{ nn_scan_wp2.set() }}
;Jacobo:
Act_EtherComm = echo_m02, 092518, Player, DX_M02_0150_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

Act_ActTrig = around_WAYPOINT2

[Trigger]
nickname = spawn_junkers
Cnd_True = no_params
Act_SpawnShip = junker1
Act_SpawnShip = junker2
Act_SpawnShip = junker3
Act_SpawnShip = junker4
Act_SpawnShip = junker5
Act_SpawnShip = junker6

[Trigger]
nickname = mark_junkers
Cnd_Timer = 0.1
Act_MarkObj = junker1, 1
Act_MarkObj = junker2, 1
Act_MarkObj = junker3, 1
Act_MarkObj = junker4, 1
Act_MarkObj = junker5, 1
Act_MarkObj = junker6, 1


[Trigger]
nickname = junker_fight_setrep
Cnd_True = no_params
Act_SetVibeLbl = outcast, junker, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = junker, outcast, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = junker, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, junker, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = around_WAYPOINT2
Cnd_DistVec = inside, Player, {{ waypoint2.pos }}, 1000
Act_GiveObjList = Player, force_stop
Act_GiveObjList = Jacobo, jacobo_fighting

;Jacobo: What is that...
Act_EtherComm = echo_m02, 092519, Player, DX_M02_0155_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Player: May be junkers...
Act_EtherComm = echo_m02_player, 092520, Player, DX_M02_0160_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = INIT_JUNK_cinema


[Trigger]
nickname = INIT_JUNK_cinema
Cnd_CommComplete = DX_M02_0160_trent
Act_GiveObjList = Player, force_stop
Act_GiveObjList = Jacobo, force_stop

Act_CallThorn = scripts\mod\m02_junkers.thn, Player

Act_ActTrig = JUNK_freighter_suprise
Act_SpawnShip = junker_cinema1
Act_SpawnShip = junker_cinema2
Act_SpawnShip = junker_cinema3
Act_SpawnShip = junker_cinema4

Act_LightFuse = junker_cinema1, fuse_m02_force_lapa_fx

Act_ActTrig = VOICE_junker2
Act_ActTrig = VOICE_junker3
Act_ActTrig = VOICE_junker4
Act_ActTrig = VOICE_junker2_1

Act_ActTrig = JUNK_cinema_voice_done
Act_ActTrig = JUNK_cinema_done


[Trigger]
nickname = JUNK_freighter_suprise
Cnd_True = no_params
Act_SpawnShip = suprise_waypoint02_static_ship01
Act_LightFuse = suprise_waypoint02_static_ship01, fuse_suprise_rh_freighter

[Trigger]
nickname = VOICE_junker2
Cnd_Timer = 10
;Junker1 #1
Act_EtherComm = echo_m02, 092521, Player, DX_M02_0170_junker1, -1, sh_male2_head, sh_male1_body, comm_pi_pirate

[Trigger]
nickname = VOICE_junker3
Cnd_Timer = 17
;Junker2 #1
Act_EtherComm = echo_m02, 092522, Player, DX_M02_0180_junker2, -1, sh_male2_head, sh_male1_body, comm_pi_pirate

[Trigger]
nickname = VOICE_junker4
Cnd_Timer = 20
;Junker3 #1
Act_EtherComm = echo_m02, 092523, Player, DX_M02_0190_junker3, -1, sh_male2_head, sh_male1_body, comm_pi_pirate

[Trigger]
nickname = VOICE_junker2_1
Cnd_Timer = 25
;Junker1 #1
Act_EtherComm = echo_m02, 092524, Player, DX_M02_0200_junker1, -1, sh_male2_head, sh_male1_body, comm_pi_pirate

[Trigger]
nickname = JUNK_cinema_voice_done
Cnd_CommComplete = DX_M02_0200_junker1
Act_ActTrig = JUNK_junker2_attack
Act_ActTrig = JUNK_junker3_attack
Act_ActTrig = JUNK_junker4_attack
Act_ActTrig = JUNK_junker2_attack

[Trigger]
nickname = JUNK_junker2_attack
Cnd_True = no_params
Act_GiveObjList = junker_cinema2, cinema_attack

[Trigger]
nickname = JUNK_junker3_attack
Cnd_Timer = 0.5
Act_GiveObjList = junker_cinema3, cinema_attack

[Trigger]
nickname = JUNK_junker4_attack
Cnd_Timer = 1
Act_GiveObjList = junker_cinema4, cinema_attack

[Trigger]
nickname = JUNK_cinema_remove_actors
Cnd_True = no_params
Act_Destroy = junker_cinema2, SILENT
Act_Destroy = junker_cinema3, SILENT
Act_Destroy = junker_cinema4, SILENT
Act_ActTrig = JUNK_cinema_remove_csv_job

[Trigger]
nickname = JUNK_cinema_remove_csv_job
Cnd_Timer = 0.5
Act_Destroy = suprise_waypoint02_static_ship01, SILENT
Act_Destroy = junker_cinema1, SILENT

[Trigger]
nickname = JUNK_cinema_done
Cnd_Timer = 33
Act_Save = junker_battle_save, 092310

Act_RelocateShip = Player, {{ player_scan_save.pos_orient }}
Act_RelocateShip = jacobo, {{ jacobo_scan_save.pos_orient }}

Act_ActTrig = JUNK_cinema_remove_actors
Act_ActTrig = JUNK_last_second_before_battle
Act_ActTrig = JUNK_activate_player

[Trigger]
nickname = JUNK_activate_player
Cnd_Timer = 0.5
Act_RevertCam = no_params

[Trigger]
nickname = JUNK_last_second_before_battle
Cnd_Timer = 1
Act_Invulnerable = Player, false
Act_ActTrig = spawn_junkers
Act_ActTrig = INIT_JUNK_BATTLE

[Trigger]
nickname = junker_battle_save
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = INIT_JUNK_SAVE

[Trigger]
nickname = INIT_JUNK_SAVE
Cnd_Timer = 0.3
Act_RelocateShip = Player, {{ player_scan_save.pos_orient }}
Act_SpawnShip = jacobo, no_ol, {{ jacobo_scan_save.pos_orient }}
Act_SpawnShip = nag_voice
Act_ActTrig = spawn_junkers
Act_ActTrig = spawn_suprises
Act_ActTrig = INIT_JUNK_BATTLE_wait

[Trigger]
nickname = INIT_JUNK_BATTLE_wait
Cnd_Timer = 0.2
Act_ActTrig = Jacobo_Armor
Act_ActTrig = Jacobo_Triggers
Act_ActTrig = INIT_JUNK_BATTLE


[Trigger]
nickname = INIT_JUNK_BATTLE
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_omega_battle
{{ nn_destroy_junkers.set() }}
Act_ActTrig = mark_junkers
Act_ActTrig = junker_fight_setrep
Act_ActTrig = junkers_destroyed
{{ nag.combat('scan_combat', jacobo) }}
Act_PlayerEnemyClamp = 2, 3

[Trigger]
nickname = junkers_destroyed
Cnd_Destroyed = junker, -1, ALL_IGNORE_LANDING
Act_PlayMusic = none, none, none, music_anticipation_light
{{ nn_scan_wp2.set() }}
;Jacobo: Try to scan
Act_EtherComm = echo_m02, 092525, Player, DX_M02_0210_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

Act_GiveObjList = Jacobo, follow_player
Act_ActTrig = init_WP2_SEARCH

[Trigger]
nickname = init_WP2_SEARCH
Cnd_Timer = 2
Act_MarkObj = suprise_waypoint02_ship01, 1
Act_MarkObj = suprise_waypoint02_ship02, 1
Act_MarkObj = suprise_waypoint02_ship03, 1
{{ nn_scan_objects.set() }}
Act_ActTrig = IS_FINDED

[Trigger]
nickname = IS_FINDED
Cnd_CargoScanned = Player, suprise_waypoint02_ship02

;Player: Finded!
Act_EtherComm = echo_m02_player, 092527, Player, DX_M02_0230_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_Invulnerable = suprise_waypoint02_ship01, false
Act_Invulnerable = suprise_waypoint02_ship02, false
Act_Invulnerable = suprise_waypoint02_ship03, false
{{ nn_drop_objects.set() }}
Act_SetVibe = suprise_waypoint02_ship02, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, suprise_waypoint02_ship02, REP_HOSTILE_MAXIMUM
Act_ActTrig = Spawn_BlackBox

Act_MarkObj = suprise_waypoint02_ship01, 0
Act_MarkObj = suprise_waypoint02_ship03, 0



[Trigger]
nickname = Spawn_BlackBox
Cnd_HealthDec = suprise_waypoint02_ship02, 0.50000
Act_SpawnLoot = black_box
Act_MarkObj = suprise_waypoint02_ship02, 0
Act_MarkObj = black_box, 1
Act_ActTrig = Player_GetBlackBox
Act_ActTrig = black_box_exploded
{{ nn_get_objects.set() }}

[Trigger]
nickname = black_box_exploded
Cnd_Destroyed = black_box
Act_ChangeState = FAIL, 092102


[Trigger]
nickname = Player_GetBlackBox
Cnd_LootAcquired = black_box, Player
Act_DeActTrig = black_box_exploded
Act_RemoveCargo = black_box
;Player: Lets go back home
Act_EtherComm = echo_m02_player, 092528, Player, DX_M02_0240_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = init_WP3
Act_ActTrig = remove_WP2
Act_NagOff = waypoint2x

[Trigger]
nickname = remove_WP2
Cnd_DistVec = outside, Player, {{ waypoint2.pos }}, 5000
Act_PlayMusic = no_params

[Trigger]
nickname = init_WP3
Cnd_CommComplete = DX_M02_0240_trent
{{ nn_om15_tlr_2.set() }}
Act_ActTrig = dialog_route_to_WP3
Act_ActTrig = around_WP3
Act_ActTrig = Jacobo_goes_home

[Trigger]
nickname = dialog_route_to_WP3
Cnd_DistVec = outside, Player, {{ waypoint2.pos }}, 2000
;Jacobo: Can you job for hire?
Act_EtherComm = echo_m02, 092529, Player, DX_M02_0250_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Player: Yes, I can.
Act_EtherComm = echo_m02_player, 092530, Player, DX_M02_0260_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Can you help sometime?
Act_EtherComm = echo_m02, 092531, Player, DX_M02_0270_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Player: Yes, of course.
Act_EtherComm = echo_m02_player, 092532, Player, DX_M02_0280_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Ok, I'll find you later
Act_EtherComm = echo_m02, 092533, Player, DX_M02_0290_jacobo, -1,  pl_male1_head, pi_pirate2_body, comm_br_guard

;Player: No problem!
Act_EtherComm = echo_m02_player, 092534, Player, DX_M02_0300_trent, -1, pi_pirate5_head, player_body, player_commhelmet


[Trigger]
nickname = Jacobo_goes_home
Cnd_CommComplete = DX_M02_0300_trent
Act_MarkObj = Jacobo, 0
Act_GiveObjList = jacobo, jacobo_goes_home

[Trigger]
nickname = around_WP3
Cnd_DistShip = inside, Player, {{ om15_tlr_2.start_ring }}, 3000
Act_ActTrig = MINER_MSN_COMPLETE


[MsnLoot]
nickname = black_box
archetype = ms2_black_box
string_id = 217112
rel_pos_obj = suprise_waypoint02_ship02
rel_pos_offset = 0, -10, 0
velocity = 0, -10, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[ObjList]
nickname = jacobo_fighting
BreakFormation = no_params
GotoShip = goto_no_cruise, junker1, 5000, true

[ObjList]
nickname = jacobo_goes_home
SetPriority = ALWAYS_EXECUTE
BreakFormation = no_params
Dock = {{ om15_jacobo_miner.name }}

[Trigger]
nickname = MINER_MSN_COMPLETE
Cnd_True = no_params
;Wilham: Trent, go to bizmark jumpgate
Act_EtherComm = echo_m02, 092535, Player, DX_M02_0310_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = BACK_TO_WILHAM

[Trigger]
nickname = BACK_TO_WILHAM
Cnd_CommComplete = DX_M02_0310_wilham

Act_RandomPop = false
Act_ActTrig = BACK_TO_WILHAM_in_TLR

[Trigger]
nickname = BACK_TO_WILHAM_in_TLR
{{ om15_tlr_2.enter }}

Act_ActTrig = BACK_TO_WILHAM_spawn_ships
Act_ActTrig = BACK_TO_WILHAM_tlr_exit


[NPC]
nickname = npc_punisher_a01
affiliation = rh_grp
npc_ship_arch = ms2_punisher_b
individual_name = 092202
voice = pilot_f_leg_m01

[NPC]
nickname = npc_punisher_a02
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 092203
voice = pilot_f_mil_m01

[NPC]
nickname = npc_punisher_a03
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 092204
voice = pilot_f_mil_m02

[NPC]
nickname = npc_punisher_a04
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 092205
voice = pilot_f_mil_m02

[NPC]
nickname = npc_punisher_a05
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 092206
voice = pilot_f_leg_m01

[MsnShip]
nickname = punisher1
NPC = npc_punisher_a01
label = punisher
label = punisher_bomber
label = rheinland
label = punisher_assaultman

[MsnShip]
nickname = punisher2
NPC = npc_punisher_a02
label = punisher
label = punisher_mainforce
label = rheinland

[MsnShip]
nickname = punisher3
NPC = npc_punisher_a03
label = punisher
label = punisher_mainforce
label = rheinland
label = punisher_assaultman

[MsnShip]
nickname = punisher4
NPC = npc_punisher_a04
label = punisher
label = punisher_mainforce
label = rheinland
label = punisher_assaultman

[MsnShip]
nickname = punisher5
NPC = npc_punisher_a05
label = punisher
label = punisher_mainforce
label = rheinland
label = punisher_assaultman

[MsnFormation]
nickname = punishers
formation = punishers
ship = punisher1
ship = punisher2
ship = punisher3
ship = punisher4
ship = punisher5



[Trigger]
nickname = BACK_TO_WILHAM_spawn_ships
Cnd_True = no_params
Act_SpawnFormation = punishers, {{ punisher_init.pos_orient }}
Act_GiveObjList = punisher1, breakform
Act_SpawnShip = wilham, no_ol, {{ wilham_back_init.pos_orient }}
Act_ActTrig = around_punishers

[Trigger]
nickname = BACK_TO_WILHAM_tlr_exit
{{ om15_tlr_2.exit }}

;Wilham: Trent, please send data to punishers
Act_EtherComm = echo_m02, 092536, Player, DX_M02_0320_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = Meeting_prepare_Friends
Act_ActTrig = MEETING_first_dialog_ends
{{ nn_wait_for_transfer_data.set() }}

[Trigger]
nickname = Meeting_prepare_Friends
Cnd_True = no_params
Act_ActTrig = Wilham_Armor
Act_ActTrig = Wilham_Triggers
Act_SetVibeLblToShip = punisher, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, punisher, REP_FRIEND_THRESHOLD

[Trigger]
nickname = MEETING_first_dialog_ends
Cnd_CommComplete = DX_M02_0320_wilham
Act_ActTrig = MEETING_mad_trent_dlg

[Trigger]
nickname = MEETING_mad_trent_dlg
Cnd_Timer = 1
;Player: Why you leave me alone?
Act_EtherComm = echo_m02_player, 092537, Player, DX_M02_0330_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Wilham: This is part of plan
Act_EtherComm = echo_m02, 092538, Player, DX_M02_0340_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = MEETING_mad_trent_dlg_complete

[Trigger]
nickname = MEETING_mad_trent_dlg_complete
Cnd_CommComplete = DX_M02_0340_wilham
Act_ActTrig = blackbox_readed

[Trigger]
nickname = blackbox_readed
Cnd_Timer = 1
;Punisher_A: We found the depot
Act_EtherComm = echo_m02, 092539, Player, DX_M02_0350_punisher, -1,  rh_sales_head, rh_male_elite_body, comm_rh_elite

;Wilham: Good, give me coords.  Trent, are you join us?
Act_EtherComm = echo_m02, 092540, Player, DX_M02_0360_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Player: Can I say no?
Act_EtherComm = echo_m02_player, 092541, Player, DX_M02_0370_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Wilham: Heh, no
Act_EtherComm = echo_m02, 092542, Player, DX_M02_0380_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham


Act_ActTrig = blackbox_readed_words_ends

[Trigger]
nickname = blackbox_readed_words_ends
Cnd_CommComplete = DX_M02_0360_wilham
Act_ActTrig = init_ROUTE_TO_DEPOT
Act_Save = MEET_PUNISHERS_SAVE, 092311

[Trigger]
nickname = MEET_PUNISHERS_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_MEET_PUNISHERS_SAVE

[Trigger]
nickname = init_MEET_PUNISHERS_SAVE
Cnd_Timer = 0.3
Act_RelocateShip = Player, {{ player_back_save.pos_orient }}
{{ nag.nag_voice }}
Act_SpawnShip = wilham, no_ol, {{ wilham_back_init.pos_orient }}
Act_SpawnFormation = punishers, {{ punisher_init.pos_orient }}
Act_GiveObjList = punisher1, breakform
Act_ActTrig = MEET_PUNISHERS_ROUTE_init
Act_ActTrig = Meeting_prepare_Friends

[Trigger]
nickname = MEET_PUNISHERS_ROUTE_init
Cnd_Timer = 0.3
Act_ActTrig = init_ROUTE_TO_DEPOT

[ObjList]
nickname = friends_follow_player
SetPriority = NORMAL
FollowPlayer = fighter_basic_player_forward, wilham, punisher1, punisher2, punisher3, punisher4, punisher5

[ObjList]
nickname = friends_follow_player_except_catcher
SetPriority = NORMAL
FollowPlayer = fighter_basic_player_forward, wilham, punisher1, punisher3, punisher4, punisher5

[Trigger]
nickname = remove_friend_formation
Cnd_True = no_params
Act_GiveObjList = Player, unform
Act_GiveObjList = Player, force_stop
Act_GiveObjList = wilham, unform
Act_GiveObjList = punisher1, unform
Act_GiveObjList = punisher2, unform
Act_GiveObjList = punisher3, unform
Act_GiveObjList = punisher4, unform
Act_GiveObjList = punisher5, unform

[Trigger]
nickname = init_ROUTE_TO_DEPOT
Cnd_True = no_params
;Player: So, let's go
Act_EtherComm = echo_m02_player, 092543, Player, DX_M02_0390_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_SetNNObj = m2_find_corsair_depot
Act_GiveObjList = Player, friends_follow_player
Act_ActTrig = init_DEPOT_BATTLE
{{ nn_find_corsair_depot.set() }}

;depots

[MsnSolar]
nickname = depot1
string_id = 092207
faction = co_grp
system = om15
position = 25100, 0, -52500
orientation = 1, 0, 0, 0
archetype = space_tanklx4
label = depot
radius = 0

[MsnSolar]
nickname = depot2
string_id = 092207
faction = co_grp
system = om15
position = 24900, 0, -52500
orientation = 1, 0, 0, 0
archetype = space_tanklx4
label = depot
radius = 0

;Corsair ships

[NPC]
nickname = npc_co_fighter
affiliation = co_grp
npc_ship_arch = co_fighter_m2

[NPC]
nickname = npc_co_freighter
affiliation = co_grp
npc_ship_arch = co_freighter_m2

[NPC]
nickname = npc_co_fighter_improved
affiliation = co_grp
npc_ship_arch = co_fighter_m2_improved


[MsnShip]
nickname = depot_freighter1
NPC = npc_co_freighter
label = corsairs
label = depot_freighters
random_name = true

[MsnShip]
nickname = depot_freighter2
NPC = npc_co_freighter
label = corsairs
label = depot_freighters
random_name = true

[MsnShip]
nickname = depot_fighterA1
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

[MsnShip]
nickname = depot_fighterA2
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

[MsnShip]
nickname = depot_fighterA3
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

[MsnShip]
nickname = depot_fighterB1
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

[MsnShip]
nickname = depot_fighterB2
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

[MsnShip]
nickname = depot_fighterB3
NPC = npc_co_fighter
label = corsairs
label = depot_fighters
random_name = true

;;; flyback


[ObjList]
nickname = back_to_depot
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, {{ depot_waypoint1.pos }}, 500, true

[Trigger]
nickname = depot_check_outside
Cnd_True = no_params
Act_ActTrig = depot_wilham_outside
Act_ActTrig = depot_punisher1_outside
;Act_ActTrig = depot_punisher2_outside
Act_ActTrig = depot_punisher3_outside
Act_ActTrig = depot_punisher4_outside
Act_ActTrig = depot_punisher5_outside

[Trigger]
nickname = depot_check_outside_turn_off
Cnd_True = no_params
Act_DeActTrig = depot_wilham_outside
Act_DeActTrig = depot_punisher1_outside
;Act_DeActTrig = depot_punisher2_outside
Act_DeActTrig = depot_punisher3_outside
Act_DeActTrig = depot_punisher4_outside
Act_DeActTrig = depot_punisher5_outside
Act_DeActTrig = depot_wilham_outside_check_again
Act_DeActTrig = depot_punisher1_outside_check_again
;Act_DeActTrig = depot_punisher2_outside_check_again
Act_DeActTrig = depot_punisher3_outside_check_again
Act_DeActTrig = depot_punisher4_outside_check_again
Act_DeActTrig = depot_punisher5_outside_check_again

[Trigger]
nickname = depot_wilham_outside
Cnd_DistVec = outside, wilham, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = wilham, back_to_depot
Act_ActTrig = depot_wilham_outside_check_again

[Trigger]
nickname = depot_wilham_outside_check_again
Cnd_DistVec = inside, wilham, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_wilham_outside

[Trigger]
nickname = depot_punisher1_outside
Cnd_DistVec = outside, punisher1, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = punisher1, back_to_depot
Act_ActTrig = depot_punisher1_outside_check_again

[Trigger]
nickname = depot_punisher1_outside_check_again
Cnd_DistVec = inside, punisher1, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_punisher1_outside

[Trigger]
nickname = depot_punisher2_outside
Cnd_DistVec = outside, punisher2, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = punisher2, back_to_depot
Act_ActTrig = depot_punisher2_outside_check_again

[Trigger]
nickname = depot_punisher2_outside_check_again
Cnd_DistVec = inside, punisher2, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_punisher2_outside

[Trigger]
nickname = depot_punisher3_outside
Cnd_DistVec = outside, punisher3, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = punisher3, back_to_depot
Act_ActTrig = depot_punisher3_outside_check_again

[Trigger]
nickname = depot_punisher3_outside_check_again
Cnd_DistVec = inside, punisher3, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_punisher3_outside

[Trigger]
nickname = depot_punisher4_outside
Cnd_DistVec = outside, punisher4, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = punisher4, back_to_depot
Act_ActTrig = depot_punisher4_outside_check_again

[Trigger]
nickname = depot_punisher4_outside_check_again
Cnd_DistVec = inside, punisher4, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_punisher4_outside

[Trigger]
nickname = depot_punisher5_outside
Cnd_DistVec = outside, punisher5, {{ depot_waypoint1.pos }}, 5000
Act_GiveObjList = punisher5, back_to_depot
Act_ActTrig = depot_punisher5_outside_check_again

[Trigger]
nickname = depot_punisher5_outside_check_again
Cnd_DistVec = inside, punisher5, {{ depot_waypoint1.pos }}, 1000
Act_ActTrig = depot_punisher5_outside


;BASE SCENE

[MsnShip]
nickname = freighter1
NPC = npc_co_freighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter1
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter2
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter3
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter4
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter5
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

[MsnShip]
nickname = fighter6
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true

;LAST REINFORCE

[MsnShip]
nickname = fighter7
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true
rel_pos = 30, Player, 2000

[MsnShip]
nickname = fighter8
NPC = npc_co_fighter
label = corsairs
random_name = true
rel_pos = 140, Player, 2000

[MsnShip]
nickname = fighter9
NPC = npc_co_fighter
label = corsairs
label = ships
random_name = true
rel_pos = 240, Player, 2000

[MsnShip]
nickname = elite1
NPC = npc_co_fighter_improved
label = corsairs
label = ships
random_name = true
rel_pos = 160, Player, 2000

[MsnShip]
nickname = elite2
NPC = npc_co_fighter_improved
label = corsairs
label = ships
random_name = true
rel_pos = 330, Player, 2000

[MsnShip]
nickname = elite3
NPC = npc_co_fighter_improved
label = corsairs
label = ships
random_name = true
rel_pos = 280, Player, 2000

;OBJLIST

[ObjList]
nickname = fall_back
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, {{ base1.pos }}, 500, true

[ObjList]
nickname = fall_back_force
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, {{ base1.pos }}, 500, true

[ObjList]
nickname = catcher_pursuit
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, {{ catching.pos }}, 500, true

[ObjList]
nickname = catcher_pursuit_force
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, {{ catching.pos }}, 500, true



;ENDS

[Trigger]
nickname = init_DEPOT_BATTLE
Cnd_True = no_params
Act_ActTrig = depot_far
Act_ActTrig = prepare_depot
Act_ActTrig = near_depot

[Trigger]
nickname = depot_far
Cnd_DistVec = inside, Player, {{ depot_waypoint1.pos }}, 7000
Act_PlayMusic = none, none, none, music_reveal_contraband

[Trigger]
nickname = prepare_depot
Cnd_DistVec = inside, Player, {{ depot_waypoint1.pos }}, 5000
Act_SpawnSolar = depot1
Act_SpawnSolar = depot2


[Trigger]
nickname = near_depot
Cnd_DistVec = inside, Player, {{ depot_waypoint1.pos }}, 2000
Act_ActTrig = remove_friend_formation
Act_ActTrig = depot_check_outside
Act_PlayerEnemyClamp = 2, 3
{{ nag.combat('depot_combat', wilham) }}
{{ nn_destroy_corsairs.set() }}

Act_PlayMusic = music_omega_space, music_omega_danger, music_omega_battle

Act_ActTrig = depot_battle_dialog
Act_ActTrig = depot_spawn_emenies

Act_ActTrig = do_not_destroy_freighters
Act_ActTrig = freighters_fall_back
Act_ActTrig = freighters_catching

[Trigger]
nickname = depot_battle_dialog
Cnd_True = no_params
;Punisher_A: I see enemy!
Act_EtherComm = echo_m02, 092564, Player, DX_M02_1050_punisher, -1,  rh_sales_head, rh_male_elite_body, comm_rh_elite

;Wilham: Engage the enemy, catch the freighters
Act_EtherComm = echo_m02, 092565, Player, DX_M02_1060_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Punisher_the_Catcher: Got it!
Act_EtherComm = echo_m02, 092566, Player, DX_M02_1070_catcher, -1,  rh_sales_head, rh_male_guard_body, comm_rh_elite


[Trigger]
nickname = depot_spawn_emenies
Cnd_True = no_params
Act_SpawnShip = depot_freighter1, no_ol, {{ shipd1.pos_orient }}
Act_SpawnShip = depot_freighter2, no_ol, {{ shipd1.pos_orient }}
Act_SpawnShip = depot_fighterA1, no_ol, {{ shipdf1a.pos_orient }}
Act_SpawnShip = depot_fighterA2, no_ol, {{ shipdf1b.pos_orient }}
Act_SpawnShip = depot_fighterA3, no_ol, {{ shipdf1c.pos_orient }}
Act_SpawnShip = depot_fighterB1, no_ol, {{ shipdf2a.pos_orient }}
Act_SpawnShip = depot_fighterB2, no_ol, {{ shipdf2b.pos_orient }}
Act_SpawnShip = depot_fighterB3, no_ol, {{ shipdf2c.pos_orient }}
Act_ActTrig = depot_prepare_enemies
Act_ActTrig = depot_fighters_destroyed


position =

[MsnShip]
nickname = depot_freighter2
NPC = npc_co_freighter
label = corsairs
label = depot_freighters
random_name = true
position =

[Trigger]
nickname = depot_prepare_enemies
Cnd_True = no_params
Act_MarkObj = depot_fighterA1, 1
Act_MarkObj = depot_fighterA2, 1
Act_MarkObj = depot_fighterA3, 1
Act_MarkObj = depot_fighterB1, 1
Act_MarkObj = depot_fighterB2, 1
Act_MarkObj = depot_fighterB3, 1
Act_SetVibeLbl = friend, depot_fighters, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = depot_fighters, friend, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = punisher_assaultman, depot_fighters, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = depot_fighters, punisher_assaultman, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = friend, depot_freighters, REP_NEUTRAL
Act_SetVibeLbl = depot_freighters, friend, REP_NEUTRAL
Act_SetVibeLbl = punishers, depot_freighters, REP_NEUTRAL
Act_SetVibeLbl = depot_freighters, punishers, REP_NEUTRAL
Act_SetVibeLbl = rheinland, depot, REP_NEUTRAL
Act_SetVibeLbl = depot, rheinland, REP_NEUTRAL
Act_SetVibeLblToShip = corsairs, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, corsairs, REP_HOSTILE_MAXIMUM



[Trigger]
nickname = freighters_fall_back
Cnd_Timer = 1
Act_GiveObjList = depot_freighter1, fall_back
Act_GiveObjList = depot_freighter2, fall_back
Act_ActTrig = freighters_fall_back_FORCE

[Trigger]
nickname = freighters_fall_back_FORCE
Cnd_Timer = 4
Act_GiveObjList = depot_freighter1, fall_back_force
Act_GiveObjList = depot_freighter2, fall_back_force

[Trigger]
nickname = freighters_catching
Cnd_Timer = 1
Act_GiveObjList = punisher4, catcher_pursuit
Act_ActTrig = freighters_catching_FORCE

[Trigger]
nickname = freighters_catching_FORCE
Cnd_Timer = 4
Act_GiveObjList = punisher4, catcher_pursuit_force




[Trigger]
nickname = do_not_destroy_freighters
Cnd_Timer = 2
Act_ActTrig = freighters_death_FAIL

[Trigger]
nickname = freighters_death_FAIL
Cnd_Destroyed = depot_freighters, -1, ALL_IGNORE_LANDING
Act_ChangeState = FAIL, 092101

[Trigger]
nickname = depot_fighters_destroyed
Cnd_Destroyed = depot_fighters, -1, ALL_IGNORE_LANDING
Act_PlayMusic = none, none, none, music_reveal_contraband
Act_DeActTrig = do_not_destroy_freighters
Act_DeActTrig = freighters_death_FAIL
Act_Destroy = depot1
Act_Destroy = depot2
Act_GiveObjList = Player, friends_follow_player_except_catcher
Act_ActTrig = remove_freighters
Act_ActTrig = depot_fighter_destroyed_dialog
Act_ActTrig = rep_punisher4_neutral
Act_ActTrig = depot_check_outside_turn_off

[Trigger]
nickname = depot_fighter_destroyed_dialog
Cnd_True = no_params
;Wilham: What about freighters?
Act_EtherComm = echo_m02, 092545, Player, DX_M02_0410_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Punisher_the_Catcher: That's keep going
Act_EtherComm = echo_m02, 092546, Player, DX_M02_0420_catcher, -1,  rh_sales_head, rh_male_guard_body, comm_rh_elite

Act_ActTrig = depot_fighter_destroyed_dialog_done

[Trigger]
nickname = depot_fighter_destroyed_dialog_done
Cnd_CommComplete = DX_M02_0420_catcher
Act_ActTrig = base_founded_dialog

[Trigger]
nickname = base_founded_dialog
Cnd_Timer = 1
;Punisher_the_Catcher: That's keep going
Act_EtherComm = echo_m02, 092547, Player, DX_M02_0430_catcher, -1,  rh_sales_head, rh_male_guard_body, comm_rh_elite

Act_ActTrig = init_BASE

[Trigger]
nickname = remove_freighters
Cnd_Timer = 1
Act_Destroy = depot_freighter1, SILENT
Act_Destroy = depot_freighter2, SILENT

;;;;;

[ObjList]
nickname = back_to_base
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, {{ base1.pos }}, 500, true

[Trigger]
nickname = base_check_outside
Cnd_True = no_params
Act_ActTrig = base_wilham_outside
Act_ActTrig = base_punisher1_outside
Act_ActTrig = base_punisher2_outside
Act_ActTrig = base_punisher3_outside
Act_ActTrig = base_punisher4_outside
Act_ActTrig = base_punisher5_outside

[Trigger]
nickname = base_check_outside_turn_off
Cnd_True = no_params
Act_DeActTrig = base_wilham_outside
Act_DeActTrig = base_punisher1_outside
Act_DeActTrig = base_punisher2_outside
Act_DeActTrig = base_punisher3_outside
Act_DeActTrig = base_punisher4_outside
Act_DeActTrig = base_punisher5_outside
Act_DeActTrig = base_wilham_outside_check_again
Act_DeActTrig = base_punisher1_outside_check_again
Act_DeActTrig = base_punisher2_outside_check_again
Act_DeActTrig = base_punisher3_outside_check_again
Act_DeActTrig = base_punisher4_outside_check_again
Act_DeActTrig = base_punisher5_outside_check_again

[Trigger]
nickname = base_wilham_outside
Cnd_DistVec = outside, wilham, {{ base1.pos }}, 1000, 8000
Act_GiveObjList = wilham, back_to_base
Act_ActTrig = base_wilham_outside_check_again

[Trigger]
nickname = base_wilham_outside_check_again
Cnd_DistVec = inside, wilham, {{ base1.pos }}, 2000
Act_ActTrig = base_wilham_outside

[Trigger]
nickname = base_punisher1_outside
Cnd_DistVec = outside, punisher1, {{ base1.pos }}, 8000
Act_GiveObjList = punisher1, back_to_base
Act_ActTrig = base_punisher1_outside_check_again

[Trigger]
nickname = base_punisher1_outside_check_again
Cnd_DistVec = inside, punisher1, {{ base1.pos }}, 2000
Act_ActTrig = base_punisher1_outside

[Trigger]
nickname = base_punisher2_outside
Cnd_DistVec = outside, punisher2, {{ base1.pos }}, 8000
Act_GiveObjList = punisher2, back_to_base
Act_ActTrig = base_punisher2_outside_check_again

[Trigger]
nickname = base_punisher2_outside_check_again
Cnd_DistVec = inside, punisher2, {{ base1.pos }}, 2000
Act_ActTrig = base_punisher2_outside

[Trigger]
nickname = base_punisher3_outside
Cnd_DistVec = outside, punisher3, {{ base1.pos }}, 8000
Act_GiveObjList = punisher3, back_to_base
Act_ActTrig = base_punisher3_outside_check_again

[Trigger]
nickname = base_punisher3_outside_check_again
Cnd_DistVec = inside, punisher3, {{ base1.pos }}, 2000
Act_ActTrig = base_punisher3_outside

[Trigger]
nickname = base_punisher4_outside
Cnd_DistVec = outside, punisher4, {{ base1.pos }}, 8000
Act_GiveObjList = punisher4, back_to_base
Act_ActTrig = base_punisher4_outside_check_again

[Trigger]
nickname = base_punisher4_outside_check_again
Cnd_DistVec = inside, punisher4, {{ base1.pos }}, 2000
Act_ActTrig = base_punisher4_outside

[Trigger]
nickname = base_punisher5_outside
Cnd_DistVec = outside, punisher5, {{ base1.pos }}, 8000
Act_GiveObjList = punisher5, back_to_base
Act_ActTrig = base_punisher5_outside_check_again

[Trigger]
nickname = base_punisher5_outside_check_again
Cnd_DistVec = inside, punisher5, {{ base1.pos }}, 2000
Act_ActTrig = base_punisher5_outside










;;;;

[Trigger]
nickname = init_BASE
Cnd_CommComplete = DX_M02_0430_catcher
Act_SetNNObj = m2_find_corsair_base
;Wilham: Begin battle!
Act_EtherComm = echo_m02, 092548, Player, DX_M02_0440_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = prepare_BASE
Act_ActTrig = around_BASE
{{ nn_find_corsair_base.set() }}
Act_PlayMusic = none, none, none, music_upcoming_action_heavy
Act_ActTrig = base_check_outside

[Trigger]
nickname = prepare_BASE
Cnd_DistVec = inside, Player, {{ base1.pos }}, 7000
Act_SpawnSolar = base
Act_SpawnSolar = platform1
Act_SpawnSolar = platform2
Act_ActTrig = BASE_set_Rep
Act_SetRep = Player, co_grp, -0.8

[Trigger]
nickname = around_BASE
Cnd_DistVec = inside, Player, {{ base1.pos }}, 3000
Act_ActTrig = init_BASE_fight
{{ nag.nag_off() }}
Act_Save = BASE_FIGHT_save, 092312

[Trigger]
nickname = BASE_FIGHT_save
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = INIT_BASE_save

[Trigger]
nickname = INIT_BASE_save
Cnd_Timer = 0.3
Act_RelocateShip = Player, {{ player_base_save.pos_orient }}
Act_SpawnShip = wilham, no_ol, {{ wilham_base.pos_orient }}
Act_SpawnFormation = punishers, {{ punishers_base.pos_orient }}
Act_GiveObjList = punisher1, breakform
Act_ActTrig = init_BASE_fight
Act_ActTrig = Meeting_prepare_Friends
Act_SpawnSolar = base
Act_SpawnSolar = platform1
Act_SpawnSolar = platform2
{{ nag.nag_voice }}

[Trigger]
nickname = init_BASE_fight
Cnd_True = no_params
{{ nag.combat('base_combat', wilham) }}
Act_ActTrig = remove_friend_formation
Act_ActTrig = spawn_first_defence
Act_ActTrig = dialog_BASEFIGHT
Act_PlayMusic = null, null, null, music_dangerous_chase
Act_PlayerEnemyClamp = 1, 1

[Trigger]
nickname = spawn_first_defence
Cnd_True = no_params
Act_SpawnShip = freighter1, no_ol, {{ shipbfr1.pos_orient }}
Act_SpawnShip = fighter1, no_ol, {{ shipb1.pos_orient }}
Act_SpawnShip = fighter2, no_ol, {{ shipb2.pos_orient }}
Act_SpawnShip = fighter3, no_ol, {{ shipb3.pos_orient }}
Act_SpawnShip = fighter4, no_ol, {{ shipb4.pos_orient }}
Act_SpawnShip = fighter5, no_ol, {{ shipb5.pos_orient }}
Act_SpawnShip = fighter6, no_ol, {{ shipb6.pos_orient }}
Act_ActTrig = BASE_set_Rep

[Trigger]
nickname = dialog_BASEFIGHT
Cnd_True = no_params
;Wilham: Trent, help the punishers!
Act_EtherComm = echo_m02, 092549, Player, DX_M02_0450_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = init_PLATFORM_MISSION

[Trigger]
nickname = BASE_set_Rep
Cnd_True = no_params
Act_SetVibeLbl = friend, corsairs, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = corsairs, friend, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = punisher, corsairs, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = corsairs, punisher, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = corsairs, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, corsairs, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = REINFORCE_set_Rep
Cnd_True = no_params
Act_SetVibeLbl = friend, corsairs, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = corsairs, friend, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = punisher_mainforce, corsairs, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = corsairs, punisher_mainforce, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = corsairs, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, corsairs, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = init_PLATFORM_MISSION
Cnd_CommComplete = DX_M02_0450_wilham
Act_MarkObj = platform1, 1
Act_MarkObj = platform2, 1
Act_ActTrig = platforms_destroyed
Act_ActTrig = single_platform_destroyed
Act_SetNNObj = m2_destroy_platforms

[Trigger]
nickname = single_platform_destroyed
Cnd_Destroyed = corsair_platform, 1
;Wilham: One remaining
Act_EtherComm = echo_m02, 092567, Player, DX_M02_1080_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham


[Trigger]
nickname = platforms_destroyed
Cnd_Destroyed = corsair_platform, -1, ALL_IGNORE_LANDING
;Wilham: Are we ready to destroy base?
Act_EtherComm = echo_m02, 092568, Player, DX_M02_1090_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Punisher_A: Negative. Too many enemies.
Act_EtherComm = echo_m02, 092569, Player, DX_M02_1100_punisher, -1,  rh_sales_head, rh_male_elite_body, comm_rh_elite


Act_ActTrig = init_LAST_ENEMY
Act_ActTrig = corsair_reinforcement
Act_PlayerEnemyClamp = 2, 3

[Trigger]
nickname = init_LAST_ENEMY
Cnd_CommComplete = DX_M02_1100_punisher
;Wilham: Roger that. Trent, help us.
Act_EtherComm = echo_m02, 092570, Player, DX_M02_1110_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham


Act_SetNNObj = m2_destroy_corsairs

[Trigger]
nickname = corsair_reinforcement
Cnd_True = no_params
Act_SpawnShip = fighter7
Act_SpawnShip = fighter8
Act_SpawnShip = elite1
Act_ActTrig = REINFORCE_set_Rep
Act_ActTrig = mark_all_fighters
Act_ActTrig = corsair_reinforcement_second

[Trigger]
nickname = corsair_reinforcement_second
Cnd_Timer = 7
Act_SpawnShip = fighter9
Act_SpawnShip = elite2
Act_SpawnShip = elite3
Act_ActTrig = REINFORCE_set_Rep
Act_ActTrig = mark_all_fighters

Act_ActTrig = all_corsais_destroyed

[Trigger]
nickname = mark_all_fighters
Cnd_True = no_params
Act_MarkObj = fighter1, 1
Act_MarkObj = fighter2, 1
Act_MarkObj = fighter3, 1
Act_MarkObj = fighter4, 1
Act_MarkObj = fighter5, 1
Act_MarkObj = fighter6, 1
Act_MarkObj = fighter7, 1
Act_MarkObj = fighter8, 1
Act_MarkObj = fighter9, 1
Act_MarkObj = freighter1, 1
Act_MarkObj = elite1, 1
Act_MarkObj = elite2, 1
Act_MarkObj = elite3, 1

[Trigger]
nickname = all_corsais_destroyed
Cnd_Destroyed = ships, -1, ALL_IGNORE_LANDING
;Punisher_A: Ready to destroy the base
Act_EtherComm = echo_m02, 092571, Player, DX_M02_1120_punisher, -1,  rh_sales_head, rh_male_elite_body, comm_rh_elite

Act_ActTrig = last_words_done

[Trigger]
nickname = last_words_done
Cnd_CommComplete = DX_M02_1120_punisher
Act_ActTrig = destroy_base

[ObjList]
nickname = dock_on_pirate_base
SetPriority = ALWAYS_EXECUTE
Dock = base

; SOLARS

[MsnSolar]
nickname = base
string_id = 092208
faction = co_grp
system = om15
position = {{ base1.pos }}
archetype = miningbase_FragA_ms2
loadout = ms2_the_base
base = om15_01_Base
label = corsair_base
label = co_the_base
label = corsair
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = platform1
string_id = 092209
faction = co_grp
system = om15
position = {{ platform1.pos }}
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
label = corsair
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = platform2
string_id = 092209
faction = co_grp
system = om15
position = {{ platform2.pos }}
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_base
label = corsair_platform
label = corsair
radius = 0
visit = UNKNOWABLE

;EXPLOSION

[Trigger]
nickname = destroy_base
Cnd_True = no_params
Act_ActTrig = expl_line1
Act_PlayMusic = none, none, none, music_friendly_encouragement

[Trigger]
nickname = expl_line1
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m02_explode_camera.thn, base
Act_LightFuse = base, msn02_expl_fx01
Act_LightFuse = base, msn02_expl_fx04
Act_ActTrig = expl_line2

[Trigger]
nickname = expl_line2
Cnd_Timer = 2
Act_LightFuse = base, msn02_expl_fx02
Act_LightFuse = base, msn02_expl_fx03
Act_ActTrig = expl_line3

[Trigger]
nickname = expl_line3
Cnd_Timer = 2
Act_LightFuse = base, msn02_expl_final
Act_ActTrig = expl_final

[Trigger]
nickname = expl_final
Cnd_Timer = 2
Act_Destroy = Base, EXPLODE
Act_ActTrig = expl_complete

;END

[Trigger]
nickname = expl_complete
Cnd_Timer = 10
Act_Invulnerable = Player, false
Act_NagOff = base_battle
Act_ActTrig = dialog_Well_done
Act_ActTrig = base_check_outside_turn_off

[Trigger]
nickname = dialog_Well_done
Cnd_Timer = 1
;Wilham: Good job everyone
Act_EtherComm = echo_m02, 092572, Player, DX_M02_1130_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = init_BACK_HOME

[Trigger]
nickname = init_BACK_HOME
Cnd_CommComplete = DX_M02_1130_wilham
{{ nn_om15_to_biz_fly.set() }}
Act_ActTrig = around_Biz_Jumpgate
Act_ActTrig = dialog_START_BACK_HOME
Act_GiveObjList = wilham, follow_player
Act_PlayMusic = music_omega_space, music_omega_danger, music_omega_battle

[Trigger]
nickname = dialog_START_BACK_HOME
Cnd_DistVec = outside, Player, {{ base1.pos }}, 5000

;Wilham: Some admiral want to meet you
Act_EtherComm = echo_m02, 092550, Player, DX_M02_0460_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Player: How many admirals you have?
Act_EtherComm = echo_m02_player, 092551, Player, DX_M02_0470_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Wilham: Many
Act_EtherComm = echo_m02, 092552, Player, DX_M02_0480_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Player: Ok
Act_EtherComm = echo_m02_player, 092553, Player, DX_M02_0490_trent, -1, pi_pirate5_head, player_body, player_commhelmet



[Trigger]
nickname = around_Biz_Jumpgate
Cnd_DistShip = inside, Player, {{ om15_to_biz.name }}, 3000
{{ nn_om15_to_biz_fly.set() }}
Act_ActTrig = welcome_to_biz

[Trigger]
nickname = welcome_to_biz
Cnd_NPCSystemEnter = rh_biz, Wilham
Act_NagOff = jumpin_bizmark
Act_ActTrig = biz_welcome_complete

[Trigger]
nickname = biz_welcome_complete
Cnd_Timer = 1
{{ nag.nag_voice }}
{{ nn_biz_tlr_2.set() }}
Act_GiveObjList = wilham, follow_player
Act_ActTrig = final_tlr_inside

[Trigger]
nickname = final_tlr_inside
{{ biz_tlr_2.enter }}
Act_ActTrig = final_tlr_exit

[Trigger]
nickname = final_tlr_exit
{{ biz_tlr_2.exit }}
Act_PlayMusic = music_rh_space, music_rh_danger, music_rh_battle, music_victory, 1, true
{{ nn_battleship.set() }}

;Wilham: Trent, you go first
Act_EtherComm = echo_m02, 092573, Player, DX_M02_1140_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = THE_HOME

[Trigger]
nickname = THE_HOME
Cnd_BaseEnter = {{ battleship.base }}
Act_AddRTC = missions\m02\reichman_msn.ini
Act_ActTrig = loc_enter_Deck
Act_NagOff = dock_battleship

[Trigger]
nickname = loc_enter_Deck
Cnd_LocEnter = Deck, {{ battleship.base }}
Act_AdjAcct = 10000
Act_ActTrig = MSN_REP_AFTER
Act_ChangeState = SUCCEED



[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, co_grp, -0.8
Act_SetRep = Player, rx_grp, -0.8
Act_SetRep = Player, pi_grp, -0.8
Act_SetRep = Player, junk_grp, -0.8
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, rh_grp, 0.65
Act_SetRep = Player, rx_grp, -0.65
Act_SetRep = Player, pi_grp, -0.65
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = REP_HOTFIX
Cnd_True = no_params
Act_SetRep = Player, fc_lr_grp, -0.8

[Trigger]
nickname = REFRESH_LOCKS
Cnd_True = no_params
Act_LockDock = Player, rh_mnh_61_base, lock
Act_LockDock = Player, rh_mnh_62_base, lock
Act_LockDock = Player, rh_mnh_63_base, lock
Act_LockDock = Player, rh_mnh_64_base, lock
Act_LockDock = Player, rh_mnh_65_base, lock
Act_LockDock = Player, rh_mnh_51_base, lock
Act_LockDock = Player, rh_mnh_52_base, lock
Act_LockDock = Player, rh_biz_05_base, lock
Act_LockDock = Player, rh_biz_61_base, lock
Act_LockDock = Player, rh_biz_51_base, lock
Act_LockDock = Player, rh_biz_52_base, lock
Act_LockDock = Player, rh_biz_53_base, lock
Act_LockDock = Player, rh_stut_51_base, lock
Act_LockDock = Player, rh_stut_52_base, lock
Act_LockDock = Player, rh_stut_61_base, lock
Act_LockDock = Player, rh_stut_62_base, lock
Act_LockDock = Player, rh_stut_63_base, lock
Act_LockDock = Player, rh_stut_64_base, lock
Act_LockDock = Player, rh_stut_65_base, lock
Act_LockDock = Player, rh_ber_51_base, lock
Act_LockDock = Player, rh_ber_52_base, lock
Act_LockDock = Player, rh_ber_53_base, lock
Act_LockDock = Player, sig8_51_base, lock
Act_LockDock = Player, sig8_61_base, lock
Act_LockDock = Player, sig8_62_base, lock
Act_LockDock = Player, sig8_63_base, lock
Act_LockDock = Player, om15_61_base, lock
Act_LockDock = Player, om15_62_base, lock
Act_LockDock = Player, om15_63_base, lock
Act_LockDock = Player, om15_64_base, lock
Act_LockDock = Player, om15_65_base, lock
Act_LockDock = Player, om15_66_base, lock
Act_LockDock = Player, om15_67_base, lock
Act_LockDock = Player, om15_51_base, lock
Act_LockDock = Player, om15_52_base, lock
Act_LockDock = Player, sig13_51_base, lock
Act_LockDock = Player, sig13_52_base, lock
Act_LockDock = Player, sig13_53_base, lock
Act_LockDock = Player, sig13_54_base, lock
Act_LockDock = Player, sig13_55_base, lock
Act_LockDock = Player, sig13_56_base, lock
Act_LockDock = Player, sig13_57_base, lock
Act_LockDock = Player, sig13_58_base, lock
Act_LockDock = Player, sig13_59_base, lock
Act_LockDock = Player, sig13_60_base, lock
Act_LockDock = Player, sig13_61_base, lock
Act_LockDock = Player, sig13_62_base, lock
Act_LockDock = Player, li_cal_61_base, lock
Act_LockDock = Player, li_cal_62_base, lock
Act_LockDock = Player, li_cal_63_base, lock
Act_LockDock = Player, li_cal_64_base, lock
Act_LockDock = Player, li_cal_65_base, lock
Act_LockDock = Player, li_cal_66_base, lock
Act_LockDock = Player, li_cal_67_base, lock
Act_LockDock = Player, li_cal_68_base, lock
Act_LockDock = Player, li_cal_69_base, lock
Act_LockDock = Player, li_cal_51_base, lock
Act_LockDock = Player, li_cal_52_base, lock
Act_LockDock = Player, sig22_61_base, lock
Act_LockDock = Player, sig22_62_base, lock
Act_LockDock = Player, sig22_63_base, lock
Act_LockDock = Player, sig22_64_base, lock
Act_LockDock = Player, sig22_65_base, lock
Act_LockDock = Player, sig22_66_base, lock
Act_LockDock = Player, sig22_67_base, lock
Act_LockDock = Player, li_mnh_51_base, lock
Act_LockDock = Player, li_mnh_52_base, lock
Act_LockDock = Player, li_mnh_53_base, lock
Act_LockDock = Player, li_mnh_54_base, lock
Act_LockDock = Player, li_for_51_base, lock
Act_LockDock = Player, li_for_52_base, lock
Act_LockDock = Player, li_for_53_base, lock
Act_LockDock = Player, li_for_54_base, lock
Act_LockDock = Player, li_for_71_base, lock
Act_LockDock = Player, sig17_51_base, lock
Act_LockDock = Player, sig17_52_base, lock
Act_LockDock = Player, sig17_53_base, lock
Act_LockDock = Player, sig17_61_base, lock
Act_LockDock = Player, sig17_62_base, lock
Act_LockDock = Player, sig17_63_base, lock
Act_LockDock = Player, li_col_51_base, lock
Act_LockDock = Player, li_col_52_base, lock
Act_LockDock = Player, li_col_53_base, lock
Act_LockDock = Player, li_col_55_base, lock
Act_LockDock = Player, li_col_61_base, lock
Act_LockDock = Player, li_col_62_base, lock
Act_LockDock = Player, li_col_63_base, lock
Act_LockDock = Player, li_col_64_base, lock
Act_LockDock = Player, li_col_65_base, lock
Act_LockDock = Player, li_col_71_base, lock
Act_LockDock = Player, li_col_72_base, lock
Act_LockDock = Player, tau31_51_base, lock
Act_LockDock = Player, tau31_52_base, lock
Act_LockDock = Player, tau31_53_base, lock
Act_LockDock = Player, tau31_54_base, lock
Act_LockDock = Player, tau31_55_base, lock
Act_LockDock = Player, tau31_60_base, lock
Act_LockDock = Player, tau31_61_base, lock
Act_LockDock = Player, tau31_71_base, lock
Act_LockDock = Player, tau31_72_base, lock
Act_LockDock = Player, br_wrw_51_base, lock
Act_LockDock = Player, br_wrw_52_base, lock
Act_LockDock = Player, br_wrw_53_base, lock
Act_LockDock = Player, br_wrw_54_base, lock
Act_LockDock = Player, tau29_51_base, lock
Act_LockDock = Player, tau29_52_base, lock
Act_LockDock = Player, tau29_53_base, lock
Act_LockDock = Player, tau29_61_base, lock
Act_LockDock = Player, tau29_62_base, lock
Act_LockDock = Player, tau29_63_base, lock
Act_LockDock = Player, br_cam_51_base, lock
Act_LockDock = Player, br_cam_52_base, lock
Act_LockDock = Player, br_cam_53_base, lock
Act_LockDock = Player, br_cam_65_base, lock
Act_LockDock = Player, br_cam_66_base, lock
Act_LockDock = Player, br_cam_67_base, lock
Act_LockDock = Player, br_cam_61_base, lock
Act_LockDock = Player, br_cam_71_base, lock
Act_LockDock = Player, br_cam_72_base, lock
Act_LockDock = Player, tau37_61_base, lock
Act_LockDock = Player, tau37_62_base, lock
Act_LockDock = Player, tau37_63_base, lock
Act_LockDock = Player, tau37_64_base, lock
Act_LockDock = Player, tau37_65_base, lock
Act_LockDock = Player, tau37_66_base, lock
Act_LockDock = Player, tau37_67_base, lock
Act_LockDock = Player, tau37_51_base, lock
Act_LockDock = Player, br_avl_51_base, lock
Act_LockDock = Player, br_avl_52_base, lock
Act_LockDock = Player, br_avl_61_base, lock
Act_LockDock = Player, br_avl_62_base, lock
Act_LockDock = Player, br_avl_63_base, lock
Act_LockDock = Player, br_avl_64_base, lock
Act_LockDock = Player, br_avl_65_base, lock
Act_LockDock = Player, br_avl_58_base, lock
Act_LockDock = Player, br_avl_59_base, lock
Act_LockDock = Player, sig42_61_base, lock
Act_LockDock = Player, sig42_62_base, lock
Act_LockDock = Player, sig42_63_base, lock
Act_LockDock = Player, sig42_64_base, lock
Act_LockDock = Player, sig42_65_base, lock
Act_LockDock = Player, tau23_51_base, lock
Act_LockDock = Player, tau23_52_base, lock
Act_LockDock = Player, tau23_53_base, lock
Act_LockDock = Player, tau23_54_base, lock
Act_LockDock = Player, tau23_55_base, lock
Act_LockDock = Player, tau23_56_base, lock
Act_LockDock = Player, tau23_57_base, lock
Act_LockDock = Player, tau23_58_base, lock
Act_LockDock = Player, tau23_59_base, lock
Act_LockDock = Player, tau23_60_base, lock
Act_LockDock = Player, tau23_61_base, lock
Act_LockDock = Player, tau23_62_base, lock
Act_LockDock = Player, tau23_63_base, lock
Act_LockDock = Player, ku_ksu_51_base, lock
Act_LockDock = Player, ku_ksu_52_base, lock
Act_LockDock = Player, ku_ksu_53_base, lock
Act_LockDock = Player, ku_ksu_61_base, lock
Act_LockDock = Player, ku_ksu_62_base, lock
Act_LockDock = Player, tau4_51_base, lock
Act_LockDock = Player, tau4_52_base, lock
Act_LockDock = Player, tau4_53_base, lock
Act_LockDock = Player, tau4_61_base, lock
Act_LockDock = Player, tau4_62_base, lock
Act_LockDock = Player, ku_hns_51_base, lock
Act_LockDock = Player, ku_hns_52_base, lock
Act_LockDock = Player, ku_hns_53_base, lock
Act_LockDock = Player, ku_hns_61_base, lock
Act_LockDock = Player, ku_hns_62_base, lock
Act_LockDock = Player, ku_hns_63_base, lock
Act_LockDock = Player, ku_hns_64_base, lock
Act_LockDock = Player, ku_hns_65_base, lock
Act_LockDock = Player, ku_tgk_61_base, lock
Act_LockDock = Player, ku_tgk_62_base, lock
Act_LockDock = Player, ku_tgk_63_base, lock
Act_LockDock = Player, ku_tgk_64_base, lock
Act_LockDock = Player, ku_tgk_65_base, lock
Act_LockDock = Player, ku_tgk_66_base, lock
Act_LockDock = Player, ku_tgk_67_base, lock
Act_LockDock = Player, ku_tgk_68_base, lock
Act_LockDock = Player, ku_tgk_69_base, lock
Act_LockDock = Player, ku_tgk_70_base, lock
Act_LockDock = Player, ku_tgk_51_base, lock
Act_LockDock = Player, ku_tgk_52_base, lock
Act_LockDock = Player, ku_hkd_51_base, lock
Act_LockDock = Player, ku_hkd_52_base, lock
Act_LockDock = Player, ku_hkd_53_base, lock
Act_LockDock = Player, ku_hkd_54_base, lock
Act_LockDock = Player, ku_hkd_61_base, lock
Act_LockDock = Player, ku_hkd_71_base, lock
Act_LockDock = Player, ku_hkd_72_base, lock
Act_LockDock = Player, om7_71_base, lock
Act_LockDock = Player, om7_51_base, lock
Act_LockDock = Player, om7_52_base, lock
Act_LockDock = Player, om7_53_base, lock
Act_LockDock = Player, om7_54_base, lock
Act_LockDock = Player, om7_55_base, lock
Act_LockDock = Player, om7_56_base, lock
Act_LockDock = Player, om7_57_base, lock
Act_LockDock = Player, om7_58_base, lock
Act_LockDock = Player, om7_59_base, lock
Act_LockDock = Player, om7_61_base, lock
Act_LockDock = Player, om7_62_base, lock
Act_LockDock = Player, om7_63_base, lock
Act_LockDock = Player, om7_72_base, lock
Act_LockDock = Player, om7_73_base, lock
Act_LockDock = Player, om7_74_base, lock
Act_LockDock = Player, om7_75_base, lock

{{ demo_astfield.get_msn_solars() }}

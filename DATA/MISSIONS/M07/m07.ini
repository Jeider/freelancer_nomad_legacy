[Mission]
npc_ship_file = missions\m07\npcships.ini

[NPC]
nickname = npc_nnvoice
affiliation = li_n_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = nn_mod

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[ObjList]
nickname = force_stop
Idle = no_params

[ObjList]
nickname = unform
BreakFormation = no_params

[ObjList]
nickname = unform_n_stop
BreakFormation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player

[Trigger]
nickname = friend_armor
Cnd_True = no_params
Act_Invulnerable = rockford, true

;----------------


[MsnSolar]
nickname = communicator
position = 11030.00, -2200.00, 9455.00
orientation = 1.00, 0.00, 0.00, 0.00
archetype = m07_communicator
faction = fc_uk_grp
string_id = 263007
radius = 0
loadout = m07_comm_loadout
[MsnSolar]
nickname = repair1
position = 11072.00, -2195.00, 9455.00
orientation = 0.70, -0.12, 0.70, 0.12
archetype = repair_ship_platform
faction = fc_uk_grp
string_id = 263008
radius = 0
loadout = m07_repair
label = comm_defence
[MsnSolar]
nickname = repair2
position = 10988.00, -2175.00, 9455.00
orientation = 0.70, -0.12, -0.70, -0.12
archetype = repair_ship_platform
faction = fc_uk_grp
string_id = 263009
radius = 0
loadout = m07_repair
label = comm_defence
[MsnSolar]
nickname = transport1
position = 11000.00, -2175.00, 9100.00
orientation = 0.00, 0.00, 1.00, 0.00
archetype = large_transport_platform
faction = fc_uk_grp
string_id = 263010
radius = 0
loadout = m07_Large_Transport
label = comm_defence
[MsnSolar]
nickname = transport2
position = 11050.00, -2225.00, 9300.00
orientation = 0.00, 0.00, 1.00, 0.00
archetype = large_transport_platform
faction = fc_uk_grp
string_id = 263011
radius = 0
loadout = m07_Large_Transport
label = comm_defence



[NPC]
nickname = npc_rockford
npc_ship_arch = m07_rockford
affiliation = fc_uk_grp
individual_name = 263047
space_costume = li_rockford_head, sh_male1_body, comm_ge_generic1

[MsnShip]
nickname = rockford
NPC = npc_rockford
jumper = true
label = friend

[NPC]
nickname = npc_point_a
npc_ship_arch = m07_point_a
affiliation = sl_grp

[MsnShip]
nickname = point_a1
NPC = npc_point_a
random_name = true
label = point_a
label = starline

[MsnShip]
nickname = point_a2
NPC = npc_point_a
random_name = true
label = point_a
label = starline

[MsnShip]
nickname = point_a3
NPC = npc_point_a
random_name = true
label = point_a
label = starline

[MsnShip]
nickname = point_a4
NPC = npc_point_a
random_name = true
label = point_a
label = starline

[NPC]
nickname = npc_point_b
npc_ship_arch = m07_point_b
affiliation = sl_grp

[MsnShip]
nickname = point_b1
NPC = npc_point_b
random_name = true
label = point_b
label = starline

[MsnShip]
nickname = point_b2
NPC = npc_point_b
random_name = true
label = point_b
label = starline

[MsnShip]
nickname = point_b3
NPC = npc_point_b
random_name = true
label = point_b
label = starline

[MsnShip]
nickname = point_b4
NPC = npc_point_b
random_name = true
label = point_b
label = starline

[NPC]
nickname = npc_ironside
npc_ship_arch = m07_ironside
affiliation = sl_grp

[MsnShip]
nickname = ironside
NPC = npc_ironside
random_name = true
label = point_b
label = starline

[NPC]
nickname = npc_cadiz_order
npc_ship_arch = m07_cadiz_order
affiliation = or_grp

[MsnShip]
nickname = cadiz_order1
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[MsnShip]
nickname = cadiz_order2
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[MsnShip]
nickname = cadiz_order3
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[MsnShip]
nickname = cadiz_order4
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[MsnShip]
nickname = cadiz_order5
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[MsnShip]
nickname = cadiz_order6
NPC = npc_cadiz_order
random_name = true
label = cadiz_attack
label = order

[NPC]
nickname = npc_escort_a
npc_ship_arch = m07_escort_a
affiliation = or_grp

[MsnShip]
nickname = escort_a1
NPC = npc_escort_a
random_name = true
label = armored_defend
label = order

[MsnShip]
nickname = escort_a2
NPC = npc_escort_a
random_name = true
label = armored_defend
label = order

[MsnShip]
nickname = escort_a3
NPC = npc_escort_a
random_name = true
label = armored_defend
label = order

[NPC]
nickname = npc_escort_b
npc_ship_arch = m07_escort_b
affiliation = or_grp

[MsnShip]
nickname = escort_b1
NPC = npc_escort_b
random_name = true
label = armored_defend
label = order

[MsnShip]
nickname = escort_b2
NPC = npc_escort_b
random_name = true
label = armored_defend
label = order

[MsnShip]
nickname = escort_b3
NPC = npc_escort_b
random_name = true
label = armored_defend
label = order

[NPC]
nickname = npc_armored
affiliation = fc_uk_grp
npc_ship_arch = m07_armored
individual_name = 263048

[MsnShip]
nickname = armored
NPC = npc_armored
label = order

;-------------------------------------
;waypoints

[NNObjective]
nickname = nn_launch
state = HIDDEN
type = ids, 263014

[NNObjective]
nickname = nn_goto_starline1
state = HIDDEN
type = navmarker, co_cad, 263015, 263015, -30000.0, 0.0, -20000.0

[NNObjective]
nickname = nn_goto_starline2
state = HIDDEN
type = navmarker, co_cad, 263016, 263016, -23000.0, 0.0, -32000.0

[NNObjective]
nickname = nn_kill_starline
state = HIDDEN
type = ids, 263017

[NNObjective]
nickname = nn_kill_starline_leader
state = HIDDEN
type = ids, 263018

[NNObjective]
nickname = nn_return_to_freeport
state = HIDDEN
type = rep_inst, co_cad, 263019, 263019, -40000.0, 900.0, 0.0, co_cad_03

[NNObjective]
nickname = nn_tlr_to_cadiz
state = HIDDEN
type = rep_inst, co_cad, 263020, 263020, -1450.0, 26.0, -45321.0, co_cad_CO_TLR_L1_03

[NNObjective]
nickname = nn_dock_with_cadiz
state = HIDDEN
type = rep_inst, co_cad, 263021, 263021, 22788.0, 0.0, -35600.0, co_cad_01_dock_ring

[NNObjective]
nickname = nn_destroy_order_ship
state = HIDDEN
type = ids, 263022

[NNObjective]
nickname = nn_escape_tlr_1
state = HIDDEN
type = rep_inst, co_cad, 263023, 263023, 22816.0, 114.0, -32453.0, co_cad_CO_TLR_L2_01

[NNObjective]
nickname = nn_escape_tlr_2
state = HIDDEN
type = rep_inst, co_cad, 263024, 263024, 31139.0, 8.0, 27311.0, co_cad_CO_TLR_L3_01

[NNObjective]
nickname = nn_jump_omicron2
state = HIDDEN
type = rep_inst, co_cad, 263025, 263025, -20000.0, 0.0, 60000.0, cad_to_omicron2

[NNObjective]
nickname = nn_goto_near_tortuga
state = HIDDEN
type = navmarker, omicron2, 263026, 263026, 20000.0, -2000.0, 5000.0

[NNObjective]
nickname = nn_pick_up_bombs
state = HIDDEN
type = ids, 263027

[NNObjective]
nickname = nn_goto_near_tortuga
state = HIDDEN
type = navmarker, omicron2, 263028, 263028, 20000.0, -2000.0, 5000.0

[NNObjective]
nickname = nn_goto_communicator
state = HIDDEN
type = rep_inst, omicron2, 263029, 263029, 11030.0, -2200.0, 9455.0, communicator

[NNObjective]
nickname = nn_destroy_communicator
state = HIDDEN
type = rep_inst, omicron2, 263030, 263030, 11030.0, -2200.0, 9455.0, communicator

[NNObjective]
nickname = nn_fly_away_from_tortuga
state = HIDDEN
type = navmarker, omicron2, 263031, 263031, -3000.0, -4000.0, 12000.0

[NNObjective]
nickname = nn_goto_possible_ambush_place
state = HIDDEN
type = navmarker, omicron2, 263032, 263032, 7000.0, -4000.0, 22000.0

[NNObjective]
nickname = nn_goto_real_ambush_place
state = HIDDEN
type = navmarker, omicron2, 263033, 263033, 12000.0, -5000.0, 25000.0

[NNObjective]
nickname = nn_attack_transport
state = HIDDEN
type = ids, 263034

[NNObjective]
nickname = nn_overdose_generator
state = HIDDEN
type = ids, 263035

[NNObjective]
nickname = nn_destroy_transport
state = HIDDEN
type = ids, 263036

[NNObjective]
nickname = nn_pick_up_artifacts
state = HIDDEN
type = ids, 263037

[NNObjective]
nickname = nn_goto_jump_om13
state = HIDDEN
type = rep_inst, omicron2, 263038, 263038, 10000.0, -9000.0, 40000.0, omicron2_to_om13

[NNObjective]
nickname = nn_jump_om13
state = HIDDEN
type = rep_inst, omicron2, 263039, 263039, 10000.0, -9000.0, 40000.0, omicron2_to_om13





[Trigger]
nickname = DEBUG_force_dock
InitState = ACTIVE  ; DEBUG ONLY
Cnd_Timer = 1
Act_ForceLand = co_cad_03_base


[Trigger]
nickname = MSN_START
Cnd_BaseEnter = co_cad_03_base
InitState = ACTIVE
Act_AddRTC = missions\m07\tobago_deck_relocate.ini
Act_ActTrig = TOBAGO_bar

[Trigger]
nickname = TOBAGO_bar
Cnd_LocEnter = Bar, co_cad_03_base
Act_AddRTC = missions\m07\tobago_bar.ini
Act_ActTrig = TOBAGO_accept

[Trigger]
nickname = TOBAGO_accept
Cnd_MsnResponse = accept
Act_SetNNObj = nn_launch
Act_RemoveRTC = missions\m07\tobago_bar.ini
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_RandomPop = false
Act_ActTrig = TOBAGO_launched

[Trigger]
nickname = TOBAGO_launched
Cnd_LaunchComplete = Player
Act_ActTrig = STARLINE_init

[Trigger]
nickname = STARLINE_init
Cnd_Timer = 1
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_SetNNObj = nn_goto_starline1
Act_ActTrig = STARLINE_around

Act_EtherComm = echo_m07, 1, Player, dx_m07_2000_barman, -1, sh_male2_head, pi_pirate4_body

;--


[ObjList]
nickname = stay_in_pointA
StayInRange = -30000.00, 0.00, -20000.00, 3000

[ObjList]
nickname = stay_in_pointB
StayInRange = -23000.00, 0.00, -32000.00, 3000

[ObjList]
nickname = ol_starline_escape_to_liberty
BreakFormation = no_params
Dock = cad_to_omicron1


;--

[Trigger]
nickname = STARLINE_around
Cnd_DistVec = inside, Player, -30000.00, 0.00, -20000.00, 3000
Act_SpawnShip = point_a1, stay_in_pointA, -29900.0, 0.0, -20200.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_a2, stay_in_pointA, -29900.0, 0.0, -20400.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_a3, stay_in_pointA, -29900.0, 0.0, -20600.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_a4, stay_in_pointA, -29900.0, 0.0, -20800.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_MarkObj = point_a1, 1
Act_MarkObj = point_a2, 1
Act_MarkObj = point_a3, 1
Act_MarkObj = point_a4, 1
Act_ActTrig = STARLINE_setrep_enemy
Act_SetNNObj = nn_kill_starline
Act_ActTrig = STARLINE_destroyed

[Trigger]
nickname = STARLINE_setrep_enemy
Cnd_True = no_params
Act_SetVibeLblToShip = starline, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, starline, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = STARLINE_destroyed
Cnd_Destroyed = point_a, -1, ALL_IGNORE_LANDING

Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0010_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = AIRONSIDE_init

[Trigger]
nickname = AIRONSIDE_init
Cnd_CommComplete = dx_m07_0010_trent

Act_EtherComm = echo_m07, 1, Player, dx_m07_0020_barman, -1, sh_male2_head, pi_pirate4_body

Act_SetNNObj = nn_goto_starline2
Act_ActTrig = AIRONSIDE_around

[Trigger]
nickname = AIRONSIDE_around
Cnd_DistVec = inside, Player, -23000.00, 0.00, -32000.00, 3000


Act_ActTrig = AIRONSIDE_battle

Act_Save = save_state_ironside, 263044

[Trigger]
nickname = save_state_ironside
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_ironside

[Trigger]
nickname = init_the_save_state_ironside
Cnd_Timer = 0.3
Act_RelocateShip = Player, -23000.00, 0.00, -31000.00, 1.00, 0.00, 0.00, 0.00
Act_ActTrig = AIRONSIDE_battle

[Trigger]
nickname = AIRONSIDE_battle
Cnd_True = no_params
Act_SetNNObj = nn_kill_starline_leader
Act_SpawnShip = point_b1, stay_in_pointB, -22900.0, 0.0, -32100.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_b2, stay_in_pointB, -22900.0, 0.0, -32300.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_b3, stay_in_pointB, -22900.0, 0.0, -32500.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = point_b4, stay_in_pointB, -22900.0, 0.0, -32700.0, 0.25881904510252074, 0.0, 0.9659258262890683, 0.0
Act_SpawnShip = ironside, stay_in_pointB, -22900.00, 100.00, -32200.00, 0.26, 0.00, 0.97, 0.00
Act_MarkObj = ironside, 1
Act_ActTrig = STARLINE_setrep_enemy
Act_ActTrig = AIRONSIDE_destroyed

[Trigger]
nickname = AIRONSIDE_destroyed
Cnd_Destroyed = ironside
Act_ActTrig = AIRONSIDE_ships_leaving
Act_ActTrig = CASH_init

[Trigger]
nickname = AIRONSIDE_ships_leaving
Cnd_True = no_params
Act_GiveObjList = point_b1, ol_starline_escape_to_liberty
Act_GiveObjList = point_b2, ol_starline_escape_to_liberty
Act_GiveObjList = point_b3, ol_starline_escape_to_liberty
Act_GiveObjList = point_b4, ol_starline_escape_to_liberty

[Trigger]
nickname = AIRONSIDE_hide_ships
Cnd_True = no_params
Act_Destroy = starline_pointB_fighter01, SILENT
Act_Destroy = starline_pointB_fighter02, SILENT
Act_Destroy = starline_pointB_fighter03, SILENT
Act_Destroy = starline_pointB_leader02, SILENT

;-

[Trigger]
nickname = CASH_init
Cnd_True = no_params

Act_EtherComm = echo_m07, 1, Player, dx_m07_2010_barman, -1, sh_male2_head, pi_pirate4_body


Act_ActTrig = CASH_sent

[Trigger]
nickname = CASH_sent
Cnd_CommComplete = dx_m07_2010_barman
Act_AdjAcct = 500
Act_ActTrig = CASH_reaction

[Trigger]
nickname = CASH_reaction
Cnd_Timer = 3
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0030_trent, -1, pi_pirate5_head, player_body, player_commhelmet


Act_ActTrig = CASH_revenge

[Trigger]
nickname = CASH_revenge
Cnd_CommComplete = dx_m07_0030_trent
Act_SetNNObj = nn_return_to_freeport
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0035_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = CASH_revenge_dialogs_complete

[Trigger]
nickname = CASH_revenge_dialogs_complete
Cnd_CommComplete = dx_m07_0035_trent
Act_ActTrig = ROCKFORD_COMM

;== MISSION REAL BEGINS

[Trigger]
nickname = ROCKFORD_COMM
Cnd_Timer = 5
Act_EtherComm = echo_m07, 1, Player, dx_m07_0040_rockford, -1, li_rockford_head, sh_male1_body

Act_ActTrig = ROCKFORD_COMM_complete
Act_ActTrig = AIRONSIDE_hide_ships

[Trigger]
nickname = ROCKFORD_COMM_complete
Cnd_CommComplete = dx_m07_0040_rockford
Act_SetNNObj = nn_tlr_to_cadiz
Act_PlayerCanTradelane = false, co_cad_CO_TLR_L1_03, co_cad_CO_TLR_L1_04
Act_PlayerCanDock = false
Act_ActTrig = TO_CADIZ_inside_tlr

[Trigger]
nickname = TO_CADIZ_inside_tlr
Cnd_TLEntered = Player, co_cad_CO_TLR_L1_03, co_cad_CO_TLR_L1_04

Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_LockManeuvers = true
Act_ActTrig = TO_CADIZ_tlr_exited

[Trigger]
nickname = TO_CADIZ_tlr_exited
Cnd_TLExited = Player, co_cad_CO_TLR_L1_04
Act_NagDistLeaving = cadiz_land, nag_voice, co_cad_01_dock_ring, 090004, 100, NAG_ALWAYS
Act_PlayerCanDock = false, co_cad_01_dock_ring
Act_SetNNObj = nn_dock_with_cadiz
Act_ActTrig = CADIZ_base_enter
Act_ActTrig = CADIZ_bar_enter

;==

[Trigger]
nickname = CADIZ_base_enter
Cnd_BaseEnter = co_cad_01_base
Act_AddRTC = missions\M07\cadiz.ini
Act_ActTrig = CADIZ_to_start

[Trigger]
nickname = CADIZ_to_start
Cnd_RTCDone = missions\M07\cadiz.ini
Act_SetNNObj = nn_launch
Act_ActTrig = CADIZ_system_enter
Act_PlayerCanDock = false
Act_RandomPop = false
Act_PlayerCanTradelane = false

;===


[NPC]
nickname = npc_rockford
affiliation = fc_uk_grp
npc_ship_arch = ms7_rockford
space_costume = li_rockford_head, li_male_elite_body
individual_name = 97100

[MsnShip]
nickname = rockford
NPC = npc_rockford
label = ally
jumper = true

; cadiz defenders

;===

[Trigger]
nickname = prepare_rockford
Cnd_True = no_params
Act_ActTrig = friend_armor
Act_ActTrig = FRIEND_setrep
Act_MarkObj = rockford, 1

[Trigger]
nickname = FRIEND_setrep
Cnd_True = no_params
Act_SetVibe = rockford, Player, REP_FRIEND_MAXIMUM
Act_SetVibe = Player, rockford, REP_FRIEND_MAXIMUM

[Trigger]
nickname = ORDER_setrep
Cnd_True = no_params
Act_SetVibeLblToShip = order, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, order, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = order, rockford, REP_HOSTILE_THRESHOLD
Act_SetVibeShipToLbl = rockford, order, REP_HOSTILE_THRESHOLD

[ObjList]
nickname = ol_cadiz_arrive
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_cruise, Player, 150, false

[ObjList]
nickname = ol_cadiz_attack
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_no_cruise, Player, 1000, false

;===

[Trigger]
nickname = CADIZ_system_enter
Cnd_SpaceEnter = no_params
Act_ActTrig = CADIZ_launch_complete
;; Reuse in Avalon
;;Act_CallThorn = scripts\mod\m07_launch_camera.thn, Player

Act_ActTrig = CADIZ_spawn_rockford

[Trigger]
nickname = CADIZ_spawn_rockford
Cnd_Timer = 1
Act_SpawnShip = cadiz_order1, ol_cadiz_attack, 20000.0, 0.0, -36000.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = cadiz_order2, ol_cadiz_attack, 20000.0, 0.0, -35800.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = cadiz_order3, ol_cadiz_attack, 20000.0, 0.0, -35600.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = cadiz_order4, ol_cadiz_attack, 20000.0, 0.0, -35400.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = cadiz_order5, ol_cadiz_attack, 20000.0, 0.0, -35200.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = cadiz_order6, ol_cadiz_attack, 20000.0, 0.0, -35000.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = rockford, no_ol, 22490, 0, -35660, 0.75, 0, 0.25, 0
Act_ActTrig = CADIZ_rockford_comment

[Trigger]
nickname = CADIZ_rockford_comment
Cnd_Timer = 2



[Trigger]
nickname = CADIZ_launch_complete
Cnd_LaunchComplete = Player
Act_EtherComm = echo_m07, 1, Player, dx_m07_0060_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_ActTrig = CADIZ_begin_fight
;
;Act_ActTrig = CADIZ_stop_player
;
;[Trigger]
;nickname = CADIZ_stop_player
;Cnd_Timer = 0.5
;Act_PObjIdle = no_params
;Act_ActTrig = CADIZ_begin_fight

[Trigger]
nickname = CADIZ_begin_fight
Cnd_Timer = 1
Act_Invulnerable = Player, false
Act_ActTrig = FRIEND_setrep
Act_ActTrig = ORDER_setrep
Act_ActTrig = prepare_rockford
Act_SetNNObj = nn_destroy_order_ship
Act_MarkObj = cadiz_order1, 1
Act_MarkObj = cadiz_order2, 1
Act_MarkObj = cadiz_order3, 1
Act_MarkObj = cadiz_order4, 1
Act_MarkObj = cadiz_order5, 1
Act_MarkObj = cadiz_order6, 1
Act_ActTrig = CADIZ_enemy_destroyed
Act_PlayerEnemyClamp = 3, 5

[Trigger]
nickname = CADIZ_enemy_destroyed
Cnd_Destroyed = cadiz_attack, -1, ALL_IGNORE_LANDING
Act_EtherComm = echo_m07, 1, Player, dx_m07_0070_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_SetNNObj = nn_escape_tlr_1
Act_PlayerCanTradelane = false, co_cad_CO_TLR_L2_01, co_cad_CO_TLR_L2_02
Act_GiveObjList = rockford, follow_player
Act_ActTrig = CADIZ_TLR_GAVANA_inside

[Trigger]
nickname = CADIZ_TLR_GAVANA_inside
Cnd_TLEntered = Player, co_cad_CO_TLR_L2_01, co_cad_CO_TLR_L2_02
Act_LockManeuvers = true

Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_ActTrig = CADIZ_TLR_GAVANA_dialog
Act_ActTrig = CADIZ_TLR_GAVANA_complete

[Trigger]
nickname = CADIZ_TLR_GAVANA_dialog
Cnd_True = no_params
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0080_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0090_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0100_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0110_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0120_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0130_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0140_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0150_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0160_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTRig = CADIZ_TLR_GAVANA_dialog_Ends

[Trigger]
nickname = CADIZ_TLR_GAVANA_dialog_Ends
Cnd_CommComplete = dx_m07_0160_trent
Act_ActTrig = CADIZ_TLR_JUMPGATE_dialog


[Trigger]
nickname = CADIZ_TLR_GAVANA_complete
Cnd_TLExited = Player, co_cad_CO_TLR_L2_04
Act_SetNNObj = nn_escape_tlr_2
Act_PlayerCanTradelane = false, co_cad_CO_TLR_L3_01, co_cad_CO_TLR_L3_02
Act_ActTrig = CADIZ_TLR_JUMPGATE_inside

[Trigger]
nickname = CADIZ_TLR_JUMPGATE_inside
Cnd_TLEntered = Player, co_cad_CO_TLR_L3_01, co_cad_CO_TLR_L3_02
Act_LockManeuvers = true

Act_SetNNObj = null, OBJECTIVE_HISTORY
;;Act_ActTrig = CADIZ_TLR_JUMPGATE_dialog
Act_ActTrig = CADIZ_TLR_JUMPGATE_complete

[Trigger]
nickname = CADIZ_TLR_JUMPGATE_dialog
Cnd_Timer = 5
Act_EtherComm = echo_m07, 1, Player, dx_m07_0170_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0180_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0190_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0200_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0210_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0220_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0230_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0240_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


[Trigger]
nickname = CADIZ_TLR_JUMPGATE_complete
Cnd_TLExited = Player, co_cad_CO_TLR_L3_04
Act_NagDistLeaving = jumpin_omicron, nag_voice, cad_to_omicron2, 090003, 1, 10, NAG_ALWAYS
Act_SetNNObj = nn_jump_omicron2
Act_PlayerCanDock = false, cad_to_omicron2
Act_NagDistLeaving = nn_jump_omicron2, nag_voice, cad_to_omicron2, 90003, 1000, NAG_ALWAYS
Act_ActTrig = welcome_to_omicron_minor

;======JUMP

[Trigger]
nickname = welcome_to_omicron_minor
Cnd_SystemEnter = omicron2
Act_NagOff = nn_jump_omicron2
Act_ActTrig = omicron_minor_welcome_wait_for_rockford
Act_RandomPop = False

[Trigger]
nickname = omicron_minor_welcome_wait_for_rockford
Cnd_NPCSystemEnter = omicron2, Player, rockford
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_ActTrig = prepare_rockford
Act_GiveObjList = rockford, follow_player
Act_SetNNObj = nn_goto_near_tortuga
Act_ActTrig = TORTUGA_WP_goto_dialog
Act_ActTrig = TORTUGA_WP_around_wp
Act_ActTrig = TORTUGA_spawn_communicator

[Trigger]
nickname = TORTUGA_WP_goto_dialog
Cnd_Timer = 1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0250_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0260_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0270_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0280_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0290_trent, -1, pi_pirate5_head, player_body, player_commhelmet


;==

[MsnLoot]
nickname = bomb1
archetype = m07_bomb
string_id = 97103
rel_pos_obj = rockford
rel_pos_offset = 50, -5, 20
velocity = 0, 0, 0
angular_velocity = 0, 100, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = bomb2
archetype = m07_bomb
string_id = 97103
rel_pos_obj = rockford
rel_pos_offset = 50, -5, 0
velocity = 0, 0, 0
angular_velocity = 0, 100, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = bomb3
archetype = m07_bomb
string_id = 97103
rel_pos_obj = rockford
rel_pos_offset = 50, -5, -20
velocity = 0, 0, 0
angular_velocity = 0, 100, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnSolar]
nickname = scene_light
string_id = 1
system = omicron2
position = 20000.00, -2000.00, 5000.00
orientation = 1, 0, 0, 0
archetype = hidden_connect
loadout = m07_scene_light
radius = 0

;==

[Trigger]
nickname = TORTUGA_spawn_communicator
Cnd_True = no_params
Act_SpawnSolar = communicator
Act_SpawnSolar = repair1
Act_SpawnSolar = repair2
Act_SpawnSolar = transport1
Act_SpawnSolar = transport2


[Trigger]
nickname = TORTUGA_WP_around_wp
Cnd_DistVec = inside, Player, 20000.00, -2000.00, 5000.00, 2000
Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_GiveObjList = rockford, unform_n_stop
Act_PobjIdle = no_params
Act_ActTrig = TORTUGA_WP_spawn_solars

Act_EtherComm = echo_m07, 1, Player, dx_m07_0310_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


Act_ActTrig = TORTUGA_WP_mine_scene

[Trigger]
nickname = TORTUGA_WP_mine_scene
Cnd_CommComplete = dx_m07_0310_rockford
Act_PobjIdle = no_params
Act_RelocateShip = Player, 20050.00, -2000.00, 5000.00, 0.71, 0.00, 0.71, 0.00
Act_RelocateShip = rockford, 19900.00, -2000.00, 5000.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = TORTUGA_WP_spawn_mines
Act_CallThorn = scripts\mod\m07_tortuga_wp_camera.thn, Player

Act_SpawnSolar = scene_light
Act_ActTrig = TORTUGA_WP_mine_scene_description

[Trigger]
nickname = TORTUGA_WP_spawn_mines
Cnd_Timer = 0.1
Act_SpawnLoot = bomb1
Act_SpawnLoot = bomb2
Act_SpawnLoot = bomb3
Act_MarkObj = bomb1, 1
Act_MarkObj = bomb2, 1
Act_MarkObj = bomb3, 1

[Trigger]
nickname = TORTUGA_WP_mine_scene_description
Cnd_Timer = 10
Act_EtherComm = echo_m07, 1, Player, dx_m07_0320_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


Act_ActTrig = TORTUGA_WP_COMPLETE

[Trigger]
nickname = TORTUGA_WP_COMPLETE
Cnd_CommComplete = dx_m07_0320_rockford
Act_Destroy = scene_light, SILENT
Act_RelocateShip = Player, 20050.00, -2000.00, 5000.00, 0.71, 0.00, 0.71, 0.00
Act_RevertCam = no_params
Act_Invulnerable = Player, false

Act_ActTrig = DIVERSION_init
Act_Save = save_state_diversion, 263045

[Trigger]
nickname = save_state_diversion
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_diversion

[Trigger]
nickname = init_the_save_state_diversion
Cnd_Timer = 0.3
Act_RelocateShip = Player, 20050.00, -2000.00, 5000.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = rockford, no_ol, 19900.00, -2000.00, 5000.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = prepare_rockford
Act_ActTrig = TORTUGA_WP_spawn_mines
Act_ActTrig = TORTUGA_spawn_communicator
Act_ActTrig = DIVERSION_init


[Trigger]
nickname = DIVERSION_init
Cnd_Timer = 1
;Author: how to use bombs
Act_Popupdialog = 216004, 97301, CLOSE
Act_SetNNObj = nn_pick_up_bombs
Act_MarkObj = rockford, 0
Act_ActTrig = PICKED_bomb1
Act_ActTrig = PICKED_bomb2
Act_ActTrig = PICKED_bomb3
Act_ActTrig = bomb1_destroyed
Act_ActTrig = bomb2_destroyed
Act_ActTrig = bomb3_destroyed


[Trigger]
nickname = bomb1_destroyed
Cnd_Destroyed = bomb1, 1, EXPLODE
Act_ActTrig = bomb_destroyed_fail

[Trigger]
nickname = bomb2_destroyed
Cnd_Destroyed = bomb2, 1, EXPLODE
Act_ActTrig = bomb_destroyed_fail

[Trigger]
nickname = bomb3_destroyed
Cnd_Destroyed = bomb3, 1, EXPLODE
Act_ActTrig = bomb_destroyed_fail

[Trigger]
nickname = bomb_destroyed_fail
Cnd_True = no_params
Act_ChangeState = FAIL, 97151

[Trigger]
nickname = PICKED_bomb1
Cnd_LootAcquired = bomb1, Player
Act_ActTrig = PICKED_bomb_complete

[Trigger]
nickname = PICKED_bomb2
Cnd_LootAcquired = bomb2, Player
Act_ActTrig = PICKED_bomb_complete

[Trigger]
nickname = PICKED_bomb3
Cnd_LootAcquired = bomb3, Player
Act_ActTrig = PICKED_bomb_complete

[Trigger]
nickname = PICKED_bomb_complete
Cnd_True = no_params
Act_DeactTrig = PICKED_bomb1
Act_DeactTrig = PICKED_bomb2
Act_DeactTrig = PICKED_bomb3
Act_DeactTrig = bomb1_destroyed
Act_DeactTrig = bomb2_destroyed
Act_DeactTrig = bomb3_destroyed
Act_DeactTrig = bomb_destroyed_fail
Act_SetNNObj = nn_goto_communicator
Act_ActTrig = DIVERSION_near_tartuga

[Trigger]
nickname = DIVERSION_near_tartuga
Cnd_DistShip = inside, Player, communicator, 1000
Act_SetNNObj = nn_destroy_communicator
Act_ActTrig = COUNTDOWN_init
Act_ActTrig = DIVERSION_comm_destroyed
Act_Destroy = rockford, SILENT



[Trigger]
nickname = COUNTDOWN_init
Cnd_DistShip = inside, Player, communicator, 400
Act_EtherComm = echo_m07, 1, Player, dx_m07_0330_tortuga, -1, br_quigly_head, sh_male2_body, prop_hat_male_pirate_a, prop_neuralnet_d
;;Act_ActTrig = COUNTDOWN_warning1

[Trigger]
nickname = COUNTDOWN_warning1
Cnd_CommComplete = dx_m07_0330_tortuga
Act_ActTrig = COUNTDOWN_warning2

[Trigger]
nickname = COUNTDOWN_warning2
Cnd_Timer = 15
Act_ActTrig = COUNTDOWN_activate_turrets
Act_EtherComm = echo_m07, 1, Player, dx_m07_0340_tortuga, -1, br_quigly_head, sh_male2_body, prop_hat_male_pirate_a, prop_neuralnet_d
Act_ActTrig = COUNTDOWN_warning3

[Trigger]
nickname = COUNTDOWN_warning3
Cnd_Timer = 30
Act_ChangeState = FAIL, 97152

[Trigger]
nickname = COUNTDOWN_activate_turrets
Cnd_True = no_params
Act_SetVibeLblToShip = comm_defence, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, comm_defence, REP_HOSTILE_MAXIMUM


[Trigger]
nickname = COUNTDOWN_deactivate
Cnd_True = no_params
Act_DeActTrig = COUNTDOWN_init
Act_DeActTrig = COUNTDOWN_warning1
Act_DeActTrig = COUNTDOWN_warning2
Act_DeActTrig = COUNTDOWN_warning3
Act_DeActTrig = COUNTDOWN_activate_turrets
Act_DeActTrig = COUNTDOWN_start_patrols
Act_DeActTrig = COUNTDOWN_init_patrol_checking

[Trigger]
nickname = DIVERSION_comm_destroyed
Cnd_Destroyed = communicator, 1, EXPLODE
Act_SetVibeLblToShip = comm_defence, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, comm_defence, REP_HOSTILE_MAXIMUM
Act_SetRep = Player, co_grp, -0.65
Act_SetRep = Player, pi_grp, -0.65
Act_SetNNObj = nn_fly_away_from_tortuga
Act_ActTrig = DIVERSION_flyied_away
Act_ActTrig = DIVERSION_around_last_point

[Trigger]
nickname = DIVERSION_flyied_away
Cnd_DistShip = outside, Player, OM2_01_CORE, 3000
Act_ActTrig = COUNTDOWN_deactivate
Act_ActTrig = DIVERSION_return_back_fail
Act_ActTrig = DIVERSION_succeeded

Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0350_trent, -1, pi_pirate5_head, player_body, player_commhelmet

[Trigger]
nickname = DIVERSION_succeeded
Cnd_CommComplete = dx_m07_0350_trent
Act_ActTrig = DIVERSION_wait_for_launch

[Trigger]
nickname = DIVERSION_wait_for_launch
Cnd_Timer = 3
Act_EtherComm = echo_m07, 1, Player, dx_m07_0360_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_ActTrig = AMBUSH_init

[Trigger]
nickname = DIVERSION_return_back_fail
Cnd_DistShip = inside, Player, OM2_01_CORE, 2900
Act_ChangeState = FAIL, 97153


[Trigger]
nickname = AMBUSH_init
Cnd_CommComplete = dx_m07_0360_rockford
Act_SetNNObj = nn_goto_possible_ambush_place
Act_ActTrig = AMBUSH_possible_point

[Trigger]
nickname = AMBUSH_possible_point
Cnd_DistVec = inside, Player, 7000.00, -4000.00, 22000.00, 4000
Act_EtherComm = echo_m07, 1, Player, dx_m07_0370_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


Act_SetNNObj = nn_goto_real_ambush_place
Act_ActTrig = AMBUSH_near_far

;;;;;

[MsnLoot]
nickname = EMI_SLOW
archetype = m07_emp_light
string_id = 1
rel_pos_obj = armored
rel_pos_offset = 0, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = EMI_MEDIUM
archetype = m07_emp_light
string_id = 1
rel_pos_obj = armored
rel_pos_offset = 0, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = EMI_FAST
archetype = m07_emp_light
string_id = 1
rel_pos_obj = armored
rel_pos_offset = 0, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = EMI_DEFAULT
archetype = m07_emp
string_id = 1
rel_pos_obj = armored
rel_pos_offset = 0, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = true

[MsnLoot]
nickname = artifacts
archetype = m07_artifacts
string_id = 097206
rel_pos_obj = armored
rel_pos_offset = 50, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false



[ObjList]
nickname = follow_player_extra
SetPriority = ALWAYS_EXECUTE
follow = Player, -150, -70, 50, -200, 50000

[ObjList]
nickname = ol_around_playership
StayInRange = Player, 2000

[ObjList]
nickname = ol_return_to_player
GotoShip = goto, Player, 1000, true

[ObjList]
nickname = ol_order_goto_base
GotoShip = goto, OM2_01_ROOT, 1000, true


[ObjList]
nickname = ol_armored_turn
GotoVec = goto_no_cruise, 12500.0, -5000.0, 25500.0, 100, true 

;;;;;


[Trigger]
nickname = AMBUSH_near_far
Cnd_DistVec = inside, Player, 12000.00, -5000.00, 25000.00, 3000

Act_ActTrig = ARM_BATTLE_init
Act_Save = save_state_armored, 263046

[Trigger]
nickname = save_state_armored
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_armored

[Trigger]
nickname = init_the_save_state_armored
Cnd_Timer = 0.3
Act_RelocateShip = Player, 11500.00, -5000.00, 24700.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = ARM_BATTLE_init

[Trigger]
nickname = ARM_BATTLE_init
Cnd_True = no_params
Act_SpawnShip = armored, no_ol, 12500.00, -5000.00, 24500.00, 0.00, 0.00, 1.00, 0.00
Act_Invulnerable = armored, true, true
Act_SpawnShip = rockford, ol_around_playership, 12300.00, -5000.00, 25300.00, 0.92, 0.00, -0.38, 0.00
Act_Invulnerable = rockford, true
Act_MarkObj = rockford, 1
Act_MarkObj = armored, 1
Act_SpawnShip = escort_a1, ol_around_playership, 12700.0, -5100.0, 24200.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = escort_a2, ol_around_playership, 12900.0, -5100.0, 24200.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = escort_a3, ol_around_playership, 13100.0, -5100.0, 24200.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = escort_b1, ol_around_playership, 13000.0, -5100.0, 25000.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = escort_b2, ol_around_playership, 13000.0, -5100.0, 25200.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = escort_b3, ol_around_playership, 13000.0, -5100.0, 25400.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0

Act_PlayerEnemyClamp = 2, 4

Act_ActTrig = prepare_rockford

Act_SetVibe = armored, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, armored, REP_HOSTILE_MAXIMUM

Act_ActTrig = ARM_order_rep

Act_MarkObj = armored, 1

Act_SetNNObj = nn_attack_transport


Act_Invulnerable = armored, true

;;Act_ActTrig = EMI_mission_desctiption
Act_ActTrig = EMI_mission_init
Act_ActTrig = WARP_init
Act_ActTrig = ARM_BATTLE_transport_destroyed
Act_ActTrig = ARM_BATTLE_rockford_back

[Trigger]
nickname = ARM_BATTLE_rockford_back
Cnd_DistShip = outside, Player, rockford, 2000
Act_GiveObjList = rockford, ol_return_to_player
Act_ActTrig = ARM_BATTLE_rockford_back_reset

[Trigger]
nickname = ARM_BATTLE_rockford_back_reset
Cnd_Timer = 5
Act_ActTrig = ARM_BATTLE_rockford_back

[Trigger]
nickname = ARM_order_rep
Cnd_Timer = 0.1
Act_SetVibeLblToShip = armored_defend, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, armored_defend, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = armored_defend, rockford, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = rockford, armored_defend, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = ARM_order_rep_disable
Cnd_Timer = 0.1
Act_SetVibeLblToShip = armored_defend, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, armored_defend, REP_NEUTRAL
Act_SetVibeLblToShip = armored_defend, rockford, REP_NEUTRAL
Act_SetVibeShipToLbl = rockford, armored_defend, REP_NEUTRAL

[Trigger]
nickname = EMI_mission_init
Cnd_True = no_params

Act_ActTrig = EMI_mission

Act_EtherComm = echo_m07, 1, Player, dx_m07_0395_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0400_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0410_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0420_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


Act_ActTrig = EMI_mission_popup

[Trigger]
nickname = EMI_mission_popup
Cnd_CommComplete = dx_m07_0400_rockford

;Author: EMI mission rules
Act_Popupdialog = 216004, 97303, CLOSE
Act_SetNNObj = nn_overdose_generator

Act_ActTrig = EMI_mission_rules_gotten

[Trigger]
nickname = EMI_mission_rules_gotten
Cnd_PopUpDialog = CLOSE




[Trigger]
nickname = EMI_SLOW_start
Cnd_Timer = 2
Act_SpawnLoot = EMI_SLOW
Act_ActTrig = EMI_SLOW_destroy
repeatable = true

[Trigger]
nickname = EMI_SLOW_destroy
Cnd_Timer = 0.1
Act_Destroy = EMI_SLOW, EXPLODE

[Trigger]
nickname = EMI_MEDIUM_start
Cnd_Timer = 1
Act_SpawnLoot = EMI_MEDIUM
Act_ActTrig = EMI_MEDIUM_destroy
repeatable = true

[Trigger]
nickname = EMI_MEDIUM_destroy
Cnd_Timer = 0.1
Act_Destroy = EMI_MEDIUM, EXPLODE

[Trigger]
nickname = EMI_FAST_start
Cnd_Timer = 0.5
Act_SpawnLoot = EMI_FAST
Act_ActTrig = EMI_FAST_destroy
repeatable = true

[Trigger]
nickname = EMI_FAST_destroy
Cnd_Timer = 0.1
Act_Destroy = EMI_FAST, EXPLODE

[Trigger]
nickname = EMI_DEFAULT_start
Cnd_Timer = 1
Act_SpawnLoot = EMI_DEFAULT
Act_ActTrig = EMI_DEFAULT_destroy
repeatable = true

[Trigger]
nickname = EMI_DEFAULT_destroy
Cnd_Timer = 0.1
Act_Destroy = EMI_DEFAULT, EXPLODE

[Trigger]
nickname = EMI_mission
Cnd_True = no_params
Act_Invulnerable = armored, true
Act_ActTrig = EMI_player_inside

[Trigger]
nickname = EMI_player_inside
Cnd_DistShip = inside, Player, armored, 700
Act_ActTrig = EMI_player_leaving
Act_ActTrig = EMI_SLOW_start
Act_ActTrig = EMI_to_medium

[Trigger]
nickname = EMI_to_medium
Cnd_Timer = 15
Act_DeActTrig = EMI_SLOW_start
Act_ActTrig = EMI_MEDIUM_start
Act_ActTrig = EMI_to_fast

[Trigger]
nickname = EMI_to_fast
Cnd_Timer = 10
Act_DeActTrig = EMI_MEDIUM_start
Act_ActTrig = EMI_FAST_start
Act_ActTrig = EMI_overheat

[Trigger]
nickname = EMI_player_leaving
Cnd_DistShip = outside, Player, armored, 710
Act_ActTrig = EMI_player_inside
Act_ActTrig = EMI_stop
Act_DeActTrig = EMI_to_medium
Act_DeActTrig = EMI_to_fast
Act_DeActTrig = EMI_overheat

[Trigger]
nickname = EMI_stop
Cnd_True = no_params
Act_DeActTrig = EMI_MEDIUM_start
Act_DeActTrig = EMI_FAST_start
Act_DeActTrig = EMI_SLOW_start

[Trigger]
nickname = EMI_overheat
Cnd_Timer = 7
Act_Invulnerable = armored, false
Act_LightFuse = armored, fuse_m07_armored_drop_shield
Act_DeActTrig = EMI_SLOW_start
Act_DeActTrig = EMI_MEDIUM_start
Act_DeActTrig = EMI_FAST_start
Act_DeActTrig = EMI_DEFAULT_start
Act_ActTrig = EMI_SLOW_destroy
Act_ActTrig = EMI_MEDIUM_destroy
Act_ActTrig = EMI_FAST_destroy
Act_ActTrig = EMI_DEFAULT_destroy
Act_DeActTrig = EMI_player_leaving
Act_DeActTrig = EMI_player_inside
Act_SetNNObj = nn_destroy_transport

Act_EtherComm = echo_m07, 1, Player, dx_m07_0430_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


[Trigger]
nickname = WARP_init
Cnd_Timer = 300 ; countdown

Act_EtherComm = echo_m07, 1, Player, dx_m07_0440_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1


Act_ActTrig = WARP_60_sec_remaining
Act_LightFuse = armored, fuse_m07_warp_init

[Trigger]
nickname = WARP_60_sec_remaining
Cnd_Timer = 60
Act_ChangeState = FAIL, 1

;-

[Trigger]
nickname = ARM_BATTLE_transport_destroyed
Cnd_Destroyed = armored, 1, EXPLODE
Act_SetNNObj = nn_pick_up_artifacts

Act_EtherComm = echo_m07, 1, Player, dx_m07_0445_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1

Act_SpawnLoot = artifacts
Act_MarkObj = artifacts, 1
Act_DeActTrig = WARP_init
Act_DeActTrig = WARP_60_sec_remaining
Act_DeActTrig = WARP_run

Act_ActTrig = ARM_BATTLE_artifacts_catched
Act_Invulnerable = artifacts, true

[Trigger]
nickname = ARM_BATTLE_artifacts_catched
Cnd_LootAcquired = artifacts, Player

Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0450_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0460_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0470_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0480_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1




Act_ActTrig = ESCAPE_init
Act_ActTrig = ARM_BATTLE_stop_battle

[Trigger]
nickname = ARM_BATTLE_stop_battle
Cnd_True = no_params

;;;Act_ActTrig = ARM_order_rep_disable

Act_GiveObjList = escort_a1, ol_order_goto_base
Act_GiveObjList = escort_a2, ol_order_goto_base
Act_GiveObjList = escort_a3, ol_order_goto_base
Act_GiveObjList = escort_b1, ol_order_goto_base
Act_GiveObjList = escort_b2, ol_order_goto_base
Act_GiveObjList = escort_b3, ol_order_goto_base

[Trigger]
nickname = ESCAPE_init
Cnd_CommComplete = dx_m07_0450_trent
Act_SetNNObj = nn_goto_jump_om13
Act_NagDistLeaving = nn_goto_jump_om13, nag_voice, omicron2_to_om13, 90003, 1000, NAG_ALWAYS
Act_GiveObjList = rockford, follow_player
Act_ActTrig = DIVERSION_return_back_fail
Act_ActTrig = ESCAPE_near_tortuga
Act_ActTrig = ESCAPE_around_jumphole
Act_ACtTrig = ESCAPE_dialog


[Trigger]
nickname = ESCAPE_near_tortuga
Cnd_DistShip = inside, Player, OM2_01_CORE, 3200
Act_PobjIdle = no_params

;;; ???

;---

[ObjList]
nickname = rockford_dock_om13
BreakFormation = no_params
Dock = omicron2_to_om13


[Trigger]
nickname = ESCAPE_dialog
Cnd_Timer = 20
Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0490_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_EtherComm = echo_m07, 1, Player, dx_m07_0495_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_EtherComm = echo_m07, 1, Player, dx_m07_0498_rockford, -1, li_rockford_head, sh_male1_body, comm_ge_generic1
Act_Destroy = escort_a1, SILENT
Act_Destroy = escort_a2, SILENT
Act_Destroy = escort_a3, SILENT
Act_Destroy = escort_b1, SILENT
Act_Destroy = escort_b2, SILENT
Act_Destroy = escort_b3, SILENT

;---

[Trigger]
nickname = ESCAPE_around_jumphole
Cnd_DistShip = inside, Player, omicron2_to_om13, 2500
Act_SetNNObj = nn_jump_om13
Act_PlayerCanDock = false, omicron2_to_om13
Act_NagOff = nn_goto_jump_om13
Act_NagDistLeaving = nn_jump_om13, nag_voice, omicron2_to_om13, 90003, 1000, NAG_ALWAYS
Act_ActTrig = welcome_to_omega13

;==============

[Trigger]
nickname = welcome_to_omega13
Cnd_SystemEnter = om13
Act_NagOff = jumpin_om13
Act_Invulnerable = Player, true

Act_ActTrig = welcome_to_omega13_complete
Act_RandomPop = False
Act_PlayMusic = none

[Trigger]
nickname = welcome_to_omega13_complete
Cnd_NPCSystemEnter = om13, Player, rockford
Act_Invulnerable = Player, true
Act_ActTrig = TRAP_init

[Trigger]
nickname = TRAP_init
Cnd_Timer = 5
Act_Invulnerable = Player, true
Act_CallThorn = scripts\mod\m01b_armored_trap_camera.thn, Player
Act_ActTrig = TRAP_bang

[Trigger]
nickname = TRAP_bang
Cnd_Timer = 1
Act_PlaySoundEffect = cruise_disrupt
Act_LightFuse = Player, fuse_distrupted_engine
Act_LightFuse = Player, fuse_ms6_trapped
Act_PObjIdle = no_params
Act_ActTrig = TRAP_rtc_timeout

[Trigger]
nickname = TRAP_rtc_timeout
Cnd_Timer = 3

Act_Invulnerable = Player, true
Act_ForceLand = tau23_m7_base
Act_ActTrig = OMEGA13_SCENE

[Trigger]
nickname = OMEGA13_SCENE
Cnd_LocEnter = Deck, tau23_m7_base
Act_AddRTC = missions\m07\omega13_rtc.ini
Act_ActTrig = TAU23_ARRIVAL_SCENE
Act_ActTrig = ROCKFORD_TRAP_autosave_fix
Act_ActTrig = TAU23_ARRIVED

[Trigger]
nickname = ROCKFORD_TRAP_autosave_fix
Cnd_BaseEnter = tau23_m7_base
Act_RemoveRTC = missions\m07\omega13_rtc.ini
Act_RemoveRTC = missions\m07\tau23_rtc.ini
Act_AddRTC = missions\m07\omega13_launch_rtc.ini
Act_AddRTC = missions\m07\tau23_launch_rtc.ini
Act_ActTrig = TAU23_ARRIVED
repeatable = true ; loop it for next autosaves

[Trigger]
nickname = TAU23_ARRIVAL_SCENE
Cnd_LocEnter = Bar, tau23_m7_base
Act_AddRTC = missions\m07\tau23_rtc.ini
Act_ActTrig = TAU23_ARRIVED

;---
[MsnSolar]
nickname = tau23_launch_point
string_id = 1
system = tau23
position = 26000, 0, -5000
orientation = 0.5, 0, -0.5, 0
faction = fc_uk_grp
archetype = m07_virtual_dock
base = tau23_m7_base
radius = 0
;---

[Trigger]
nickname = TAU23_ARRIVED
Cnd_PlayerLaunch = no_params
Act_SpawnSolar = tau23_launch_point
Act_ActTrig = TAU23_ARRIVED_outside

[Trigger]
nickname = TAU23_ARRIVED_outside
Cnd_True = no_params
Act_RelocateShip = Player, 26000, 0, -5000, 0.5, 0, 0.5, 0
Act_ActTrig = TAU23_ARRIVED_revert

[Trigger]
nickname = TAU23_ARRIVED_revert
Cnd_Timer = 0.1
Act_RevertCam = no_params
Act_SpawnShip = nag_voice
Act_Invulnerable = Player, false
Act_ActTrig = TAU23_ROAD_TO_BS_init

[Trigger]
nickname = TAU23_ROAD_TO_BS_init
Cnd_Timer = 1
Act_Destroy = tau23_launch_point, SILENT
Act_SetNNObj = NN_go_to_battleship
Act_NagDistTowards = POS, goto_bs, nag_voice, 16000, 0, 0, 090001, 2000
Act_PlayerCanDock = false, tau23_03

Act_EtherComm = echo_m07_player, 1, Player, dx_m07_0500_trent, -1, pi_pirate5_head, player_body, player_commhelmet


Act_ActTrig = TAU23_BATTLESHIP


[Trigger]
nickname = TAU23_BATTLESHIP
Cnd_BaseEnter = tau23_03_base
Act_AddRTC = missions\m07\darcy_battleship_rtc.ini
Act_ActTrig = TAU23_BATTLESHIP_rtc_done
Act_ActTrig = TAU23_BATTLESHIP_launch
Act_SetNNObj = NN_buy_things_and_launch_to_space
Act_PlayerCanDock = false
Act_NagOff = goto_bs

[Trigger]
nickname = TAU23_BATTLESHIP_rtc_done
Cnd_BaseEnter = tau23_03_alt_base
;author: extra things
Act_Popupdialog = 216004, 97302, CLOSE


;---

[MsnSolar]
nickname = tau23_alt_battleship
string_id = 97104
system = tau23
position = 16200, 0, 0
orientation = 0, 0, -1, 0
faction = br_grp
archetype = b_battleship
loadout = br_battleship_station
base = tau23_03_alt_base
radius = 0

[Trigger]
nickname = prepare_darcy
Cnd_True = no_params
Act_Invulnerable = darcy, true
Act_SetVibe = darcy, Player, REP_FRIEND_MAXIMUM
Act_SetVibe = Player, darcy, REP_FRIEND_MAXIMUM
Act_MarkObj = darcy, 1

;---
[Trigger]
nickname = TAU23_BATTLESHIP_launch
Cnd_PlayerLaunch = no_params
Act_SpawnSolar = tau23_alt_battleship
Act_ActTrig = TAU23_BATTLESHIP_launch_complete

[Trigger]
nickname = TAU23_BATTLESHIP_launch_complete
Cnd_LaunchComplete = Player
Act_SpawnShip = darcy, follow_player, 16400, 0, -800, 0.5, 0, 0.5, 0
Act_ActTrig = prepare_darcy
Act_SpawnShip = nag_voice
Act_Destroy = tau23_alt_battleship, SILENT
Act_ActTrig = CHECK_ARTIFACT_init

[Trigger]
nickname = CHECK_ARTIFACT_init
Cnd_Timer = 1

Act_EtherComm = echo_m07_female, 1, Player, dx_m07_0510_darcy, -1, ge_female1_head, br_darcy_body, comm_br_darcy_female


Act_SetNNObj = NN_use_tlr_to_gasminer
Act_NagDistTowards = OBJ, tlr_to_gasminer, nag_voice, TAU23_F_Trade_Lane_Ring_L2_04, 090001, 3000, NAG_ALWAYS
Act_PlayerCanTradelane = false, TAU23_F_Trade_Lane_Ring_L2_04, TAU23_F_Trade_Lane_Ring_L2_03

Act_ActTrig = CHECK_ART_TLR_inside
Act_ActTrig = CHECK_ART_TLR_complete

[Trigger]
nickname = CHECK_ART_TLR_inside
Cnd_TLEntered = Player, TAU23_F_Trade_Lane_Ring_L2_04, TAU23_F_Trade_Lane_Ring_L2_03
Act_NagOff = nn_jump_om13
Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_LockManeuvers = true
Act_ActTrig = CHECK_ART_TLR_dialog

[Trigger]
nickname = CHECK_ART_TLR_dialog
Cnd_Timer = 2

Act_EtherComm = echo_m07_female, 1, Player, dx_m07_0520_darcy, -1, ge_female1_head, br_darcy_body, comm_br_darcy_female
Act_EtherComm = echo_m07_female, 1, Player, dx_m07_0530_darcy, -1, ge_female1_head, br_darcy_body, comm_br_darcy_female



[Trigger]
nickname = CHECK_ART_TLR_complete
Cnd_TLExited = Player, TAU23_F_Trade_Lane_Ring_L2_01
Act_LockManeuvers = false
Act_SetNNObj = NN_dock_with_gasminer
Act_PlayerCanDock = false, tau23_01
Act_NagDistTowards = OBJ, dock_gasminer, nag_voice, tau23_01, 090001, 3000, NAG_ALWAYS
Act_ActTrig = CHECK_ART_on_base

[Trigger]
nickname = CHECK_ART_on_base
Cnd_BaseEnter = tau23_01_base
Act_AddRTC = missions\m07\check_artifact_rtc.ini
Act_NagOff = dock_gasminer
Act_ActTrig = AFTER_CHECK_launched
Act_ActTrig = AFTER_CHECK_space_enter
Act_ActTrig = AFTER_CHECK_autolaunch

[Trigger]
nickname = AFTER_CHECK_autolaunch
Cnd_LocEnter = Deck, tau23_01_base
Act_AddRTC = missions\m07\jabba_launch_rtc.ini

[Trigger]
nickname = AFTER_CHECK_space_enter
Cnd_SpaceEnter = no_params
Act_SpawnShip = jabba_bandit01, no_ol, 10630, -380, -30000, 0.5, 0, 0.5, 0
Act_SpawnShip = jabba_bandit02, no_ol, 10600, -380, -30030, 0.5, 0, 0.5, 0
Act_SpawnShip = jabba_bandit03, no_ol, 10630, -380, -30060, 0.5, 0, 0.5, 0
Act_ActTrig = BANDIT_setrep_neutral
Act_DeActTrig = AFTER_CHECK_autolaunch

[Trigger]
nickname = AFTER_CHECK_launched
Cnd_LaunchComplete = Player
Act_PObjIdle = no_params
Act_CallThorn = scripts\mod\m07_bandit_camera1.thn, Player

Act_EtherComm = echo_m07, 1, Player, dx_m07_0550_bandit, -1, 


Act_ActTrig = AFTER_CHECK_prepare_player

Act_ActTrig = DARCY_SUPERCOP

[Trigger]
nickname = AFTER_CHECK_prepare_player
Cnd_Timer = 1
Act_RelocateShip = Player, 10300, -380, -30030, 0.5, 0, -0.5, 0
Act_SpawnShip = darcy, no_ol, 10300, -380, -30000, 0.5, 0, -0.5, 0


[Trigger]
nickname = DARCY_SUPERCOP
Cnd_CommComplete = dx_m07_0550_bandit
Act_CallThorn = scripts\mod\m07_bandit_camera2.thn, Player

Act_EtherComm = echo_m07_female, 1, Player, dx_m07_0560_darcy, -1, ge_female1_head, br_darcy_body, comm_br_darcy_female


Act_ActTrig = DARCY_SUPERCOP_complete

[Trigger]
nickname = DARCY_SUPERCOP_complete
Cnd_CommComplete = dx_m07_0560_darcy
Act_RevertCam = no_params
Act_ActTrig = BANDIT_init



[Trigger]
nickname = BANDIT_setrep_neutral
Cnd_True = no_params
Act_SetVibeLblToShip = bandit, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, bandit, REP_NEUTRAL
Act_SetVibeLblToShip = bandit, darcy, REP_NEUTRAL
Act_SetVibeShipToLbl = darcy, bandit, REP_NEUTRAL

[Trigger]
nickname = BANDIT_setrep_enemy
Cnd_True = no_params
Act_SetVibeLblToShip = bandit, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, bandit, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = bandit, darcy, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = darcy, bandit, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = BANDIT_init
Cnd_Timer = 1
Act_SetNNObj = NN_destroy_bandits
Act_MarkObj = jabba_bandit01, 1
Act_MarkObj = jabba_bandit01, 2
Act_MarkObj = jabba_bandit01, 3
Act_ActTrig = BANDIT_setrep_enemy
Act_ActTrig = BANDIT_destroyed


;---- enemy



[NPC]
nickname = npc_darcy
affiliation = fc_uk_grp
npc_ship_arch = m07_darcy
space_costume = ge_female1_head, br_darcy_body, comm_br_darcy_female
individual_name = 97101

[MsnShip]
nickname = darcy
NPC = npc_darcy
label = ally



[NPC]
nickname = npc_jabba_bandit
affiliation = fc_uk_grp
npc_ship_arch = ms7_starline_li_fighter2


;point a

[MsnShip]
nickname = jabba_bandit01
NPC = npc_jabba_bandit
jumper = false
label = bandit
random_name = true
; 10630, -460, -30000, 0.5, 0, 0.5, 0


[MsnShip]
nickname = jabba_bandit02
NPC = npc_jabba_bandit
jumper = false
label = bandit
random_name = true
; 10600, -460, -30030, 0.5, 0, 0.5, 0

[MsnShip]
nickname = jabba_bandit03
NPC = npc_jabba_bandit
jumper = false
label = bandit
random_name = true
; 10630, -460, -30060, 0.5, 0, 0.5, 0


;---

[Trigger]
nickname = BANDIT_destroyed
Cnd_Destroyed = bandit, -1, ALL_IGNORE_LANDING



Act_EtherComm = echo_m07_female, 1, Player, dx_m07_0570_darcy, -1, ge_female1_head, br_darcy_body, comm_br_darcy_female


Act_SetNNObj = NN_dock_with_gasminer_again
Act_NagDistTowards = OBJ, dock_gasminer_again, nag_voice, tau23_01, 090001, 3000, NAG_ALWAYS
Act_ActTrig = REWARD_init


[Trigger]
nickname = REWARD_init
Cnd_BaseEnter = tau23_01_base
Act_NagOff = dock_gasminer_again
Act_AddRTC = missions\m07\reward_rtc.ini
Act_ActTrig = REWARD_final

[Trigger]
nickname = REWARD_final
Cnd_RTCDone = missions\m07\reward_rtc.ini
Act_ActTrig = MSN_REP_AFTER
Act_AdjAcct = 10000
Act_ChangeState = SUCCEED










[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
[;
Act_SetRep = Player, li_grp, 0.4
Act_SetRep = Player, lc_grp, 0.4
Act_SetRep = Player, lx_grp, -0.3
Act_SetRep = Player, pi_grp, -0.3
Act_SetRep = Player, rh_grp, 0

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0.5
Act_SetRep = Player, lc_grp, 0.5
Act_SetRep = Player, lx_grp, -0.65
Act_SetRep = Player, pi_grp, -0.65
Act_SetRep = Player, rh_grp, -0.65


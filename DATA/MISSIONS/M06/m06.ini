[Mission]
npc_ship_file = missions\m06\npcships.ini

[NPC] 
nickname = npc_nnvoice
affiliation = fc_uk_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = nn_mod

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[Trigger]
nickname = friend_armor
Cnd_True = no_params
Act_Invulnerable = alaric_cloak, true

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
BreakFormation = no_params


[Trigger]
nickname = comm_vendor
Cnd_True = no_params
Act_EtherComm = echo, 216000, Player, DX_M01_0000_MOD, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;OBJECTIVES




[NNObjective]
nickname = NN_00_meet_vendor
state = HIDDEN
type = ids, 096002

[NNObjective]
nickname = NN_00_launch_to_space
state = HIDDEN
type = ids, 096003

[NNObjective]
nickname = NN_01_goto_dread
state = HIDDEN
type = rep_inst, li_mnh, 096004, 096004, 40000, 7000, -20800, dread_mnh

[NNObjective]
nickname = NN_02_pick_up_cloaking_device
state = HIDDEN
type = ids, 096006

[NNObjective]
nickname = NN_02_dockon_dread
state = HIDDEN
type = rep_inst, li_mnh, 096005, 096005, 40000, 7000, -20800, dread_mnh

[NNObjective]
nickname = NN_03_mount_cloaking_device_and_launch
state = HIDDEN
type = ids, 096006

[NNObjective]
nickname = NN_04_road_to_station
state = HIDDEN
type = navmarker, sphere, 096007, 096007, -13000, 0, 54000

[NNObjective]
nickname = NN_05_around_station
state = HIDDEN
type = navmarker, sphere, 096008, 096008, -1000, 0, 50000

[NNObjective]
nickname = NN_06_enter_the_sphere
state = HIDDEN
type = navmarker, sphere, 096009, 096009, 0, 0, 30000

[NNObjective]
nickname = NN_07_meet_alaric_after_first_tunnel
state = HIDDEN
type = navmarker, sphere, 096010, 096010, -14000, 0, 21000

[NNObjective]
nickname = NN_08_goto_second_tunnel
state = HIDDEN
type = navmarker, sphere, 096011, 096011, -22000, 0, -4000

[NNObjective]
nickname = NN_09_enter_the_second_tunnel
state = HIDDEN
type = navmarker, sphere, 096012, 096012, -25500, 800, -7000

[NNObjective]
nickname = NN_10_goto_third_tunnel
state = HIDDEN
type = navmarker, sphere, 096013, 096013, -5800, -800, -21600

[NNObjective]
nickname = NN_11_destroy_nomad_core
state = HIDDEN
type = rep_inst, sphere, 096014, 096014, -5800, 300, -26000, sphere_kernel
;type = ids, 021986

[NNObjective]
nickname = NN_12_destroy_nomad_fighters
state = HIDDEN
type = ids, 096015

[NNObjective]
nickname = NN_13_goto_sphere_core
state = HIDDEN
type = navmarker, sphere, 096016, 096016, 0, 0, 0

[NNObjective]
nickname = NN_13_goto_reitherman
state = HIDDEN
type = navmarker, sphere, 096017, 096017, -140, 20, -2050

[NNObjective]
nickname = NN_14_kill_rotherman
state = HIDDEN
type = ids, 096018

[NNObjective]
nickname = NN_15_catch_and_kill_assistant
state = HIDDEN
type = ids, 096019

[NNObjective]
nickname = NN_16_back_to_second_tunnel
state = HIDDEN
type = navmarker, sphere, 096020, 096020, -20600, 0, -4500

[NNObjective]
nickname = NN_17_goto_lab
state = HIDDEN
type = rep_inst, sphere, 096021, 096021, -25500, -500, 4000, sphere_laboratory01

[NNObjective]
nickname = NN_18_destroy_lab_shield
state = HIDDEN
type = ids, 096022

[NNObjective]
nickname = NN_19_dock_on_lab
state = HIDDEN
type = rep_inst, sphere, 096023, 096023, -25500, -500, 4000, sphere_laboratory01

[NNObjective]
nickname = NN_20_back_to_first_tunnel
state = HIDDEN
type = navmarker, sphere, 096024, 096024, -8000, 0, 21500

[NNObjective]
nickname = NN_21_dock_on_dread
state = HIDDEN
type = rep_inst, sphere, 096025, 096025, 0, 1000, 37000, dread_escape

[NNObjective]
nickname = NN_22_defend_dread
state = HIDDEN
type = ids, 096026

[NNObjective]
nickname = NN_22_destroy_torpedoes_look_at
state = HIDDEN
type = navmarker, sphere, 096027, 096027, -1500, 0, 51000

[NNObjective]
nickname = NN_22_destroy_torpedoes
state = HIDDEN
type = ids, 096027

[NNObjective]
nickname = NN_23_goto_omicron_major_jumphole
state = HIDDEN
type = rep_inst, sphere, 096028, 096028, 500, 0, 70000, sphere_to_omicron1B

[NNObjective]
nickname = NN_24_jump_to_omicron_major
state = HIDDEN
type = rep_inst, sphere, 096029, 096029, 500, 0, 70000, sphere_to_omicron1B

[NNObjective]
nickname = NN_25_goto_tobago_base
state = HIDDEN
type = rep_inst, sphere, 096030, 096030, -40000, 415, -450, co_cad_03_ROOT

[NNObjective]
nickname = NN_26_dock_on_tobago_base
state = HIDDEN
type = rep_inst, sphere, 096031, 096031, -40000, 415, -450, co_cad_03_TOP_dock01

[NNObjective]
nickname = NN_27_completed
state = HIDDEN
type = ids, 096032



;----END

;DREADS

[MsnSolar]
nickname = dread_mnh
string_id = 096201
system = li_mnh
position = 40000, 7000, -20800
orientation = 0, 0, -1, 0
faction = li_grp
archetype = l_dreadnought
loadout = li_dreadnought_03
base = sphere_01_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0

[MsnSolar]
nickname = dread_init
string_id = 096201
system = sphere
position = -22000, 0, 58000
orientation = 0.6, 0, -0.4, 0
faction = li_grp
archetype = l_dreadnought
loadout = li_dreadnought_03
base = sphere_01_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0

[MsnSolar]
nickname = dread_escape
string_id = 096201
system = sphere
position = 0, 1000, 37000
orientation = 0.5, 0, -0.5, 0
faction = li_grp
archetype = l_dreadnought
loadout = li_dreadnought_03
base = sphere_02_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0

[MsnSolar]
nickname = dread_defend
string_id = 096201
system = sphere
position = -1000, 75, 47500
orientation = 0.25, 0, 0.75, 0
faction = li_grp
archetype = l_dreadnought_destroyable
loadout = li_dreadnought_03
base = sphere_02_base
label = dread
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0




[NPC] 
nickname = npc_checker
affiliation = fc_uk_grp
npc_ship_arch = cloak_checker_shiparch
individual_name = 096203

[MsnShip]
nickname = launch_checker
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = -90, Player, 5

[MsnShip]
nickname = checker
NPC = npc_checker
jumper = false
label = checker_the
rel_pos = -90, Player, 50


[Trigger]
nickname = MSG_LEAVING_CLOAK_CHECKING_ZONE
Cnd_True = no_params
Act_Popupdialog = 216004, 096303, CLOSE

[Trigger]
nickname = MSG_ENTERING_CLOAK_CHECKING_ZONE
Cnd_True = no_params
Act_Popupdialog = 216004, 096304, CLOSE



[Trigger]
nickname = CHECKER_SET_REP
Cnd_Timer = 1
Act_SetVibeLblToShip = checker_the, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, checker_the, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = DANGER_ZONE
Cnd_True = no_params
Act_SpawnShip = checker
Act_ActTrig = CHECKER_SET_REP
Act_ActTrig = DANGER_CHECKER
Act_ActTrig = DANGER_CHECK_TIME

[Trigger]
nickname = DANGER_CHECKER
Cnd_ProjHit = Player, 1, checker
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = DANGER_CHECK_TIME
Cnd_Timer = 3
Act_ActTrig = REMOVE_CHECKER
Act_ActTrig = DANGER_REACTIVATE

[Trigger]
nickname = DANGER_REACTIVATE
Cnd_Timer = 2
Act_ActTrig = DANGER_ZONE

[Trigger]
nickname = REMOVE_CHECKER
Cnd_True = no_params
Act_DeActTrig = DANGER_CHECKER
Act_Destroy = checker, SILENT


[Trigger]
nickname = player_found_by_checker
Cnd_True = no_params
;Officer: We found someone
Act_EtherComm = echo, 096501, Player, DX_M01_1111_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_ActTrig = alarm
Act_ActTrig = found_checker_fail
Act_ActTrig = REMOVE_CHECKER
Act_DeActTrig = DANGER_CHECKER
Act_DeActTrig = DANGER_CHECK_TIME


[Trigger]
nickname = found_checker_fail
Cnd_Timer = 5
Act_ChangeState = FAIL, 096101

[Trigger]
nickname = alarm
Cnd_Timer = 1
Act_PlaySoundEffect = rtc_cloak_alert
repeatable = true

;---


[Trigger]
nickname = init_ms6
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms6_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever

[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = li_mnh_03_dock_ring

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;Vendor: Greetings, Freelancer
Act_EtherComm = echo_m05_female, 095502, Player, DX_M05_0000_hatcher, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = init_objective
Cnd_True = no_params
Act_NNPath = 096002, 096002, li_mnh_03_dock_ring, li_mnh

[Trigger]
nickname = ms6_create_vendor
system = li_for
Cnd_LocEnter = Bar, li_mnh_03_base
Act_AddRTC = missions\m06\vendor_msn.ini
Act_ActTrig = ms6_do_accept
repeatable = true

;;accepted

[Trigger]
nickname = ms6_do_accept
system = li_for
Cnd_MsnResponse = accept
Act_DeactTrig = ms5_create_vendor
Act_RemoveRTC = missions\m05\vendor_msn.ini
Act_PlayerCanDock = false
Act_RandomPop = false

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

Act_SetNNObj = NN_00_launch_to_space
Act_SetTitle = 096301
Act_ActTrig = player_first_in_space

Act_ActTrig = MSN_REP_BEFORE

[Trigger]
nickname = player_first_in_space
Cnd_InSpace = true
Act_SpawnShip = alaric_mnh, no_ol, 35000, 7000, -27560, 0.5, 0, 0.5, 0
Act_SpawnShip = hatcher_mnh, no_ol, 35000, 7000, -27480, 0.5, 0, 0.5, 0
Act_SpawnSolar = dread_mnh
Act_SpawnShip = nag_voice
Act_ActTrig = player_first_launch_complete

[Trigger]
nickname = player_first_launch_complete
Cnd_LaunchComplete = Player
Act_GiveObjList = alaric_mnh, follow_player
Act_GiveObjList = hatcher_mnh, follow_player
Act_ActTrig = first_space_dialog

[Trigger]
nickname = first_space_dialog
Cnd_Timer = 2
;Hatcher: Go to dread
Act_EtherComm = echo_female, 096502, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
Act_SetNNObj = NN_01_goto_dread
Act_NagDistTowards = OBJ, goto_dread_mnh, nag_voice, dread_mnh, 090001, 3000, NAG_ALWAYS
Act_ActTrig = fly_dialog

[Trigger]
nickname = fly_dialog
Cnd_Timer = 5
;Player: What a count of enemy in sphere?
Act_EtherComm = echo_player, 096503, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Hatcher: They have a base
Act_EtherComm = echo_female, 096504, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Alaric: We can't did this
Act_EtherComm = echo, 096505, Player, DX_M01_0000_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Hatcher: We have cloaking devices
Act_EtherComm = echo_female, 096506, Player, DX_M01_1111_ECHO, -1, li_hatcher_head, li_hatcher_body
Act_ActTrig = fly_dialog_complete

[Trigger]
nickname = fly_dialog_complete
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = near_mnh_dread

[Trigger]
nickname = near_mnh_dread
Cnd_DistShip = inside, Player, dread_mnh, 3000
Act_NagOff = goto_dread_mnh
Act_NagDistLeaving = dread_dock, nag_voice, dread_mnh, 040104, 100, NAG_ALWAYS
Act_PlayerCanDock = false, dread_mnh
Act_SetNNObj = NN_02_dockon_dread
Act_ActTrig = on_dread_mnh

;---------------

[Trigger]
nickname = on_dread_mnh
Cnd_BaseEnter = sphere_01_base
Act_AddRTC = missions\m06\dread_mnh_deck.ini
Act_ActTrig = dread_mnh_accept

[Trigger]
nickname = dread_mnh_accept
Cnd_MsnResponse = accept
Act_SetNNObj = NN_03_mount_cloaking_device_and_launch
Act_ActTrig = launch_spawn_dread_init
Act_SetRep = Player, li_grp, 0.65
Act_SetRep = Player, rh_grp, -0.2
Act_SetTitle = 096301
Act_SetOffer = 096302

[Trigger]
nickname = launch_spawn_dread_init
Cnd_PlayerLaunch = no_params
Act_Destroy = dread_mnh
Act_SpawnSolar = dread_init
Act_ActTrig = prevent_player_no_cloak_launch


[Trigger]
nickname = prevent_player_no_cloak_launch
Cnd_LaunchComplete = Player
Act_SpawnShip = checker
Act_ActTrig = launch_check_cloak
Act_ActTrig = launch_Checking_complete
Act_ActTrig = CHECKER_SET_REP

[Trigger]
nickname = launch_check_cloak
Cnd_ProjHit = Player, 1, checker
Act_ChangeState = FAIL, 096102

[Trigger]
nickname = launch_Checking_complete
Cnd_Timer = 4
Act_DeactTrig = launch_check_cloak
Act_Destroy = checker, SILENT
Act_ActTrig = init_stealth_mission


[NPC] 
nickname = npc_rh_elite_checker
affiliation = rh_grp
npc_ship_arch = ms6_rh_elite_checkership

[NPC] 
nickname = npc_rh_freighter_checker
affiliation = rh_grp
npc_ship_arch = ms6_rh_freighter_checkership

[NPC] 
nickname = npc_rh_fighter_checker
affiliation = rh_grp
npc_ship_arch = ms6_rh_fighter_checkership

[NPC] 
nickname = npc_rh_elite
affiliation = rh_grp
npc_ship_arch = ms6_rh_elite_ship

[NPC] 
nickname = npc_rh_freighter
affiliation = rh_grp
npc_ship_arch = ms6_rh_freighter_ship

[NPC] 
nickname = npc_rh_fighter
affiliation = rh_grp
npc_ship_arch = ms6_rh_fighter_ship



[MsnShip]
nickname = check_A_01
NPC = npc_rh_freighter_checker
label = patrol
label = cloak_checker
random_name = true

[MsnShip]
nickname = check_A_02
NPC = npc_rh_fighter_checker
label = patrol
random_name = true

[MsnShip]
nickname = check_A_03
NPC = npc_rh_elite_checker
label = patrol
random_name = true


[MsnShip]
nickname = check_B_01
NPC = npc_rh_freighter_checker
label = patrol
label = cloak_checker
random_name = true

[MsnShip]
nickname = check_B_02
NPC = npc_rh_fighter_checker
label = patrol
random_name = true

[MsnShip]
nickname = check_B_03
NPC = npc_rh_elite_checker
label = patrol
random_name = true


[MsnShip]
nickname = check_C_01
NPC = npc_rh_freighter_checker
label = patrol
label = cloak_checker
random_name = true

[MsnShip]
nickname = check_C_02
NPC = npc_rh_fighter_checker
label = patrol
random_name = true

[MsnShip]
nickname = check_C_03
NPC = npc_rh_elite_checker
label = patrol
random_name = true


[MsnShip]
nickname = check_D_01
NPC = npc_rh_freighter_checker
label = patrol
label = cloak_checker
random_name = true

[MsnShip]
nickname = check_D_02
NPC = npc_rh_fighter_checker
label = patrol
random_name = true

[MsnShip]
nickname = check_D_03
NPC = npc_rh_elite_checker
label = patrol
random_name = true


[MsnShip]
nickname = check_E_01
NPC = npc_rh_freighter_checker
label = patrol
label = cloak_checker
random_name = true

[MsnShip]
nickname = check_E_02
NPC = npc_rh_fighter_checker
label = patrol
random_name = true

[MsnShip]
nickname = check_E_03
NPC = npc_rh_elite_checker
label = patrol
random_name = true


[MsnFormation]
nickname = patrol_A
position = 2500, 0, 22000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = check_A_01
ship = check_A_02
ship = check_A_03

[MsnFormation]
nickname = patrol_B
position = 0, -600, 45000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = check_B_01
ship = check_B_02
ship = check_B_03

[MsnFormation]
nickname = patrol_C
position = 0, 600, 21000
orientation = 0, 0, 1, 0
formation = armored_basic
ship = check_C_01
ship = check_C_02
ship = check_C_03

[MsnFormation]
nickname = patrol_D
position = -6000, 200, 50000
orientation = 1, 0, 0, 0
formation = armored_basic
ship = check_D_01
ship = check_D_02
ship = check_D_03

[MsnFormation]
nickname = patrol_E
position = 6000, -200, 50000
orientation = 0, 0, 1, 0
formation = armored_basic
ship = check_E_01
ship = check_E_02
ship = check_E_03


[ObjList]
nickname = ol_patrol_A
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, 0, 18500, 200, true
GotoVec = goto_no_cruise, -2000, 0, 22500, 200, true
GotoVec = goto_no_cruise, 2500, 0, 22000, 200, true

[ObjList]
nickname = ol_patrol_B
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, -600, 44000, 200, true
GotoVec = goto, 0, -600, 21000, 200, true
GotoVec = goto_no_cruise, 0, -600, 23000, 200, true
GotoVec = goto, 0, -600, 45000, 200, true

[ObjList]
nickname = ol_patrol_C
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, 0, 600, 23000, 200, true
GotoVec = goto, 0, 600, 45000, 200, true
GotoVec = goto_no_cruise, 0, 600, 44000, 200, true
GotoVec = goto, 0, 600, 21000, 200, true

[ObjList]
nickname = ol_patrol_D
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, -3000, 200, 45000, 300, true
GotoVec = goto, 3000, 200, 45000, 300, true
GotoVec = goto, 6000, 200, 50000, 300, true
GotoVec = goto, 0, 200, 56000, 300, true
GotoVec = goto, -6000, 200, 50000, 300, true

[ObjList]
nickname = ol_patrol_E
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, 0, -200, 56000, 300, true
GotoVec = goto, -6000, -200, 50000, 300, true
GotoVec = goto, -3000, -200, 45000, 300, true
GotoVec = goto, 3000, -200, 45000, 300, true
GotoVec = goto, 6000, -200, 50000, 300, true

[Trigger]
nickname = init_patrol_A
Cnd_DistVec = inside, check_A_01, 2500, 0, 22000, 200
Act_GiveObjList = check_A_01, ol_patrol_A
Act_ActTrig = patrol_A_reset

[Trigger]
nickname = patrol_A_reset
Cnd_DistVec = outside, check_A_01, 2500, 0, 22000, 1000
Act_ActTrig = init_patrol_A

[Trigger]
nickname = init_patrol_B
Cnd_DistVec = inside, check_B_01, 0, -600, 45000, 200
Act_GiveObjList = check_B_01, ol_patrol_B
Act_ActTrig = patrol_B_reset

[Trigger]
nickname = patrol_B_reset
Cnd_DistVec = outside, check_B_01, 0, -600, 45000, 1000
Act_ActTrig = init_patrol_B

[Trigger]
nickname = init_patrol_C
Cnd_DistVec = inside, check_C_01, 0, 600, 21000, 200
Act_GiveObjList = check_C_01, ol_patrol_C
Act_ActTrig = patrol_C_reset

[Trigger]
nickname = patrol_C_reset
Cnd_DistVec = outside, check_C_01, 0, 600, 21000, 1000
Act_ActTrig = init_patrol_C

[Trigger]
nickname = init_patrol_D
Cnd_DistVec = inside, check_D_01, -6000, 200, 50000, 200
Act_GiveObjList = check_D_01, ol_patrol_D
Act_ActTrig = patrol_D_reset

[Trigger]
nickname = patrol_D_reset
Cnd_DistVec = outside, check_D_01, -6000, 200, 50000, 1000
Act_ActTrig = init_patrol_D

[Trigger]
nickname = init_patrol_E
Cnd_DistVec = inside, check_E_01, 6000, -200, 50000, 200
Act_GiveObjList = check_E_01, ol_patrol_E
Act_ActTrig = patrol_E_reset

[Trigger]
nickname = patrol_E_reset
Cnd_DistVec = outside, check_E_01, 6000, -200, 50000, 1000
Act_ActTrig = init_patrol_E


[NPC]
nickname = npc_rh_cruiser
affiliation = rh_grp
npc_ship_arch = ms6_rh_cruiser

[MsnShip]
nickname = patrol_cruiser_1
NPC = npc_rh_cruiser
label = patrol
random_name = true

[MsnShip]
nickname = patrol_cruiser_2
NPC = npc_rh_cruiser
label = patrol
random_name = true

[MsnShip]
nickname = patrol_cruiser_3
NPC = npc_rh_cruiser
label = patrol
random_name = true

[MsnShip]
nickname = patrol_cruiser_4
NPC = npc_rh_cruiser
label = patrol
random_name = true



[Trigger]
nickname = init_stealth_mission
Cnd_True = no_params
Act_ActTrig = stealth_spawn_patrols
Act_SetNNObj = NN_04_road_to_station
Act_ActTrig = stealth_first_flight_dialog
Act_SpawnShip = nag_voice
Act_NagDistTowards = POS, stealth_wp1, nag_voice, -13000, 0, 54000, 090001, 2000
Act_ActTrig = STATION_DANGER_ZONE
Act_ActTrig = OUTPOSTS_CHECKING_ZONE
Act_ActTrig = init_PATROL_CHECKING
Act_SpawnShip = alaric_cloak, follow_player, -20820, -150, 57350, 0.5, 0, 0.5, 0 
Act_ActTrig = alaric_first_meet

[Trigger]
nickname = alaric_first_meet
Cnd_Timer = 3
Act_Cloak = alaric_cloak, false

[Trigger]
nickname = stealth_spawn_patrols
Cnd_True = no_params
Act_SpawnFormation = patrol_A
Act_SpawnFormation = patrol_B
Act_SpawnFormation = patrol_C
Act_SpawnFormation = patrol_D
Act_SpawnFormation = patrol_E
Act_ActTrig = start_outside_patrols
Act_SpawnShip = patrol_cruiser_1, no_ol, -1300, 0, 49400, 0.5, 0, 0.5, 0
Act_SpawnShip = patrol_cruiser_2, no_ol, -1300, 0, 50600, 0.5, 0, 0.5, 0
Act_SpawnShip = patrol_cruiser_3, no_ol, 1300, 0, 49400, 0.5, 0, -0.5, 0
Act_SpawnShip = patrol_cruiser_4, no_ol, 1300, 0, 50600, 0.5, 0, -0.5, 0

[Trigger]
nickname = start_outside_patrols
Cnd_Timer = 5
Act_ActTrig = init_patrol_A
Act_ActTrig = init_patrol_B
Act_ActTrig = init_patrol_C
Act_ActTrig = init_patrol_D
Act_ActTrig = init_patrol_E

[Trigger]
nickname = stealth_first_flight_dialog
Cnd_Timer = 1
;Alaric: Accepted
Act_EtherComm = echo, 096507, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Hatcher: Good luck
Act_EtherComm = echo_female, 096508, Player, DX_M01_1111_ECHO, -1, li_hatcher_head, li_hatcher_body
Act_ActTrig = stealth_dialog_first_complete

[Trigger]
nickname = stealth_dialog_first_complete
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = stealth_around_waypoint1

[Trigger]
nickname = stealth_around_waypoint1
Cnd_DistVec = inside, Player, -8000, 0, 51000, 8000
Act_PobjIdle = no_params
Act_NagOff = stealth_wp1
;Alaric: Mission begins
Act_EtherComm = echo, 096509, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = stealth_alaric_cloaking

[Trigger]
nickname = stealth_alaric_cloaking
Cnd_CommComplete = DX_M01_0000_ECHO
Act_Save = STEALTH_SAVE, 040022
Act_PobjIdle = no_params
Act_GiveObjList = alaric_cloak, ol_alaric_goto_station
Act_Cloak = alaric_cloak, true
Act_Trig = alaric_first_cloak_fade_away
Act_ActTrig = STEALTH_init

[Trigger]
nickname = alaric_first_cloak_fade_away
Cnd_Timer = 5
Act_Destroy = alaric_cloak, SILENT

[ObjList]
nickname = ol_alaric_goto_station
SetPriority = ALWAYS_EXECUTE
avoidance = true
GotoVec = goto, -1000, 0, 50000, 100, true


[Trigger]
nickname = STEALTH_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = STEALTH_spawn_units
Act_ActTrig = STATION_DANGER_ZONE
Act_ActTrig = OUTPOSTS_CHECKING_ZONE
Act_ActTrig = init_PATROL_CHECKING

[Trigger]
nickname = STEALTH_spawn_units
Cnd_Timer = 0.1
Act_ActTrig = stealth_spawn_patrols
Act_SpawnShip = nag_voice
Act_RelocateShip = Player, -13000, 0, 54000, 0.5, 0, -0.5, 0
Act_ActTrig = STEALTH_init

[Trigger]
nickname = STEALTH_init
Cnd_Timer = 2
Act_Popupdialog = 216004, 096404, CLOSE
Act_SetNNObj = NN_05_around_station
;Player: I ready
Act_EtherComm = echo_player, 096510, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_ActTrig = stealth_around_station


[Trigger]
nickname = STATION_DANGER_ZONE
Cnd_DistVec = inside, Player, 0, 0, 50000, 12500
Act_ActTrig = MSG_ENTERING_CLOAK_CHECKING_ZONE
Act_ActTrig = DANGER_ZONE


[Trigger]
nickname = OUTPOSTS_CHECKING_ZONE
Cnd_InZone = false, Player, EXCLUSION_ZONE
Act_ActTrig = alarm
Act_ActTrig = OUTPOSTS_CHECKING_ZONE_recheck
Act_ActTrig = OUTPOSTS_CHECKING_ZONE_restart

[Trigger]
nickname = OUTPOSTS_CHECKING_ZONE_recheck
Cnd_Timer = 9
Act_ActTrig = OUTPOSTS_CHECKING_ZONE_recheck_finally

[Trigger]
nickname = OUTPOSTS_CHECKING_ZONE_recheck_finally
Cnd_InZone = false, Player, EXCLUSION_ZONE
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = OUTPOSTS_CHECKING_ZONE_restart
Cnd_Timer = 10
Act_DeActTrig = alarm
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_recheck_finally
Act_ActTrig = OUTPOSTS_CHECKING_ZONE



[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_ONE
Cnd_DistVec = inside, Player, -15000, 0, 55000, 9000
Act_ActTrig = alarm
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_restart

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck
Cnd_Timer = 9
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck_finally

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck_finally
Cnd_DistVec = inside, Player, -15000, 0, 55000, 9000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_ONE_restart
Cnd_Timer = 10
Act_DeActTrig = alarm
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck_finally
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_TWO
Cnd_DistVec = inside, Player, -15000, 0, 45000, 9000
Act_ActTrig = alarm
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_restart

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck
Cnd_Timer = 9
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck_finally

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck_finally
Cnd_DistVec = inside, Player, -15000, 0, 45000, 9000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = OUTPOSTS_WEST_DANGER_ZONE_TWO_restart
Cnd_Timer = 10
Act_DeActTrig = alarm
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck_finally
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO


[Trigger]
nickname = stealth_around_station
Cnd_DistVec = inside, Player, 0, 0, 50000, 6000
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE
Act_ActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO
Act_ActTrig = stealth_goto_sphere
Act_ActTrig = OUTPOST_ACTIVATED_dialog
Act_ActTrig = inside_sphere

[Trigger]
nickname = stealth_goto_sphere
Cnd_Timer = 3
Act_SetNNObj = NN_06_enter_the_sphere
Act_ActTrig = stealth_exit_first_tunnel

[Trigger]
nickname = OUTPOST_ACTIVATED_dialog
Cnd_True = no_params
;Officer: Outposts is activated
Act_EtherComm = echo, 096511, Player, DX_M01_1111_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
;Reichman: Good. Keep patrols goiung
Act_EtherComm = echo, 096512, Player, DX_M01_0000_ECHO, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A

;LAST POINT

[Trigger]
nickname = init_PATROL_CHECKING
Cnd_True = no_params
Act_ActTrig = patrol_A_DANGER_ZONE
Act_ActTrig = patrol_B_DANGER_ZONE
Act_ActTrig = patrol_C_DANGER_ZONE
Act_ActTrig = patrol_D_DANGER_ZONE
Act_ActTrig = patrol_E_DANGER_ZONE

[Trigger]
nickname = patrol_A_DANGER_ZONE
Cnd_DistShip = inside, Player, check_A_01, 4000
Act_ActTrig = alarm
Act_ActTrig = patrol_A_DANGER_ZONE_founded
Act_ActTrig = patrol_A_DANGER_ZONE_reset

[Trigger]
nickname = patrol_A_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, check_A_01, 2000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_A_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, check_A_01, 5000
Act_ActTrig = patrol_A_DANGER_ZONE
Act_DeActTrig = alarm


[Trigger]
nickname = patrol_B_DANGER_ZONE
Cnd_DistShip = inside, Player, check_B_01, 4000
Act_ActTrig = alarm
Act_ActTrig = patrol_B_DANGER_ZONE_founded
Act_ActTrig = patrol_B_DANGER_ZONE_reset

[Trigger]
nickname = patrol_B_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, check_B_01, 2000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_B_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, check_B_01, 5000
Act_ActTrig = patrol_B_DANGER_ZONE
Act_DeActTrig = alarm


[Trigger]
nickname = patrol_C_DANGER_ZONE
Cnd_DistShip = inside, Player, check_C_01, 4000
Act_ActTrig = alarm
Act_ActTrig = patrol_C_DANGER_ZONE_founded
Act_ActTrig = patrol_C_DANGER_ZONE_reset

[Trigger]
nickname = patrol_C_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, check_C_01, 2000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_C_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, check_C_01, 5000
Act_ActTrig = patrol_C_DANGER_ZONE
Act_DeActTrig = alarm


[Trigger]
nickname = patrol_D_DANGER_ZONE
Cnd_DistShip = inside, Player, check_D_01, 4000
Act_ActTrig = alarm
Act_ActTrig = patrol_D_DANGER_ZONE_founded
Act_ActTrig = patrol_D_DANGER_ZONE_reset

[Trigger]
nickname = patrol_D_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, check_D_01, 2000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_D_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, check_D_01, 5000
Act_ActTrig = patrol_D_DANGER_ZONE
Act_DeActTrig = alarm


[Trigger]
nickname = patrol_E_DANGER_ZONE
Cnd_DistShip = inside, Player, check_E_01, 4000
Act_ActTrig = alarm
Act_ActTrig = patrol_E_DANGER_ZONE_founded
Act_ActTrig = patrol_E_DANGER_ZONE_reset

[Trigger]
nickname = patrol_E_DANGER_ZONE_founded
Cnd_DistShip = inside, Player, check_E_01, 2000
Act_ActTrig = player_found_by_checker

[Trigger]
nickname = patrol_E_DANGER_ZONE_reset
Cnd_DistShip = outside, Player, check_E_01, 5000
Act_ActTrig = patrol_E_DANGER_ZONE
Act_DeActTrig = alarm











[NPC] 
nickname = npc_alaric
affiliation = fc_uk_grp
npc_ship_arch = ms6_alaric_ship
space_costume = rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
individual_name = 216000

[NPC] 
nickname = npc_hatcher
affiliation = fc_uk_grp
npc_ship_arch = ms6_hatcher_ship
space_costume = li_hatcher_head, li_hatcher_body
individual_name = 216062

[MsnShip]
nickname = alaric_mnh
NPC = npc_alaric
label = ally

[MsnShip]
nickname = hatcher_mnh
NPC = npc_hatcher
label = ally

[NPC] 
nickname = npc_alaric_cloak
affiliation = fc_uk_grp
npc_ship_arch = ms6_alaric_ship_cloak
space_costume = rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
individual_name = 216000

[MsnShip]
nickname = alaric_cloak
NPC = npc_alaric_cloak
label = ally

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player

[Trigger]
nickname = DANGER_ZONE_OFF_SILENT
Cnd_True = no_params
Act_DeActTrig = DANGER_ZONE
Act_DeActTrig = CHECKER_SET_REP
Act_DeActTrig = DANGER_CHECKER
Act_DeActTrig = DANGER_CHECK_TIME
Act_DeActTrig = DANGER_REACTIVATE
Act_Destroy = checker, SILENT

[Trigger]
nickname = DANGER_ZONE_OFF
Cnd_True = no_params
Act_DeActTrig = DANGER_ZONE
Act_DeActTrig = CHECKER_SET_REP
Act_DeActTrig = DANGER_CHECKER
Act_DeActTrig = DANGER_CHECK_TIME
Act_DeActTrig = DANGER_REACTIVATE
Act_Destroy = checker, SILENT
Act_ActTrig = MSG_LEAVING_CLOAK_CHECKING_ZONE

[Trigger]
nickname = STEALTH_MISSION_OFF
Cnd_True = no_params
;--
Act_ActTrig = DANGER_ZONE_OFF
;--
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_recheck
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_recheck_finally
Act_DeActTrig = OUTPOSTS_CHECKING_ZONE_restart
;--
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_recheck_finally
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_ONE_restart
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_recheck_finally
Act_DeActTrig = OUTPOSTS_WEST_DANGER_ZONE_TWO_restart
;-
Act_Destroy = check_A_01, SILENT
Act_Destroy = check_A_02, SILENT
Act_Destroy = check_A_03, SILENT
;-
Act_Destroy = check_B_01, SILENT
Act_Destroy = check_B_02, SILENT
Act_Destroy = check_B_03, SILENT
;-
Act_Destroy = check_C_01, SILENT
Act_Destroy = check_C_02, SILENT
Act_Destroy = check_C_03, SILENT
;-
Act_Destroy = check_D_01, SILENT
Act_Destroy = check_D_02, SILENT
Act_Destroy = check_D_03, SILENT
;-
Act_Destroy = check_E_01, SILENT
Act_Destroy = check_E_02, SILENT
Act_Destroy = check_E_03, SILENT
;-
Act_DeActTrig = init_patrol_A
Act_DeActTrig = patrol_A_reset
Act_DeActTrig = init_patrol_B
Act_DeActTrig = patrol_B_reset
Act_DeActTrig = init_patrol_C
Act_DeActTrig = patrol_C_reset
Act_DeActTrig = init_patrol_D
Act_DeActTrig = patrol_D_reset
Act_DeActTrig = init_patrol_E
Act_DeActTrig = patrol_E_reset
;-
Act_Destroy = patrol_cruiser_1, SILENT
Act_Destroy = patrol_cruiser_2, SILENT
Act_Destroy = patrol_cruiser_3, SILENT
Act_Destroy = patrol_cruiser_4, SILENT
;-
Act_DeActTrig = patrol_A_DANGER_ZONE
Act_DeActTrig = patrol_A_DANGER_ZONE_founded
Act_DeActTrig = patrol_A_DANGER_ZONE_reset
Act_DeActTrig = patrol_B_DANGER_ZONE
Act_DeActTrig = patrol_B_DANGER_ZONE_founded
Act_DeActTrig = patrol_B_DANGER_ZONE_reset
Act_DeActTrig = patrol_C_DANGER_ZONE
Act_DeActTrig = patrol_C_DANGER_ZONE_founded
Act_DeActTrig = patrol_C_DANGER_ZONE_reset
Act_DeActTrig = patrol_D_DANGER_ZONE
Act_DeActTrig = patrol_D_DANGER_ZONE_founded
Act_DeActTrig = patrol_D_DANGER_ZONE_reset
Act_DeActTrig = patrol_E_DANGER_ZONE
Act_DeActTrig = patrol_E_DANGER_ZONE_founded
Act_DeActTrig = patrol_E_DANGER_ZONE_reset

[Trigger]
nickname = inside_sphere
Cnd_DistVec = inside, Player, 0, 0, 30000, 2300
Act_SetNNObj = NN_07_meet_alaric_after_first_tunnel


[Trigger]
nickname = stealth_exit_first_tunnel
Cnd_DistVec = inside, Player, -14000, 0, 21500, 2500
Act_ActTrig = STEALTH_MISSION_OFF
;Player: Alaric, are you here?
Act_EtherComm = echo_player, 096513, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: Yes, you need to go to second tunnel
Act_EtherComm = echo, 096514, Player, DX_M01_1111_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = stealth_exit_first_tunnel_COMPLETE

[Trigger]
nickname = stealth_exit_first_tunnel_COMPLETE
Cnd_CommComplete = DX_M01_1111_SHORT
Act_Save = FIRST_TUNNEL_SAVE, 040023
Act_ActTrig = FIRST_TUNNEL_stop_player

[Trigger]
nickname = FIRST_TUNNEL_stop_player
Cnd_Timer = 3
Act_PobjIdle = no_params
Act_ActTrig = FIRST_TUNNEL_init

[Trigger]
nickname = FIRST_TUNNEL_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_SetNNObj = NN_07_meet_alaric_after_first_tunnel
Act_ActTrig = FIRST_TUNNEL_spawn_units

[Trigger]
nickname = FIRST_TUNNEL_spawn_units
Cnd_Timer = 0.1
Act_RelocateShip = Player, -13000, 0, 21500, 0.7, 0, 0.3, 0
Act_SpawnShip = nag_voice
Act_ActTrig = FIRST_TUNNEL_init

[Trigger]
nickname = FIRST_TUNNEL_init
Cnd_True = no_params
Act_SetNNObj = NN_08_goto_second_tunnel
Act_PlayMusic = no_params
Act_ActTrig = init_GOTO_TUNNEL2

[Trigger]
nickname = init_GOTO_TUNNEL2
Cnd_Timer = 2
;Alaric: Be careful
Act_EtherComm = echo, 096515, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Player: Ok
Act_EtherComm = echo_player, 096516, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03

Act_ActTrig = GOTO_TUNNEL2_around_lab
Act_ActTrig = GOTO_TUNNEL2_around_waypoint
Act_NagDistTowards = POS, goto_tunnel2_door, nag_voice, -22000, 0, -4000, 090001, 2000

[Trigger]
nickname = GOTO_TUNNEL2_around_lab
Cnd_DistVec = inside, Player, -22550, -400, 9940, 2000
;Alaric: I go to lab
Act_EtherComm = echo, 096517, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = DANGER_ZONE
Act_ActTrig = MSG_ENTERING_CLOAK_CHECKING_ZONE

[Trigger]
nickname = GOTO_TUNNEL2_around_waypoint
Cnd_DistVec = inside, Player, -22000, 0, -4000, 2000
;Player: Door is closed
Act_EtherComm = echo_player, 096518, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: Look at door two
Act_EtherComm = echo, 096519, Player, DX_M01_1111_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_NagOff = goto_tunnel2_door
Act_ActTrig = GOTO_TUNNEL2_goto_door2

[Trigger]
nickname = GOTO_TUNNEL2_goto_door2
Cnd_CommComplete = DX_M01_1111_SHORT
;Player: Yes, door two if opened
Act_EtherComm = echo_player, 096520, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: Good. But be careful
Act_EtherComm = echo, 096521, Player, DX_M01_1111_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_SetNNObj = NN_09_enter_the_second_tunnel
Act_ActTrig = TUNNEL2_inside
Act_NagDistTowards = POS, enter_tunnel2, nag_voice, -25500, 800, -7000, 090001, 2000



[Trigger]
nickname = TUNNEL2_inside
Cnd_DistVec = inside, Player, -25500, 800, -7000, 1000
Act_NagOff = enter_tunnel2
Act_SetNNObj = NN_10_goto_third_tunnel
Act_ActTrig = TUNNEL2_so_dark
Act_ActTrig = TUNNEL2_BACK_ROAD_LOCK
Act_DeActTrig = FIRST_TUNNEL_BACK_ROAD_LOCK
Act_ActTrig = DANGER_ZONE_OFF
Act_ActTrig = NOMAD_AREA_enter

[Trigger]
nickname = TUNNEL2_so_dark
Cnd_DistVec = inside, Player, -25500, 800, -15000, 2000
;Player: So dark
Act_EtherComm = echo_player, 096522, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03



[Trigger]
nickname = TUNNEL2_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -25500, 800, -4000, 1250
Act_ChangeState = FAIL, 096103


[Trigger]
nickname = NOMAD_AREA_enter
Cnd_DistVec = inside, Player, -12500, 0, -26000, 3000
;Player: what a hell
Act_EtherComm = echo_player, 096523, Player, DX_M01_1111_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_ActTrig = what_a_hell_dialog_complete

[Trigger]
nickname = what_a_hell_dialog_complete
Cnd_CommComplete = DX_M01_1111_SHORT
Act_PobjIdle = no_params
Act_ActTrig = NOMAD_AREA_init
Act_DeActTrig = TUNNEL2_BACK_ROAD_LOCK

[NPC] 
nickname = npc_no_fighter
affiliation = no_grp
npc_ship_arch = ms6_no_fighter

[MsnShip]
nickname = nomad_A_01
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_A_02
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_A_03
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_B_01
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_B_02
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_B_03
NPC = npc_no_fighter
label = nomad


[MsnShip]
nickname = nomad_C_01
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_C_02
NPC = npc_no_fighter
label = nomad

[MsnShip]
nickname = nomad_C_03
NPC = npc_no_fighter
label = nomad

[ObjList]
nickname = ol_nomad_A_01
avoidance = false
GotoVec = goto_no_cruise, -5800, 300, -25850, 150, true
GotoVec = goto_no_cruise, -5550, 300, -25850, 150, true
GotoVec = goto_no_cruise, -5500, 300, -26050, 150, true
GotoVec = goto_no_cruise, -5650, 300, -26200, 150, true
GotoVec = goto_no_cruise, -5850, 300, -26150, 150, true
GotoVec = goto_no_cruise, -5900, 300, -26000, 150, true

[ObjList]
nickname = ol_nomad_A_02
avoidance = false
GotoVec = goto_no_cruise, -5800, 400, -25800, 150, true
GotoVec = goto_no_cruise, -6000, 400, -26000, 150, true
GotoVec = goto_no_cruise, -5750, 400, -26150, 150, true
GotoVec = goto_no_cruise, -5600, 400, -26000, 150, true

[ObjList]
nickname = ol_nomad_A_03
avoidance = false
GotoVec = goto_no_cruise, -5800, 150, -26200, 150, true
GotoVec = goto_no_cruise, -5500, 150, -26100, 150, true
GotoVec = goto_no_cruise, -5600, 150, -25800, 150, true
GotoVec = goto_no_cruise, -5850, 150, -25800, 150, true
GotoVec = goto_no_cruise, -6000, 150, -26000, 150, true

[Trigger]
nickname = ol_nomad_A_01_repeat
Cnd_DistVec = inside, nomad_A_01, -5650, 300, -26200, 200
Act_ActTrig = ol_nomad_A_01_finalize

[Trigger]
nickname = ol_nomad_A_01_finalize
Cnd_DistVec = inside, nomad_A_01, -5900, 300, -26000, 200
Act_GiveObjList = nomad_A_01, ol_nomad_A_01
Act_ActTrig = ol_nomad_A_01_repeat

[Trigger]
nickname = ol_nomad_A_02_repeat
Cnd_DistVec = inside, nomad_A_02, -6000, 400, -26000, 200
Act_ActTrig = ol_nomad_A_02_finalize

[Trigger]
nickname = ol_nomad_A_02_finalize
Cnd_DistVec = inside, nomad_A_02, -5600, 400, -26000, 200
Act_GiveObjList = nomad_A_02, ol_nomad_A_02
Act_ActTrig = ol_nomad_A_02_repeat

[Trigger]
nickname = ol_nomad_A_03_repeat
Cnd_DistVec = inside, nomad_A_03, -5600, 150, -25800, 200
Act_ActTrig = ol_nomad_A_03_finalize

[Trigger]
nickname = ol_nomad_A_03_finalize
Cnd_DistVec = inside, nomad_A_03, -6000, 150, -26000, 200
Act_GiveObjList = nomad_A_03, ol_nomad_A_03
Act_ActTrig = ol_nomad_A_03_repeat

[Trigger]
nickname = NOMAD_AREA_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -15000, -0, -21000, 2900
Act_ChangeState = FAIL, 096104

[Trigger]
nickname = NOMAD_AREA_init
Cnd_Timer = 0.1
Act_ActTrig = NOMAD_AREA_spawn_nomads
Act_ActTrig = NOMAD_AREA_camera1

[Trigger]
nickname = NOMAD_AREA_spawn_nomads
Cnd_True = no_params
Act_SpawnShip = nomad_A_01, ol_nomad_A_01, -5900, 300, -26000, 0, 0, -1, 0
Act_ActTrig = ol_nomad_A_01_repeat
Act_SpawnShip = nomad_A_02, ol_nomad_A_02, -5600, 400, -26000, 1, 0, 0, 0
Act_ActTrig = ol_nomad_A_02_repeat
Act_SpawnShip = nomad_A_03, ol_nomad_A_03, -6300, 150, -26000, 1, 0, 0, 0
Act_ActTrig = ol_nomad_A_03_repeat
Act_SpawnSolar = sphere_kernel

[MsnSolar]
nickname = sphere_kernel
faction = no_grp
system = sphere
position = -5800, 300, -26000
orientation = 0, 0, 1, 0
archetype = nomad_kernel
loadout = sphere_kernel_light
label = generator
radius = 0
visit = UNKNOWABLE
ids_name = 217092


[Trigger]
nickname = PREPARE_CAMERA
Cnd_Timer = 0.5
Act_CallThorn = null, Player

[Trigger]
nickname = NOMAD_AREA_camera1
Cnd_True = no_params
;'Act_ActTrig = NOMAD_FIGHT_init ;;test -- maybe need in production
Act_PlayMusic = none, none, none, music_danger
Act_CallThorn = scripts\mod\m06_nomad_area_camera1.thn, Player
Act_ActTrig = NOMAD_AREA_camera1_complete

[Trigger]
nickname = NOMAD_AREA_camera1_complete
Cnd_Timer = 7
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = NOMAD_AREA_camera1_dialog

[Trigger]
nickname = NOMAD_AREA_camera1_dialog
Cnd_Timer = 1
;Player: Alaric, nomads is here
Act_EtherComm = echo_player, 096524, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_ActTrig = NOMAD_AREA_camera2

[Trigger]
nickname = NOMAD_AREA_camera2
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m06_nomad_area_camera2.thn, Player
Act_ActTrig = NOMAD_AREA_camera2_complete

[Trigger]
nickname = NOMAD_AREA_camera2_complete
Cnd_Timer = 7
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = NOMAD_AREA_camera2_dialog

[Trigger]
nickname = NOMAD_AREA_camera2_dialog
Cnd_Timer = 1
;Player: And door is closed
Act_EtherComm = echo_player, 096525, Player, DX_M01_1111_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_ActTrig = NOMAD_AREA_camera3

[Trigger]
nickname = NOMAD_AREA_camera3
Cnd_CommComplete = DX_M01_1111_SHORT
Act_CallThorn = scripts\mod\m06_nomad_area_camera3.thn, Player
Act_ActTrig = NOMAD_AREA_camera3_complete

[Trigger]
nickname = NOMAD_AREA_camera3_complete
Cnd_Timer = 1
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = NOMAD_AREA_camera3_dialog

[Trigger]
nickname = NOMAD_AREA_camera3_dialog
Cnd_Timer = 1
;Alaric: Don't panic, this is nomad kernel
Act_EtherComm = echo, 096526, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Alaric: You need to destroy that. And did it faster
Act_EtherComm = echo, 096527, Player, DX_M01_1111_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = NOMAD_AREA_dialogs_complete

[Trigger]
nickname = NOMAD_AREA_dialogs_complete
Cnd_CommComplete = DX_M01_1111_ECHO
Act_Save = NOMAD_AREA_save, 040024
Act_ActTrig = NOMAD_FIGHT_init

[Trigger]
nickname = NOMAD_AREA_save
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = NOMAD_AREA_spawn_units

[Trigger]
nickname = NOMAD_AREA_spawn_units
Cnd_Timer = 0.1
Act_SpawnShip = nag_voice
Act_ActTrig = NOMAD_AREA_spawn_nomads
Act_RelocateShip = Player,  -12500, 0, -26000, 0.5, 0, -0.5, 0 ;;production
Act_ActTrig = NOMAD_FIGHT_init

[Trigger]
nickname = NOMAD_FIGHT_init
Cnd_Timer = 1
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_SetNNObj = NN_11_destroy_nomad_core
Act_ActTrig = NOMAD_AREA_BACK_ROAD_LOCK
Act_ActTrig = NOMAD_FIGHT_is_near
Act_ActTrig = NOMAD_FIGHT_begin_dialog

[Trigger]
nickname = NOMAD_FIGHT_begin_dialog
Cnd_Timer = 1
;Player: I think nomad is can't be generated
Act_EtherComm = echo_player, 096528, Player, DX_M01_0000_ECHO, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: But  this is not true
Act_EtherComm = echo, 096529, Player, DX_M01_1111_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Act_PlayMusic = none, none, none, music_race_start

[Trigger]
nickname = NOMAD_FIGHT_is_near
Cnd_DistShip = inside, Player, sphere_kernel, 2500
Act_GiveObjList = nomad_A_01, force_stop
Act_GiveObjList = nomad_A_02, force_stop
Act_GiveObjList = nomad_A_03, force_stop
Act_DeActTrig = ol_nomad_A_01_repeat
Act_DeActTrig = ol_nomad_A_01_finalize
Act_DeActTrig = ol_nomad_A_02_repeat
Act_DeActTrig = ol_nomad_A_02_finalize
Act_DeActTrig = ol_nomad_A_03_repeat
Act_DeActTrig = ol_nomad_A_03_finalize
Act_PlayMusic = none, none, none, music_race_loop
Act_ActTrig = NOMAD_FIGHT_spawn_B_nomads
Act_ActTrig = NOMAD_FIGHT_kernel_destroyed

[Trigger]
nickname = NOMAD_FIGHT_spawn_B_nomads
Cnd_Timer = 60
Act_SpawnShip = nomad_B_01, no_ol, -5800, 300, -26050, 1, 0, 0, 0
Act_SpawnShip = nomad_B_02, no_ol, -5850, 300, -26000, 0.5, 0, 0.5, 0
Act_SpawnShip = nomad_B_03, no_ol, -5800, 300, -25950, 0, 0, 1, 0
Act_ActTrig = NOMAD_FIGHT_spawn_C_nomads
;Player: Nomads has reinforcement
Act_EtherComm = echo_player, 096530, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: Because kernel is not destroyed
Act_EtherComm = echo, 096531, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

[Trigger]
nickname = NOMAD_FIGHT_spawn_C_nomads
Cnd_Timer = 60
Act_SpawnShip = nomad_C_01, no_ol, -5800, 300, -26100, 1, 0, 0, 0
Act_SpawnShip = nomad_C_02, no_ol, -5900, 300, -26000, 0.5, 0, 0.5, 0
Act_SpawnShip = nomad_C_03, no_ol, -5800, 300, -25900, 0, 0, 1, 0
;Alaric: What it is not destroyed?
Act_EtherComm = echo, 096532, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ACtTrig = NOMAD_FIGHT_its_too_late

[Trigger]
nickname = NOMAD_FIGHT_its_too_late
Cnd_Timer = 60
Act_ChangeState = FAIL, 096105
;Act_Destroy = Player

[Trigger]
nickname = NOMAD_FIGHT_kernel_destroyed
Cnd_Destroyed = sphere_kernel, -1
Act_ActTrig = NOMAD_FIGHT_fighters_destroyed
Act_ActTrig = NOMAD_FIGHT_check_fighters_is_not_destroyed
Act_ActTrig = NOMAD_FIGHT_check_fighters_already_destroyed
Act_DeActTrig = NOMAD_FIGHT_spawn_B_nomads
Act_DeActTrig = NOMAD_FIGHT_spawn_C_nomads
Act_DeActTrig = NOMAD_FIGHT_its_too_late

[Trigger]
nickname = NOMAD_FIGHT_fighters_destroyed
Cnd_Destroyed = nomad, -1, ALL_IGNORE_LANDING

[Trigger]
nickname = NOMAD_FIGHT_check_fighters_is_not_destroyed
Cnd_WatchTrigger = NOMAD_FIGHT_fighters_destroyed, ON
Act_SetNNObj = NN_12_destroy_nomad_fighters
;Alaric: Whell done. Now you just to kill nomads
Act_EtherComm = echo, 096533, Player, DX_M01_0000_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = NOMAD_FIGHT_fighters_real_destroyed
Act_DeActTrig = NOMAD_FIGHT_check_fighters_already_destroyed

[Trigger]
nickname = NOMAD_FIGHT_check_fighters_already_destroyed
Cnd_Timer = 2
Act_ActTrig = NOMAD_AREA_ESCAPE_init
Act_DeActTrig = NOMAD_FIGHT_fighters_destroyed
Act_DeActTrig = NOMAD_FIGHT_check_fighters_is_not_destroyed

[Trigger]
nickname = NOMAD_FIGHT_fighters_real_destroyed
Cnd_Destroyed = nomad, -1
Act_ActTrig = NOMAD_AREA_ESCAPE_init

[Trigger]
nickname = NOMAD_AREA_ESCAPE_init
Cnd_True = no_params
;Player: Door is opened!
Act_EtherComm = echo_player, 096534, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: Yes. Remember way?
Act_EtherComm = echo, 096535, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Player: Yep, i coming
Act_EtherComm = echo_player, 096536, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_Destroy = sphere_ast_locked_door07, SILENT
Act_Destroy = sphere_ast_locked_door08, SILENT
Act_SetNNObj = NN_10_goto_third_tunnel
Act_PlayMusic = no_params
Act_ActTrig = OUTSIDE_NOMAD_AREA

[Trigger]
nickname = OUTSIDE_NOMAD_AREA
Cnd_DistVec = inside, Player, -5800, -800, -18000, 1500
Act_SetNNObj = NN_13_goto_sphere_core
Act_DeActTrig = NOMAD_AREA_BACK_ROAD_LOCK
Act_ActTrig = THE_CORE_entering

[Trigger]
nickname = NOMAD_AREA_RETURN_ROAD_LOCK
Cnd_DistVec = inside, Player, -5800, -800, -21600, 1500
Act_ChangeState = FAIL, 096106

[Trigger]
nickname = THE_CORE_entering
Cnd_DistVec = inside, Player, 8200, 0, -9000, 3000
Act_Save = THE_CORE_SAVE, 040025
Act_ActTrig = THE_CORE_init

[Trigger]
nickname = THE_CORE_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = THE_CORE_SAVE_spawn_units

[Trigger]
nickname = THE_CORE_SAVE_spawn_units
Cnd_Timer = 0.1
Act_RelocateShip = Player, 8200, 0, -9000, 0.25, 0, 0.75, 0 ;;production
Act_SpawnShip = nag_voice
Act_ActTrig = THE_CORE_init

;--

[NPC] 
nickname = npc_reitherman
affiliation = rh_grp
npc_ship_arch = shiparch_reitherman
individual_name = 096204

[MsnShip]
nickname = reitherman
NPC = npc_reitherman
label = scient

;--

[ObjList]
nickname = ol_reitherman
avoidance = false
GotoVec = goto_no_cruise, -140, 20, -1900, 50, true
GotoVec = goto_no_cruise, -200, 20, -1840, 50, true
GotoVec = goto_no_cruise, -300, 20, -2000, 50, true
GotoVec = goto_no_cruise, -250, 150, -2200, 50, true
GotoVec = goto_no_cruise, 150, 150, -2200, 50, true
GotoVec = goto_no_cruise, 150, 150, -2000, 50, true
GotoVec = goto_no_cruise, 150, -150, -1900, 50, true
GotoVec = goto_no_cruise, -0, -150, -1800, 50, true
GotoVec = goto_no_cruise, -100, -150, -2200, 50, true
GotoVec = goto_no_cruise, -250, 0, -2300, 50, true
GotoVec = goto_no_cruise, -140, 20, -2050, 50, true

[Trigger]
nickname = THE_CORE_init
Cnd_Timer = 2
Act_ActTrig = RUNAWAY_init
;NeuralNet: Recommended to activate Cloaking Device
Act_EtherComm = echo, 096539, Player, DX_M01_0000_SHORT, -1, null, robot_body_E
Act_ActTrig = THE_CORE_lifter_scene
Act_SetNNObj = NN_13_goto_reitherman

[Trigger]
nickname = THE_CORE_lifter_scene
Cnd_DistVec = inside, Player, 1000, 0, -4000, 6000
Act_SpawnShip = reitherman, no_ol, -140, 20, -2150, 0, 0, 1, 0
Act_MarkObj = reitherman, 1
Act_ActTrig = THE_CORE_unmount_scene

[Trigger]
nickname = THE_CORE_unmount_scene
Cnd_Timer = 1
Act_Invulnerable = reitherman, true
Act_GiveObjList = reitherman, ol_reitherman
Act_CallThorn = scripts\mod\m06_scient_mounting_camera.thn, Player
Act_ActTrig = ol_reitherman_repeat
Act_PobjIdle = no_params
Act_ActTrig = THE_CORE_thorn_complete

[Trigger]
nickname = ol_reitherman_repeat
Cnd_DistVec = inside, reitherman, 150, 150, -2200, 200
Act_ActTrig = ol_reitherman_finalize

[Trigger]
nickname = ol_reitherman_finalize
Cnd_DistVec = inside, reitherman, -140, 20, -2050, 100
Act_GiveObjList = reitherman, ol_reitherman
Act_ActTrig = ol_reitherman_repeat

[Trigger]
nickname = THE_CORE_thorn_complete
Cnd_Timer = 5
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = THE_CORE_DANGER_ZONES
Act_ActTrig = THE_CORE_dialog
Act_SetNNObj = NN_14_kill_rotherman
Act_SetVibe = reitherman, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, reitherman, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = THE_CORE_dialog
Cnd_Timer = 2
;Reitherman: Unmount ring
Act_EtherComm = echo, 096540, Player, DX_M01_1111_SHORT, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D
Act_ActTrig = THE_CORE_dialog1

[Trigger]
nickname = THE_CORE_dialog1
Cnd_Timer = 1
;Karl: Why is not burning?
Act_EtherComm = echo, 096541, Player, DX_M01_0000_ECHO, -1, ge_male4_head, sc_scientist3_body, prop_neuralnet_E
Act_ActTrig = THE_CORE_dialog2

[Trigger]
nickname = THE_CORE_dialog2
Cnd_CommComplete = DX_M01_0000_ECHO
;Reitherman: I don't know
Act_EtherComm = echo, 096542, Player, DX_M01_0000_ECHO, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D
Act_ActTrig = THE_CORE_dialog3

[Trigger]
nickname = THE_CORE_dialog3
Cnd_CommComplete = DX_M01_0000_ECHO
;Reitherman: Stay here. I will check your work
Act_EtherComm = echo, 096543, Player, DX_M01_0000_SHORT, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D

[Trigger]
nickname = deact_THE_CORE_first_dialogs
Cnd_True = no_params
Act_DeActTrig = THE_CORE_dialog1
Act_DeActTrig = THE_CORE_dialog2
Act_DeActTrig = THE_CORE_dialog3

[Trigger]
nickname = THE_CORE_DANGER_ZONES
Cnd_True = no_params
Act_ActTrig = CORE_UNCLOAK
Act_ActTrig = THE_CORE_too_close_to_LIFTER
Act_ACtTrig = THE_CORE_too_close_to_CSV
Act_ActTrig = MSG_ENTERING_CLOAK_CHECKING_ZONE



[Trigger]
nickname = CORE_UNCLOAK
Cnd_True = no_params
Act_SpawnShip = checker
Act_ActTrig = CHECKER_SET_REP
Act_ActTrig = CORE_UNCLOAK_CHECKER
Act_ActTrig = CORE_UNCLOAK_CHECK_TIME

[Trigger]
nickname = CORE_UNCLOAK_CHECKER
Cnd_ProjHit = Player, 1, checker
Act_ActTrig = THE_CORE_PLAYER_FOUNDED

[Trigger]
nickname = CORE_UNCLOAK_CHECK_TIME
Cnd_Timer = 3
Act_ActTrig = CORE_UNCLOAK_REMOVE_CHECKER
Act_ActTrig = CORE_UNCLOAK_REACTIVATE

[Trigger]
nickname = CORE_UNCLOAK_REACTIVATE
Cnd_Timer = 2
Act_ActTrig = CORE_UNCLOAK

[Trigger]
nickname = CORE_UNCLOAK_REMOVE_CHECKER
Cnd_True = no_params
Act_DeActTrig = CORE_UNCLOAK_CHECKER
Act_Destroy = checker, SILENT

[Trigger]
nickname = THE_CORE_too_close_to_LIFTER
Cnd_DistShip = inside, Player, sphere_lifter_01, 50
Act_ActTrig = THE_CORE_PLAYER_FOUNDED

[Trigger]
nickname = THE_CORE_too_close_to_CSV
Cnd_DistShip = inside, Player, reitherman, 25
Act_ActTrig = THE_CORE_PLAYER_FOUNDED

[Trigger]
nickname = THE_CORE_PLAYER_FOUNDED
Cnd_True = no_params
Act_ActTrig = deact_THE_CORE_first_dialogs
Act_DeActTrig = CORE_UNCLOAK
Act_DeActTrig = CORE_UNCLOAK_CHECKER
Act_DeActTrig = CORE_UNCLOAK_CHECK_TIME
Act_DeActTrig = CORE_UNCLOAK_REACTIVATE
Act_Destroy = checker, SILENT
Act_ActTrig = THE_CORE_reitherman_FLY_OUT
Act_ActTrig = THE_CORE_reitherman_DEAD
Act_ActTrig = THE_CORE_reitherman_warn_outpost
Act_ActTrig = THE_CORE_founded_dialog
Act_DeActTrig = THE_CORE_too_close_to_LIFTER
Act_DeActTrig = THE_CORE_too_close_to_CSV
Act_PlayMusic = none, none, none, music_omicron_danger

[ObjList]
nickname = ol_reitherman_escape
avoidance = false
GotoVec = goto_cruise, -1000, -200, -1000, 250, true
GotoVec = goto_cruise, -1200, 0, 1000, 250, true
GotoVec = goto_cruise, -800, -200, 3000, 250, true
GotoVec = goto_cruise, -1000, 200, 5000, 250, true
GotoVec = goto_cruise, -1000, 500, 7000, 250, true

[Trigger]
nickname = THE_CORE_reitherman_FLY_OUT
Cnd_True = no_params
Act_Invulnerable = reitherman, false
Act_GiveObjList = reitherman, ol_reitherman_escape

[Trigger]
nickname = THE_CORE_founded_dialog
Cnd_Timer = 1
;Reitherman: Alarm! Killer inside! Warn our security!
Act_EtherComm = echo, 096544, Player, DX_M01_1111_SHORT, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D
Act_ActTrig = deact_THE_CORE_first_dialogs
Act_ActTrig = THE_CORE_founded_dialog2

[Trigger]
nickname = THE_CORE_founded_dialog2
Cnd_CommComplete = DX_M01_1111_SHORT
;Karl: It's not possible... 
Act_EtherComm = echo, 096545, Player, DX_M01_1111_SHORT, -1, ge_male4_head, sc_scientist3_body, prop_neuralnet_E
Act_ActTrig = deact_THE_CORE_first_dialogs
Act_ActTrig = THE_CORE_founded_dialog3

[Trigger]
nickname = THE_CORE_founded_dialog3
Cnd_CommComplete = DX_M01_1111_SHORT
;Reitherman: I go to bottom wall
Act_EtherComm = echo, 096546, Player, DX_M01_1111_SHORT, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D
Act_ActTrig = deact_THE_CORE_first_dialogs

[Trigger]
nickname = deact_THE_CORE_all_dialogs
Cnd_True = no_params
Act_ActTrig = deact_THE_CORE_first_dialogs
Act_DeActTrig = THE_CORE_founded_dialog
Act_DeActTrig = THE_CORE_founded_dialog2
Act_DeActTrig = THE_CORE_founded_dialog3


[Trigger]
nickname = THE_CORE_reitherman_warn_outpost
Cnd_DistVec = inside, reitherman, -1000, 500, 7000, 1000
Act_DeActTrig = THE_CORE_reitherman_DEAD
Act_ActTrig = deact_THE_CORE_all_dialogs
;Reitherman: We are under attack
Act_EtherComm = echo, 096547, Player, DX_M01_0000_SHORT, -1, ge_male1_head, sc_scientist4_body, prop_neuralnet_D
;Officer: Ok. Reinforcement will arrive soon
Act_EtherComm = echo, 096548, Player, DX_M01_1111_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_ActTrig = THE_CORE_WARNING_FAIL

[Trigger]
nickname = THE_CORE_WARNING_FAIL
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ChangeState = FAIL, 096107








[Trigger]
nickname = THE_CORE_reitherman_DEAD
Cnd_Destroyed = reitherman
Act_ActTrig = deact_THE_CORE_all_dialogs
Act_ActTrig = RACE_start_dialog

[Trigger]
nickname = RACE_start_dialog
Cnd_Timer = 1
;Karl: Doctor is dead!
Act_EtherComm = echo, 096549, Player, DX_M01_0000_SHORT, -1, ge_male4_head, sc_scientist3_body, prop_neuralnet_E
Act_ActTrig = deact_THE_CORE_all_dialogs
Act_ActTrig = RACE_start_dialog2
Act_ActTrig = RACE_init

[Trigger]
nickname = RACE_start_dialog2
Cnd_CommComplete = DX_M01_0000_SHORT
;Finn: I go to Lab Area. Where is killer?
Act_EtherComm = echo, 096550, Player, DX_M01_0000_SHORT, -1, rh_sales_head, sc_scientist1_body, prop_hat_male_rh_grd_visor
Act_ActTrig = deact_THE_CORE_all_dialogs
Act_ActTrig = RACE_start_dialog3
Act_ActTrig = RACE_runaway_start
Act_Popupdialog = 216004, 096405, CLOSE

[Trigger]
nickname = RACE_start_dialog3
Cnd_CommComplete = DX_M01_0000_SHORT
;Karl: He is after you! Move faster!
Act_EtherComm = echo, 096551, Player, DX_M01_0000_SHORT, -1, ge_male4_head, sc_scientist3_body, prop_neuralnet_E
Act_ActTrig = deact_THE_CORE_all_dialogs

[NPC] 
nickname = npc_runner
affiliation = rh_grp
npc_ship_arch = ms6_runner_npc
individual_name = 096205

[MsnShip]
nickname = runner
NPC = npc_runner

[ObjList]
nickname = ol_runaway_start
avoidance = false
GotoVec = goto_no_cruise, 3500, 0, -5500, 250, true

[ObjList]
nickname = ol_runaway
avoidance = false
GotoVec = goto_cruise, 5500, 0, -6000, 250, true
GotoVec = goto_cruise, 10500, 0, -11000, 250, true
GotoVec = goto_cruise, 11000, 0, -18000, 250, true
GotoVec = goto_cruise, 6000, 0, -19000, 250, true
GotoVec = goto_cruise, -1000, 0, -14000, 250, true
GotoVec = goto_cruise, -5000, 0, -16000, 250, true
GotoVec = goto_cruise, -9500, 0, -16500, 250, true
GotoVec = goto_cruise, -11500, 0, -11500, 250, true
GotoVec = goto_cruise, -19000, 0, -9500, 250, true

[Trigger]
nickname = RACE_init
Cnd_True = no_params
Act_SpawnShip = runner, ol_runaway_start, 3100, 0, -5900, 0.25, 0, -0.75, 0
Act_MarkObj = runner, 1
Act_SetVibe = runner, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, runner, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = RACE_runaway_start
Cnd_True = no_params
Act_GiveObjList = runner, ol_runaway
Act_SetNNObj = NN_15_catch_and_kill_assistant
Act_ActTrig = RACE_runner_destroyed
Act_ActTrig = RACE_try_to_call
Act_ActTrig = RACE_runner_is_winner

[Trigger]
nickname = RACE_try_to_call
Cnd_DistVec = inside, runner, -1000, 0, -14000, 1000
;Finn: Base, we are under attack. Need help
Act_EtherComm = echo, 096552, Player, DX_M01_0000_SHORT, -1, rh_sales_head, sc_scientist1_body, prop_hat_male_rh_grd_visor

[Trigger]
nickname = RACE_runner_is_winner
Cnd_DistVec = inside, runner, -11500, 0, -11500, 1000
;Finn: Base, we need help. Doctor is dead. Lock all doors
Act_EtherComm = echo, 096553, Player, DX_M01_0000_SHORT, -1, rh_sales_head, sc_scientist1_body, prop_hat_male_rh_grd_visor
;Officer: Wow! How? Ok, roger that
Act_EtherComm = echo, 096554, Player, DX_M01_1111_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor

Act_ActTrig = RACE_runner_is_winner_fail
Act_DeActTrig = RACE_runner_destroyed

[Trigger]
nickname = RACE_runner_is_winner_fail
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ChangeState = FAIL, 096108



[Trigger]
nickname = RACE_runner_destroyed
Cnd_Destroyed = runner
Act_DeActTrig = RACE_try_to_call
Act_DeActTrig = RACE_runner_is_winner
Act_ActTrig = BEFORE_LAB
Act_PlayMusic = no_params

[Trigger]
nickname = BEFORE_LAB
Cnd_Timer = 1
Act_SetNNObj = NN_16_back_to_second_tunnel
Act_NagDistTowards = POS, back_to_tunnel, nag_voice, -20600, 0, -4500, 090001, 2000
Act_Destroy = sphere_ast_locked_door03, SILENT
Act_Destroy = sphere_ast_locked_door04, SILENT
Act_Destroy = sphere_ast_locked_door05, SILENT
Act_Destroy = sphere_ast_locked_door06, SILENT
Act_ActTrig = BEFORE_LAB_inside_tunnel

[Trigger]
nickname = BEFORE_LAB_inside_tunnel
Cnd_DistVec = inside, Player, -20600, 0, -4500, 1000
Act_SetNNObj = NN_17_goto_lab
Act_NagOff = back_to_tunnel
Act_NagDistTowards = OBJ, goto_lab, nag_voice, sphere_laboratory01, 090001, 3000, NAG_ALWAYS
Act_ActTrig = BEFORE_LAB_dialog
Act_ActTrig = BEFORE_LAB_danger_zone
Act_ActTrig = LAB_around
Act_ActTrig = Replace_Shieldgens

[Trigger]
nickname = BEFORE_LAB_danger_zone
Cnd_DistVec = outside, Player, -20600, 0, -4500, 2000
Act_ActTrig = DANGER_ZONE
Act_ActTrig = MSG_ENTERING_CLOAK_CHECKING_ZONE

[Trigger]
nickname = BEFORE_LAB_dialog
Cnd_Timer = 1
;Player: Killer mission complete
Act_EtherComm = echo_player, 096555, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Alaric: I'am waiting for you. Don't forget about cloaking device
Act_EtherComm = echo, 096556, Player, DX_M01_0000_SHORT, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric


[MsnSolar]
nickname = lab_shield01
faction = rh_grp
system = sphere
position = -25500, -382, 3850
orientation = 1, 0, 0, 0
archetype = space_shieldgen_destroyable
loadout = lab01_shielgen_turrets
label = lab_shield
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = lab_shield02
faction = rh_grp
system = sphere
position = -25500, -382, 4150
orientation = 1, 0, 0, 0
archetype = space_shieldgen_destroyable
loadout = lab01_shielgen_turrets
label = lab_shield
radius = 0
visit = UNKNOWABLE

[Trigger]
nickname = Replace_Shieldgens
Cnd_True = no_params
Act_Destroy = sphere_lab_shieldgen01, SILENT
Act_Destroy = sphere_lab_shieldgen02, SILENT
Act_ACtTrig = Spawn_Correct_Shieldgens

[Trigger]
nickname = Spawn_Correct_Shieldgens
Cnd_Timer = 0.1
Act_SpawnSolar = lab_shield01
Act_SpawnSolar = lab_shield02
Act_ActTrig = Hurt_Shieldgens

[Trigger]
nickname = Hurt_Shieldgens
Cnd_Timer = 0.1
Act_AdjHealth = lab_shield01, -0.5
Act_AdjHealth = lab_shield02, -0.5


[Trigger]
nickname = LAB_around
Cnd_DistShip = inside, Player, sphere_laboratory01, 2000
Act_PobjIdle = no_params
Act_Save = LAB_SAVE, 040026
Act_ActTrig = LAB_init
Act_ACtTrig = DANGER_ZONE_OFF

[Trigger]
nickname = LAB_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = LAB_SAVE_spawn_units
Act_ActTrig = Replace_Shieldgens

[Trigger]
nickname = LAB_SAVE_spawn_units
Cnd_Timer = 0.1
Act_RelocateShip = Player, -24500, -500, 3000, 0.25, 0, 0.75, 0
Act_SpawnShip = nag_voice
Act_ActTrig = LAB_init

[trigger]
nickname = LAB_init
Cnd_Timer = 1
Act_MarkObj = lab_shield01, 1
Act_MarkObj = lab_shield02, 1
Act_ActTrig = LAB_enemy_rep
;Alaric: Let's fight
Act_EtherComm = echo, 096557, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Base: We found enemy. Warning.
Act_EtherComm = echo, 096558, Player, DX_M01_1111_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_SetNNObj = NN_18_destroy_lab_shield
Act_NagDistLeaving = lab_battle, nag_voice, sphere_laboratory01, 090002, 3000, NAG_ALWAYS
Act_ActTrig = LAB_spawn_alaric
Act_ActTrig = LAB_spawn_defend
Act_ActTrig = LAB_gen1_destroyed
Act_ActTrig = LAB_gen2_destroyed
Act_SetRep = Player, rh_grp, -0.8

Act_Popupdialog = 216004, 096406, CLOSE

[Trigger]
nickname = LAB_enemy_rep
Cnd_True = no_params
Act_SetVibeLblToShip = lab_shield, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, lab_shield, REP_HOSTILE_MAXIMUM
Act_SetRep = Player, rh_grp, -0.65
Act_SetRep = rh_grp, Player, -0.65

[Trigger]
nickname = LAB_spawn_alaric
Cnd_True = no_params
Act_SpawnShip = alaric_cloak, follow_player, -24700, -400, 4000, 0.5, 0, 0.5, 0
Act_ActTrig = LAB_decloak_alaric

[Trigger]
nickname = LAB_decloak_alaric
Cnd_Timer = 2
Act_Cloak = alaric_cloak, false
Act_SetVibeLblToShip = lab_shield, alaric_cloak, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = alaric_cloak, lab_shield, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = LAB_gen1_destroyed
Cnd_Destroyed = lab_shield, 1
;Pilot: He want to steal artifacts
Act_EtherComm = echo, 096559, Player, DX_M01_0000_ECHO, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite
;Base: Run out! All!
Act_EtherComm = echo, 096560, Player, DX_M01_0000_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_ActTrig = LAB_spawn_reinforce

[Trigger]
nickname = LAB_gen2_destroyed
Cnd_Destroyed = lab_shield, -1
Act_SetNNObj = NN_19_dock_on_lab
Act_SetVibeOfferBaseHack = sphere_laboratory01
Act_Cloak = alaric_cloak, true
;Alaric: You can dock
Act_EtherComm = echo, 096561, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_PlayerCanDock = false, sphere_laboratory01
Act_ActTrig = LAB_inside


[MsnShip]
nickname = lab_defend_01
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 90, Player, 1000

[MsnShip]
nickname = lab_defend_02
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 0, Player, 1000

[MsnShip]
nickname = lab_reinforce_01
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 90, Player, 1000

[MsnShip]
nickname = lab_reinforce_02
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 0, Player, 1000

[MsnShip]
nickname = lab_reinforce_03
NPC = npc_rh_fighter
label = lab_ship
random_name = true
rel_pos = 180, Player, 1000

[MsnShip]
nickname = lab_patrol_01
NPC = npc_rh_elite
label = lab_ship
random_name = true

[MsnShip]
nickname = lab_patrol_02
NPC = npc_rh_elite
label = lab_ship
random_name = true

[MsnShip]
nickname = lab_killer_01
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 0, Player, 1000

[MsnShip]
nickname = lab_killer_02
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 60, Player, 1000

[MsnShip]
nickname = lab_killer_03
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 150, Player, 1000

[MsnShip]
nickname = lab_killer_04
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 230, Player, 1000

[MsnShip]
nickname = lab_killer_05
NPC = npc_rh_elite
label = lab_ship
random_name = true
rel_pos = 270, Player, 1000



[Trigger]
nickname = LAB_spawn_defend
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SpawnShip = lab_defend_01
Act_SpawnShip = lab_defend_02
Act_ActTrig = LAB_defend_setrep

[Trigger]
nickname = LAB_spawn_reinforce
Cnd_True = no_params
Act_SpawnShip = lab_reinforce_01
Act_SpawnShip = lab_reinforce_02
Act_SpawnShip = lab_reinforce_03
Act_ActTrig = LAB_defend_setrep

[Trigger]
nickname = LAB_defend_setrep
Cnd_Timer = 0.25
Act_SetVibeLblToShip = lab_ship, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, lab_ship, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = lab_ship, alaric_cloak, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = alaric_cloak, lab_ship, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = LAB_inside
Cnd_LocEnter = Deck, sphere_lab_base
Act_AddRTC = missions\m06\lab_rtc.ini
Act_ActTrig = LAB_inside_ROOM_SCENE
Act_ACtTrig = LAB_msn_response
Act_ActTrig = LAB_autosave_fix

[Trigger]
nickname = LAB_autosave_fix
Cnd_BaseEnter = sphere_lab_base
Act_Acttrig = LAB_inside_ROOM_SCENE
Act_ActTrig = LAB_restart_scenes
Act_ActTrig = LAB_launch
repeatable = true ; loop it for next autosaves

[Trigger]
nickname = LAB_msn_response
Cnd_MsnResponse = accept
Act_ActTrig = LAB_restart_scenes

[Trigger]
nickname = LAB_restart_scenes
Cnd_True = no_params
Act_AddRTC = missions\m06\lab_moveto_rtc.ini

[Trigger]
nickname = LAB_inside_ROOM_SCENE
Cnd_LocEnter = Trader, sphere_lab_base
Act_AddRTC = missions\m06\lab_room_rtc.ini
Act_ActTrig = LAB_inside_LAUNCH_SCENE
Act_DeActTrig = LAB_restart_scenes

[Trigger]
nickname = LAB_inside_LAUNCH_SCENE
Cnd_LocEnter = Deck, sphere_lab_base
Act_AddRTC = missions\m06\lab_launch_rtc.ini
Act_ActTrig = LAB_launch


[Trigger]
nickname = LAB_launch
Cnd_SpaceEnter = no_params
Act_Destroy = lab_defend_01, SILENT
Act_Destroy = lab_defend_02, SILENT
Act_Destroy = lab_reinforce_01, SILENT
Act_Destroy = lab_reinforce_02, SILENT
Act_Destroy = lab_reinforce_03, SILENT
Act_Destroy = alaric_cloak, SILENT
Act_Destroy = sphere_lab_shieldgen01, SILENT
Act_Destroy = sphere_lab_shieldgen02, SILENT
Act_Destroy = lab_shield01, SILENT
Act_Destroy = lab_shield02, SILENT
Act_ActTrig = LAB_outside
;Act_PlayMusic = none, none, none, music_dangerous_chase

[Trigger]
nickname = LAB_outside
Cnd_True = no_params
Act_MovePlayer = -26500, -500, 3800, 1
Act_PobjIdle = no_params
Act_ActTrig = LAB_explode_camera

[Trigger]
nickname = LAB_explode_camera
Cnd_Timer = 1
Act_RelocateShip = Player, -26500, -500, 3800, 0.5, 0, -0.5, 0
Act_CallThorn = scripts\mod\m06_lab_explode_camera.thn, Player
Act_LightFuse = sphere_laboratory01, fuse_rmbase_medium
Act_ActTrig = LAB_explode_revert

[Trigger]
nickname = LAB_explode_revert
Cnd_Timer = 10
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = LAB_ESCAPE_init
Act_ActTrig = LAB_patrols
Act_ActTrig = LABDANGER_ZONE
Act_ActTrig = LABDANGER_PATROL_01
Act_ActTrig = LABDANGER_PATROL_02

[Trigger]
nickname = LAB_patrols
Cnd_True = no_params
Act_SpawnShip = lab_patrol_01, ol_lab_patrol01, -25500, -300, 5000, 0.5, 0, 0.5, 0
Act_SpawnShip = lab_patrol_02, ol_lab_patrol02, -25500, -500, 3000, 0.5, 0, -0.5, 0
Act_ActTrig = lab_patrol_01_repeat
Act_ActTrig = lab_patrol_02_repeat

[Trigger]
nickname = lab_patrol_01_repeat
Cnd_DistVec = inside, lab_patrol_01, -25500, -300, 3000, 200
Act_ActTrig = lab_patrol_01_finalize

[Trigger]
nickname = lab_patrol_01_finalize
Cnd_DistVec = inside, lab_patrol_01, -25500, -300, 5000, 200
Act_GiveObjList = lab_patrol_01, ol_lab_patrol01
Act_ActTrig = lab_patrol_01_repeat

[Trigger]
nickname = lab_patrol_02_repeat
Cnd_DistVec = inside, lab_patrol_02, -25500, -500, 5000, 200
Act_ActTrig = lab_patrol_02_finalize

[Trigger]
nickname = lab_patrol_02_finalize
Cnd_DistVec = inside, lab_patrol_02, -25500, -500, 3000, 200
Act_GiveObjList = lab_patrol_02, ol_lab_patrol02
Act_ActTrig = lab_patrol_02_repeat


[ObjList]
nickname = ol_lab_patrol01
avoidance = false
GotoVec = goto_no_cruise, -26500, -300, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -300, 3000, 150, true
GotoVec = goto_no_cruise, -24500, -300, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -300, 5000, 150, true

[ObjList]
nickname = ol_lab_patrol02
avoidance = false
GotoVec = goto_no_cruise, -24500, -500, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -500, 5000, 150, true
GotoVec = goto_no_cruise, -26500, -500, 4000, 150, true
GotoVec = goto_no_cruise, -25500, -500, 3000, 150, true

[Trigger]
nickname = LABDANGER_ZONE
Cnd_True = no_params
Act_SpawnShip = checker
Act_ActTrig = CHECKER_SET_REP
Act_ActTrig = LABDANGER_CHECKER
Act_ActTrig = LABDANGER_CHECK_TIME

[Trigger]
nickname = LABDANGER_CHECKER
Cnd_ProjHit = Player, 1, checker
Act_ActTrig = LABDANGER_PLAYER_FOUNDED

[Trigger]
nickname = LABDANGER_CHECK_TIME
Cnd_Timer = 3
Act_ActTrig = REMOVE_LABCHECKER
Act_ActTrig = LABDANGER_REACTIVATE

[Trigger]
nickname = LABDANGER_REACTIVATE
Cnd_Timer = 2
Act_ActTrig = LABDANGER_ZONE

[Trigger]
nickname = REMOVE_LABCHECKER
Cnd_True = no_params
Act_DeActTrig = LABDANGER_CHECKER
Act_Destroy = checker, SILENT

[Trigger]
nickname = LABDANGER_PATROL_01
Cnd_DistShip = inside, Player, lab_patrol_01, 100
;Act_ActTrig = LABDANGER_PLAYER_FOUNDED

[Trigger]
nickname = LABDANGER_PATROL_02
Cnd_DistShip = inside, Player, lab_patrol_02, 100
;Act_ActTrig = LABDANGER_PLAYER_FOUNDED

[Trigger]
nickname = LABDANGER_PLAYER_FOUNDED
Cnd_True = no_params
Act_ActTrig = LABDANGER_OFF
Act_ActTrig = LABDANGER_ALARM
Act_GiveObjList = lab_patrol_01, force_stop
Act_GiveObjList = lab_patrol_02, force_stop

[Trigger]
nickname = LABDANGER_OFF
Cnd_True = no_params
Act_Destroy = checker, SILENT
Act_DeActTrig = LABDANGER_ZONE
Act_DeActTrig = LABDANGER_CHECKER
Act_DeActTrig = LABDANGER_CHECK_TIME
Act_DeActTrig = LABDANGER_REACTIVATE
Act_DeActTrig = REMOVE_LABCHECKER
Act_DeActTrig = LABDANGER_PATROL_01
Act_DeActTrig = LABDANGER_PATROL_02

[Trigger]
nickname = REMOVE_LAB_PATROL
Cnd_true = no_params
Act_Destroy = lab_patrol_01, SILENT
Act_Destroy = lab_patrol_02, SILENT
Act_DeActTrig = lab_patrol_01_repeat
Act_DeActTrig = lab_patrol_01_finalize
Act_DeActTrig = lab_patrol_02_repeat
Act_DeActTrig = lab_patrol_02_finalize

[Trigger]
nickname = LABDANGER_ALARM
Cnd_True = no_params
Act_SpawnShip = lab_killer_01
Act_SpawnShip = lab_killer_02
Act_SpawnShip = lab_killer_03
Act_SpawnShip = lab_killer_04
Act_SpawnShip = lab_killer_05
;Officer: Founded!
Act_EtherComm = echo, 096562, Player, DX_M01_0000_SHORT, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
;Base: Don't let him go away!
Act_EtherComm = echo, 096563, Player, DX_M01_0000_SHORT, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_ActTrig = LAB_defend_setrep


[Trigger]
nickname = LAB_ESCAPE_init
Cnd_Timer = 1
;Alaric: We can fly away
Act_EtherComm = echo, 096564, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
;Officer: Base is destroyed :-(
Act_EtherComm = echo, 096565, Player, DX_M01_0000_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite_visor
Act_SetNNObj = NN_20_back_to_first_tunnel
Act_ActTrig = ESCAPE_TUNNEL1_around
Act_ActTrig = ESCAPE_TUNNEL1_around_far

[Trigger]
nickname = ESCAPE_TUNNEL1_around_far
Cnd_DistVec = inside, Player, -21500, -500, 15000, 4000
Act_ActTrig = LABDANGER_OFF
Act_ActTrig = DANGER_ZONE_OFF_SILENT
Act_ActTrig = REMOVE_LAB_PATROL
Act_PlayMusic = no_params

[Trigger]
nickname = ESCAPE_TUNNEL1_around
Cnd_DistVec = inside, Player, -8000, 0, 21500, 2500
Act_ActTrig = ESCAPE_TUNNEL1_BACK_ROAD_LOCK
Act_SpawnSolar = dread_escape
Act_Destroy = dread_init, SILENT
Act_ActTrig = ESCAPE_TO_DREAD_init

[Trigger]
nickname = ESCAPE_TO_DREAD_init
Cnd_Timer = 1
Act_SetNNObj = NN_21_dock_on_dread
Act_NagDistTowards = OBJ, goto_dread_escape, nag_voice, dread_escape, 090001, 1000, NAG_ALWAYS
Act_ActTrig = ESCAPE_TO_DREAD_dialog
Act_ActTrig = ESCAPE_TO_DREAD_far_around_dread
Act_ActTrig = ESCAPE_TO_DREAD_near_dread

[Trigger]
nickname = ESCAPE_TUNNEL1_BACK_ROAD_LOCK
Cnd_DistVec = inside, Player, -14000, 0, 21500, 2500
Act_ChangeState = FAIL, 096109

[Trigger]
nickname = ESCAPE_TO_DREAD_dialog
Cnd_True = no_params
;Hatcher: Trent, Alaric, you are here?
Act_EtherComm = echo_female, 096566, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Player: Mission complete
Act_EtherComm = echo_player, 096567, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Hatcher: Good. We are waiting for you
Act_EtherComm = echo_female, 096568, Player, DX_M01_0000_ECHO, -1, li_hatcher_head, li_hatcher_body


[NPC] 
nickname = npc_li_elite
affiliation = li_grp
npc_ship_arch = ms6_li_elite_ship

[NPC] 
nickname = npc_li_fighter
affiliation = li_grp
npc_ship_arch = ms6_li_fighter_ship

[MsnShip]
nickname = escape_bg_fight_li_ship_01
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_02
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_03
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_04
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_li_ship_05
NPC = npc_li_elite
label = li_bg_fighter
label = liberty
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_01
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_02
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_03
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_04
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = escape_bg_fight_rh_ship_05
NPC = npc_rh_elite
label = rh_bg_fighter
label = rheinland
random_name = true

[Trigger]
nickname = ESCAPE_TO_DREAD_far_around_dread
Cnd_DistShip = inside, Player, dread_escape, 4000
Act_SpawnShip = escape_bg_fight_li_ship_01, no_ol, 0, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_02, no_ol, 300, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_03, no_ol, -300, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_04, no_ol, 600, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_li_ship_05, no_ol, -600, 700, 37000, 0, 0, 1, 0
Act_SpawnShip = escape_bg_fight_rh_ship_01, no_ol, 0, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_02, no_ol, 300, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_03, no_ol, -300, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_04, no_ol, 600, 700, 38500, 1, 0, 0, 0
Act_SpawnShip = escape_bg_fight_rh_ship_05, no_ol, -600, 700, 38500, 1, 0, 0, 0
Act_ActTrig = bg_fight_setrep

[Trigger]
nickname = bg_fight_setrep
Cnd_timer = 1
Act_SetVibeLbl = rh_bg_fighter, li_bg_fighter, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = li_bg_fighter, rh_bg_fighter, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = ESCAPE_TO_DREAD_near_dread
Cnd_DistShip = inside, Player, dread_escape, 2000
;Alaric: Keep moving and dock faster. Enemy fighters around us
Act_EtherComm = echo, 096569, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_LightFuse = Player, fuse_drop_cloaking_device
Act_PlayerCanDock = false , dread_escape
Act_ActTrig = ESCAPE_TO_DREAD_on_board


[Trigger]
nickname = ESCAPE_TO_DREAD_on_board
Cnd_BaseEnter = sphere_02_base
Act_AddRTC = missions\m06\dread_escape_deck.ini
Act_ActTrig = ON_BOARD_accept

[Trigger]
nickname = ON_BOARD_accept
Cnd_MsnResponse = accept
Act_ActTrig = DEFEND_launch
Act_SetNNObj = NN_00_launch_to_space

[Trigger]
nickname = DEFEND_launch
Cnd_PlayerLaunch = no_params
Act_Destroy = dread_escape, SILENT
Act_SpawnSolar = dread_defend
Act_ActTrig = DEFEND_launched

[Trigger]
nickname = DEFEND_launched
Cnd_LaunchComplete = Player
Act_Destroy = dread_escape, SILENT
Act_ActTrig = DEFEND_clear_bg_fighters
Act_ActTrig = DEFEND_init

[Trigger]
nickname = DEFEND_clear_bg_fighters
Cnd_True = no_params
Act_Destroy = escape_bg_fight_li_ship_01, SILENT
Act_Destroy = escape_bg_fight_li_ship_02, SILENT
Act_Destroy = escape_bg_fight_li_ship_03, SILENT
Act_Destroy = escape_bg_fight_li_ship_04, SILENT
Act_Destroy = escape_bg_fight_li_ship_05, SILENT
Act_Destroy = escape_bg_fight_rh_ship_01, SILENT
Act_Destroy = escape_bg_fight_rh_ship_02, SILENT
Act_Destroy = escape_bg_fight_rh_ship_03, SILENT
Act_Destroy = escape_bg_fight_rh_ship_04, SILENT
Act_Destroy = escape_bg_fight_rh_ship_05, SILENT


[MsnShip]
nickname = li_dread_defend_01
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_02
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_03
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_dread_defend_04
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_01
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_02
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_03
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_04
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = li_center_attack_05
NPC = npc_li_fighter
label = liberty
random_name = true

[MsnShip]
nickname = rh_dread_assault_01
NPC = npc_rh_elite
label = rheinland
random_name = true

[MsnShip]
nickname = rh_dread_assault_02
NPC = npc_rh_elite
label = rheinland
random_name = true

[MsnShip]
nickname = rh_center_attack_01
NPC = npc_rh_elite
label = rheinland
random_name = true

[MsnShip]
nickname = rh_center_attack_02
NPC = npc_rh_elite
label = rheinland
random_name = true

[MsnShip]
nickname = rh_center_attack_03
NPC = npc_rh_elite
label = rheinland
random_name = true

[MsnShip]
nickname = rh_center_attack_04
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = rh_center_attack_05
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_01
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_02
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_03
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = rh_gunboat_defend_04
NPC = npc_rh_fighter
label = rheinland
random_name = true

[NPC] 
nickname = npc_torpedo_gunboat
affiliation = rh_grp
npc_ship_arch = ms6_rh_gunship
individual_name = 237054

[MsnShip]
nickname = torpedo_gunboat_1
NPC = npc_torpedo_gunboat 
label = torpedo

[MsnShip]
nickname = torpedo_gunboat_2
NPC = npc_torpedo_gunboat
label = torpedo

[MsnShip]
nickname = torpedo_gunboat_3
NPC = npc_torpedo_gunboat
label = torpedo


[ObjList]
nickname = ol_DEFEND
Avoidance = true
StayInRange = -2000, 0, 50000, 3000

[Trigger]
nickname = DEFEND_init
Cnd_True = no_params
Act_SpawnShip = torpedo_gunboat_1, no_ol, -1000, 100, 52000, 0.95, 0, 0.05, 0
Act_SpawnShip = torpedo_gunboat_2, no_ol, -1500, 100, 51850, 0.99, 0, -0.1, 0
Act_SpawnShip = torpedo_gunboat_3, no_ol, -2100, 100, 51500, 0.95, 0, -0.05, 0
Act_ActTrig = DEFEND_torpedo_vs_dread_reputation
Act_ActTrig = DEFEND_spawn_fighters
Act_ActTrig = DEFEND_fighters_reputation
Act_PlayerEnemyClamp = 1, 2
Act_ActTrig = DEFEND_gunboat_hits
Act_ActTrig = DEFEND_begin_mission

[Trigger]
nickname = DEFEND_gunboat_hits
Cnd_True = no_params
Act_ActTrig = DEFEND_torpedo_1_outside
Act_ActTrig = DEFEND_torpedo_2_outside
Act_ActTrig = DEFEND_torpedo_3_outside

[Trigger]
nickname = DEFEND_torpedo_1_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_1, 50
Act_ActTrig = DEFEND_player_hits_torpedo1
Act_ActTrig = DEFEND_torpedo_1_inside

[Trigger]
nickname = DEFEND_torpedo_1_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_1, 50
Act_DeActTrig = DEFEND_player_hits_torpedo1
Act_ActTrig = DEFEND_torpedo_1_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo1
Cnd_ProjHit = Player, 1, torpedo_gunboat_1
Act_Destroy = Player

[Trigger]
nickname = DEFEND_torpedo_2_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_2, 50
Act_ActTrig = DEFEND_player_hits_torpedo2
Act_ActTrig = DEFEND_torpedo_2_inside

[Trigger]
nickname = DEFEND_torpedo_2_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_2, 50
Act_DeActTrig = DEFEND_player_hits_torpedo2
Act_ActTrig = DEFEND_torpedo_2_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo2
Cnd_ProjHit = Player, 1, torpedo_gunboat_2
Act_Destroy = Player

[Trigger]
nickname = DEFEND_torpedo_3_outside
Cnd_DistShip = outside, Player, torpedo_gunboat_3, 50
Act_ActTrig = DEFEND_player_hits_torpedo3
Act_ActTrig = DEFEND_torpedo_3_inside

[Trigger]
nickname = DEFEND_torpedo_3_inside
Cnd_DistShip = inside, Player, torpedo_gunboat_3, 50
Act_DeActTrig = DEFEND_player_hits_torpedo3
Act_ActTrig = DEFEND_torpedo_3_outside

[Trigger]
nickname = DEFEND_player_hits_torpedo3
Cnd_ProjHit = Player, 1, torpedo_gunboat_3
Act_Destroy = Player


[Trigger]
nickname = DEFEND_torpedo_vs_dread_reputation
Cnd_Timer = 1
Act_SetVibeLbl = dread, torpedo, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = torpedo, dread, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = DEFEND_fighters_reputation
Cnd_Timer = 1
Act_SetVibeLbl = liberty, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = rheinland, liberty, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = rheinland, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = rheinland, alaric_cloak, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = alaric_cloak, rheinland, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = DEFEND_spawn_fighters
Cnd_True = no_params

Act_SpawnShip = li_dread_defend_01, ol_DEFEND, -1000, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_02, ol_DEFEND, -1050, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_03, ol_DEFEND, -1100, 250, 47000, 0, 0, 1, 0
Act_SpawnShip = li_dread_defend_04, ol_DEFEND, -1150, 250, 47000, 0, 0, 1, 0

Act_SpawnShip = li_center_attack_01, ol_DEFEND, -1150, 0, 49500, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_02, ol_DEFEND, -1150, 0, 49600, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_03, ol_DEFEND, -1150, 0, 49700, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_04, ol_DEFEND, -1150, 0, 49800, 0.5, 0, 0.5, 0
Act_SpawnShip = li_center_attack_05, ol_DEFEND, -1150, 0, 49900, 0.5, 0, 0.5, 0

Act_SpawnShip = rh_dread_assault_01, ol_DEFEND, -500, 250, 47800, 0.75, 0, 0.25, 0
Act_SpawnShip = rh_dread_assault_02, ol_DEFEND, -400, 250, 47700, 0.75, 0, 0.25, 0

Act_SpawnShip = rh_center_attack_01, ol_DEFEND, -2000, 250, 50000, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_02, ol_DEFEND, -2000, 250, 50100, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_03, ol_DEFEND, -2000, 250, 50200, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_04, ol_DEFEND, -2000, 250, 50300, 0.5, 0, -0.5, 0
Act_SpawnShip = rh_center_attack_05, ol_DEFEND, -2000, 250, 50400, 0.5, 0, -0.5, 0

Act_SpawnShip = rh_gunboat_defend_01, ol_DEFEND, -1200, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_02, ol_DEFEND, -1400, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_03, ol_DEFEND, -1600, -200, 52400, 1, 0, 0, 0
Act_SpawnShip = rh_gunboat_defend_04, ol_DEFEND, -1800, -200, 52400, 1, 0, 0, 0

[Trigger]
nickname = DEFEND_begin_mission
Cnd_Timer = 1
Act_SetNNObj = NN_22_destroy_torpedoes_look_at
;Hatcher: Prepeare to fire
Act_EtherComm = echo_female, 096570, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
Act_ActTrig = DEFEND_first_torpedo
Act_ActTrig = DEFEND_dread_first_hit
Act_ActTrig = DEFEND_dread_taking_high_damage
Act_ActTrig = DEFEND_dread_destroyed
Act_ActTrig = DEFEND_all_torpedoes_complete

[Trigger]
nickname = DEFEND_first_torpedo
Cnd_Timer = 20
Act_SetNNObj = NN_22_destroy_torpedoes
;Liberty Fighter: I watch torpedoes
Act_EtherComm = echo, 096571, Player, DX_M01_0000_SHORT, -1, li_captain_head, li_male_elite_body, comm_li_hatcher

[Trigger]
nickname = DEFEND_dread_first_hit
Cnd_True = no_params
Act_ActTrig = DEFEND_dread_first_hit_torpedo1
Act_ActTrig = DEFEND_dread_first_hit_torpedo2
Act_ActTrig = DEFEND_dread_first_hit_torpedo3

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo1
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_1
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo2
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_2
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_dread_first_hit_torpedo3
Cnd_ProjHit = dread_defend, 1, torpedo_gunboat_3
Act_ActTrig = DEFEND_first_hit_warning

[Trigger]
nickname = DEFEND_first_hit_warning
Cnd_True = no_params
Act_DeActTrig = DEFEND_dread_first_hit_torpedo1
Act_DeActTrig = DEFEND_dread_first_hit_torpedo2
Act_DeActTrig = DEFEND_dread_first_hit_torpedo3
;Hatcher: We got torpedo hit
Act_EtherComm = echo_female, 096572, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = DEFEND_dread_taking_high_damage
Cnd_HealthDec = dread_defend, 0.35
;Hatcher: We still taking damage
Act_EtherComm = echo_female, 096573, Player, DX_M01_0000_ECHO, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = DEFEND_dread_destroyed
Cnd_Destroyed = dread_defend, 1, EXPLODE
;Alaric: We lost dread
Act_EtherComm = echo, 096574, Player, DX_M01_1111_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_ActTrig = DEFEND_dread_destroyed_fail
Act_DeActTrig = DEFEND_all_torpedoes_complete

[Trigger]
nickname = DEFEND_dread_destroyed_fail
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ChangeState = FAIL, 096110

[Trigger]
nickname = DEFEND_remove_torpedo_triggers
Cnd_True = no_params
Act_DeActTrig = DEFEND_torpedo_1_outside
Act_DeActTrig = DEFEND_torpedo_1_inside
Act_DeActTrig = DEFEND_player_hits_torpedo1
Act_DeActTrig = DEFEND_torpedo_2_outside
Act_DeActTrig = DEFEND_torpedo_2_inside
Act_DeActTrig = DEFEND_player_hits_torpedo2
Act_DeActTrig = DEFEND_torpedo_3_outside
Act_DeActTrig = DEFEND_torpedo_3_inside
Act_DeActTrig = DEFEND_player_hits_torpedo3
Act_DeActTrig = DEFEND_dread_destroyed

[Trigger]
nickname = DEFEND_all_torpedoes_complete
Cnd_Timer = 160
Act_DeActTrig = DEFEND_remove_torpedo_triggers
Act_ActTrig = DEFEND_complete_dialogs
Act_ActTrig = DEFEND_gunboats_nothing_to_do_here

[Trigger]
nickname = DEFEND_gunboats_nothing_to_do_here
Cnd_True = no_params
Act_GiveObjList = torpedo_gunboat_1, ol_nothing_to_do_here
Act_GiveObjList = torpedo_gunboat_2, ol_nothing_to_do_here
Act_GiveObjList = torpedo_gunboat_3, ol_nothing_to_do_here

[ObjList]
nickname = ol_nothing_to_do_here
GotoVec = goto_cruise, -13000, 0, 54000, 1000, true
SetPriority = ALWAYS_EXECUTE

[Trigger]
nickname = DEFEND_complete_dialogs
Cnd_True = no_params
;Hatcher: Well done. Can we jump?
Act_EtherComm = echo_female, 096575, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Mechanik: We can't
Act_EtherComm = echo, 096576, Player, DX_M01_0000_SHORT, -1, sc_scientist1_head, li_male_guard_body
;Hatcher: Well done. Can we jump?
Act_EtherComm = echo_female, 096577, Player, DX_M01_1111_ECHO, -1, li_hatcher_head, li_hatcher_body
Act_ActTrig = JUMPOUT_init


[MsnShip]
nickname = jumpout_li_elite_1
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_2
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_3
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_4
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_li_elite_5
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_1
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_2
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_3
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_4
NPC = npc_rh_fighter
label = rheinland
random_name = true

[MsnShip]
nickname = jumpout_rh_elite_5
NPC = npc_rh_fighter
label = rheinland
random_name = true

[ObjList]
nickname = ol_JUMPOUT
Avoidance = true
StayInRange = 0, 0, 70000, 3000

[Trigger]
nickname = JUMPOUT_init
Cnd_CommComplete = DX_M01_1111_ECHO
;Player: Ok. Can i did it alone?
Act_EtherComm = echo_player, 096578, Player, DX_M01_0000_ECHO, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
;Hatcher: I will give backup to you
Act_EtherComm = echo_female, 096579, Player, DX_M01_0000_ECHO, -1, li_hatcher_head, li_hatcher_body
;Alaric: Mission confirmed
Act_EtherComm = echo, 096580, Player, DX_M01_1111_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_SetNNObj = NN_23_goto_omicron_major_jumphole
Act_NagDistTowards = OBJ, goto_omicron_jump, nag_voice, sphere_to_omicron1B, 090001, 4000, NAG_ALWAYS
Act_ActTrig = JUMPOUT_init_battle

[Trigger]
nickname = JUMPOUT_init_battle
Cnd_DistShip = inside, Player, sphere_to_omicron1B, 6000
Act_SpawnShip = alaric_cloak, ol_JUMPOUT, 200, 100, 69000, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_1, ol_JUMPOUT, 0, 0, 69000, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_2, ol_JUMPOUT, 0, 0, 69050, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_3, ol_JUMPOUT, 0, 0, 69100, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_4, ol_JUMPOUT, 0, 0, 69150, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_li_elite_5, ol_JUMPOUT, 0, 0, 69200, 0.5, 0, 0.5, 0
Act_SpawnShip = jumpout_rh_elite_1, ol_JUMPOUT, -1500, 0, 69250, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_2, ol_JUMPOUT, -1500, 0, 69200, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_3, ol_JUMPOUT, -1500, 0, 69150, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_4, ol_JUMPOUT, -1500, 0, 69100, 0.5, 0, -0.5, 0
Act_SpawnShip = jumpout_rh_elite_5, ol_JUMPOUT, -1500, 0, 69050, 0.5, 0, -0.5, 0
Act_Cloak = alaric_cloak, false
Act_ActTrig = DEFEND_fighters_reputation
Act_ActTrig = JUMPOUT_destroy_outpost

[Trigger]
nickname = JUMPOUT_destroy_outpost
Cnd_Timer = 5
Act_LightFuse = sphere_outpost03, fuse_rmbase_xlarge
Act_ActTrig = JUMPOUT_ready_to_fly

[Trigger]
nickname = JUMPOUT_ready_to_fly
Cnd_Timer = 12
;Alaric: Outpost destroyed
Act_EtherComm = echo, 096581, Player, DX_M01_0000_ECHO, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
Act_SetNNObj = NN_24_jump_to_omicron_major
Act_NagOff = goto_omicron_jump
Act_NagDistLeaving = jumpin_omicron, nag_voice, sphere_to_omicron1B, 090003, 1, 10, NAG_ALWAYS
Act_ActTrig = welcome_to_omicron
Act_PlayerCanDock = false, sphere_to_omicron1B

[Trigger]
nickname = welcome_to_omicron
Cnd_SystemEnter = omicron1B
Act_ActTrig = sig17_jump_complete

[Trigger]
nickname = sig17_jump_complete
Cnd_JumpInComplete = omicron1B
Act_ActTrig = MS6_TOBE_CONTINUED



;----

[MsnShip]
nickname = trap_li_elite1
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = trap_li_elite2
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = trap_li_elite3
NPC = npc_li_elite
label = liberty
random_name = true

[MsnShip]
nickname = trap_li_elite4
NPC = npc_li_elite
label = liberty
random_name = true


[NPC] 
nickname = npc_osiris
affiliation = or_grp
npc_ship_arch = ms6_osiris

[MsnShip]
nickname = the_osiris
NPC = npc_osiris
label = order


[NPC] 
nickname = npc_anubis
affiliation = or_grp
npc_ship_arch = ms6_or_elite_ship

[MsnShip]
nickname = anubis1
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis2
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis3
NPC = npc_anubis
label = order

[MsnShip]
nickname = anubis4
NPC = npc_anubis
label = order


;---

[Trigger]
nickname = MS6_TOBE_CONTINUED
Cnd_Timer = 0.1
Act_CallThorn = scripts\null_camera.thn, Player
Act_LockManeuvers = true
Act_PobjIdle = no_params
Act_RelocateShip = Player, 41800, 5000, -27500, 0, 0, 1, 0
Act_SpawnShip = trap_li_elite1, no_ol, 41850, 5000, -27560, 0, 0, 1, 0
Act_SpawnShip = trap_li_elite2, no_ol, 41890, 5000, -27590, 0, 0, 1, 0
Act_SpawnShip = trap_li_elite3, no_ol, 41750, 5000, -27540, 0, 0, 1, 0
Act_SpawnShip = trap_li_elite4, no_ol, 41700, 5000, -27520, 0, 0, 1, 0
Act_ActTrig = init_OMICRON_MINOR

[Trigger]
nickname = init_OMICRON_MINOR
Cnd_Timer = 1
Act_RelocateShip = Player, 41800, 5000, -27500, 0, 0, 1, 0
Act_CallThorn = scripts\mod\m06_jumpin_camera1.thn, Player
Act_PobjIdle = no_params
Act_ActTrig = O_MINOR_dialog1_prepear

[Trigger]
nickname = O_MINOR_dialog1_prepear
Cnd_Timer = 1
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = O_MINOR_dialog1

[Trigger]
nickname = O_MINOR_dialog1
Cnd_Timer = 1
;Maison (ASF): I will load coordinates
Act_EtherComm = echo, 096582, Player, DX_M01_0000_ECHO, -1, li_captain_head, li_male_elite_body, comm_li_hatcher
Act_ActTrig = TRAP_prepear

[Trigger]
nickname = PREPARE_CAMERA
Cnd_Timer = 0.5
Act_CallThorn = null, Player

[Trigger]
nickname = O_MINOR_fuses
Cnd_Timer = 1
Act_PlaySoundEffect = cruise_disrupt
Act_LightFuse = Player, fuse_distrupted_engine
Act_LightFuse = trap_li_elite1, fuse_distrupted_engine
Act_LightFuse = trap_li_elite2, fuse_distrupted_engine
Act_LightFuse = trap_li_elite3, fuse_distrupted_engine
Act_LightFuse = trap_li_elite4, fuse_distrupted_engine
Act_LightFuse = Player, fuse_ms6_trapped
Act_LightFuse = trap_li_elite1, fuse_ms6_trapped
Act_LightFuse = trap_li_elite2, fuse_ms6_trapped
Act_LightFuse = trap_li_elite3, fuse_ms6_trapped
Act_LightFuse = trap_li_elite4, fuse_ms6_trapped
Act_PlayMusic = none, none, none, music_danger


[Trigger]
nickname = TRAP_prepear
Cnd_CommComplete = DX_M01_0000_ECHO
Act_CallThorn = scripts\mod\m06_jumpin_camera2.thn, Player
Act_ActTrig = TRAP_start_dialogs
Act_ActTrig = O_MINOR_fuses
Act_PobjIdle = no_params

[Trigger]
nickname = TRAP_start_dialogs
Cnd_Timer = 3
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = TRAP_trent_dialog

[Trigger]
nickname = TRAP_trent_dialog
Cnd_Timer = 1
;Player: What is happened with my ship?
Act_EtherComm = echo_player, 096583, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_male2_journeyman_body, prop_shades_03
Act_ActTrig = TRAP_dlg1_change_cam

[Trigger]
nickname = TRAP_dlg1_change_cam
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m06_order_camera2.thn, Player
Act_ActTrig = TRAP_loc_player
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = TRAP_asf_dialog

[Trigger]
nickname = TRAP_asf_dialog
Cnd_Timer = 1 
;Maison (ASF): It's a trap! Someone waited for us!
Act_EtherComm = echo, 096584, Player, DX_M01_0000_ECHO, -1, li_captain_head, li_male_elite_body, comm_li_hatcher
Act_ActTrig = TRAP_appearance_scene

[Trigger]
nickname = TRAP_appearance_scene
Cnd_CommComplete = DX_M01_0000_ECHO
Act_CallThorn = scripts\mod\m06_order_camera3.thn, Player

Act_SpawnShip = the_osiris, no_ol, 41850, 5000, -27100, 1, 0, 0, 0
Act_SpawnShip = anubis1, no_ol, 41900, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis2, no_ol, 41780, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis3, no_ol, 41980, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis4, no_ol, 41690, 4980, -27320, 1, 0, 0, 0
Act_ActTrig = TRAP_great_uncloak
Act_ActTrig = TRAP_ord_dialog_prepears
Act_ActTrig = TRAP_loc_player

[Trigger]
nickname = TRAP_great_uncloak
Cnd_Timer = 1
Act_Cloak = the_osiris, 0
Act_ActTrig = TRAP_fighters_uncloak

[Trigger]
nickname = TRAP_fighters_uncloak
Cnd_Timer = 8
Act_Cloak = anubis1, 0
Act_Cloak = anubis2, 0
Act_ActTrig = TRAP_fighters_uncloak_tear_2

[Trigger]
nickname = TRAP_fighters_uncloak_tear_2
Cnd_Timer = 2
Act_Cloak = anubis3, 0
Act_Cloak = anubis4, 0


;test cloak camera
[;Trigger]
nickname = init_OMICRON_MINOR
Cnd_Timer = 1


Act_SpawnShip = the_osiris, no_ol, 41850, 5000, -27100, 1, 0, 0, 0
Act_SpawnShip = anubis1, no_ol, 41900, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis2, no_ol, 41780, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis3, no_ol, 41980, 4980, -27320, 1, 0, 0, 0
Act_SpawnShip = anubis4, no_ol, 41690, 4980, -27320, 1, 0, 0, 0
Act_ActTrig = TRAP_great_uncloak


[Trigger]
nickname = TRAP_ord_dialog_prepears
Cnd_Timer = 14
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = TRAP_ord_dialog

[Trigger]
nickname = TRAP_ord_dialog
Cnd_Timer = 1
;Order pilot: We got them
Act_EtherComm = echo, 096585, Player, DX_M01_0000_SHORT, -1, pl_male7_head, pi_orillion_body, comm_br_guard
Act_ActTrig = TRAP_syd_dialog_camera

[Trigger]
nickname = TRAP_syd_dialog_camera
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m06_order_camera4.thn, Player
Act_ActTrig = TRAP_syd_dialog_prepears

[Trigger]
nickname = TRAP_syd_dialog_prepears
Cnd_Timer = 1
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = TRAP_syd_dialog

[Trigger]
nickname = TRAP_syd_dialog
Cnd_Timer = 1
;Syd: Well done. We need to pick them up
Act_EtherComm = echo, 096586, Player, DX_M01_0000_ECHO, -1, syd_head, sh_male1_body
Act_ActTrig = TRAP_complete

[Trigger]
nickname = TRAP_complete
Cnd_CommComplete = DX_M01_0000_ECHO
Act_LockManeuvers = false
Act_ActTrig = KLESHNYA_scene

;----

[Trigger]
nickname = KLESHNYA_scene
Cnd_Timer = 1
Act_ForceLand = sphere_cruiser_base
Act_ActTrig = OMICRON_SPACE_SCENE

[Trigger]
nickname = OMICRON_SPACE_SCENE
Cnd_LocEnter = Deck, sphere_cruiser_base
Act_AddRTC = missions\m06\omicron_rtc.ini
Act_ActTrig = CRUISER_CONVOY_SCENE
Act_ActTrig = SPHERE_CRUISER_autosave_fix

[Trigger]
nickname = SPHERE_CRUISER_autosave_fix
Cnd_BaseEnter = sphere_cruiser_base
Act_RemoveRTC = missions\m06\omicron_rtc.ini
Act_RemoveRTC = missions\m06\cruiser_deck_rtc.ini
Act_RemoveRTC = missions\m06\prison_in_rtc.ini
Act_RemoveRTC = missions\m06\prison_out_rtc.ini
Act_AddRTC = missions\m06\cruiser_deck_launch_rtc.ini
Act_AddRTC = missions\m06\prison_launch_rtc.ini
Act_AddRTC = missions\m06\omicron_launch_rtc.ini
Act_ActTrig = PRISON_COMPLETE
repeatable = true ; loop it for next autosaves

[Trigger]
nickname = CRUISER_CONVOY_SCENE
Cnd_LocEnter = Equipment, sphere_cruiser_base
Act_AddRTC = missions\m06\cruiser_deck_rtc.ini
Act_ActTrig = PRISON_SCENE

[Trigger]
nickname = PRISON_SCENE
Cnd_LocEnter = Bar, sphere_cruiser_base
Act_AddRTC = missions\m06\prison_in_rtc.ini
Act_ActTrig = PRISON_NEXT_SCENE

[Trigger]
nickname = PRISON_NEXT_SCENE
Cnd_RTCDone = missions\m06\prison_in_rtc.ini
Act_AddRTC = missions\m06\prison_out_rtc.ini
Act_ActTrig = PRISON_COMPLETE

;---
[MsnSolar]
nickname = sphere_cruiser
string_id = 096202
system = co_cad
position = -15000, 0, -35000
orientation = 0, 0, -1, 0
faction = or_grp
archetype = o_osiris
loadout = li_battleship_01
base = sphere_cruiser_base
radius = 0
;---

[Trigger]
nickname = PRISON_COMPLETE
Cnd_PlayerLaunch = no_params
Act_SpawnSolar = sphere_cruiser
Act_ActTrig = LAST_launch_complete
Act_SetRep = Player, sl_grp, 0
Act_SetRep = Player, co_grp, 0

[Trigger]
nickname = LAST_launch_complete
Cnd_LaunchComplete = Player
Act_SpawnShip = nag_voice
Act_ActTrig = LAST_real_launch_complete

[Trigger]
nickname = LAST_real_launch_complete
Cnd_Timer = 1
Act_PlayerCanDock = False
;Hoffer (ASF): We need to dock with some base
Act_EtherComm = echo, 096587, Player, DX_M01_0000_SHORT, -1, br_quigly_head, pi_pirate3_body
;Maison (ASF): I know about some freeport near us
Act_EtherComm = echo, 096588, Player, DX_M01_0000_ECHO, -1, li_captain_head, pi_pirate2_body
Act_ActTrig = GOTO_TOBAGO_init

[Trigger]
nickname = GOTO_TOBAGO_init
Cnd_CommComplete = DX_M01_0000_ECHO
Act_SetNNObj = NN_25_goto_tobago_base
Act_NagDistTowards = OBJ, goto_tobago, nag_voice, co_cad_03_ROOT, 090001, 3000, NAG_ALWAYS
Act_ActTrig = GOTO_TOBAGO_dialog
Act_ActTrig = GOTO_TOBAGO_around


[Trigger]
nickname = GOTO_TOBAGO_dialog
Cnd_Timer = 2
;Player: We not safe here
Act_EtherComm = echo_player, 096589, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_trent_body
;Maison (ASF): We need to be here
Act_EtherComm = echo, 096590, Player, DX_M01_0000_ECHO, -1, li_captain_head, pi_pirate2_body
;Player: But what we going to do?
Act_EtherComm = echo_player, 096591, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, pl_trent_body
;Maison (ASF): We need to be here
Act_EtherComm = echo, 096592, Player, DX_M01_0000_ECHO, -1, li_captain_head, pi_pirate2_body
;Hoffer (ASF): We are enemy for ASF
Act_EtherComm = echo, 096593, Player, DX_M01_0000_ECHO, -1, br_quigly_head, pi_pirate3_body



[Trigger]
nickname = GOTO_TOBAGO_around
Cnd_DistShip = inside, Player, co_cad_03_ROOT, 4000
Act_ActTrig = TOBAGO_init
Act_Save = MS6_SECOND_UNCOMPLETE_SAVE, 040027

[Trigger]
nickname = MS6_SECOND_UNCOMPLETE_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_PobjIdle = no_params
Act_ActTrig = TOBAGO_init
Act_SpawnShip = nag_voice

[Trigger]
nickname = TOBAGO_init
Cnd_True = no_params
Act_SetNNObj = NN_26_dock_on_tobago_base
Act_NagOff = goto_tobago
Act_NagDistLeaving = tobago_dock, nag_voice, co_cad_03_TOP_dock01, 040104, 100, NAG_ALWAYS
Act_PlayerCanDock = False, co_cad_03_TOP_dock01, co_cad_03_TOP_dock02
Act_ActTrig = TOBAGO_inside

[Trigger]
nickname = TOBAGO_inside
Cnd_LocEnter = Deck, co_cad_03_base
Act_ActTrig = final_Dialog_Close
Act_NagOff = tobago_dock
Act_Popupdialog = 096206, 096412, CLOSE

[Trigger]
nickname = final_Dialog_Close
Cnd_PopUpDialog = CLOSE
Act_PlayerCanDock = true
Act_ActTrig = MSN_REP_AFTER
Act_Popupdialog = 216004, 096413, CLOSE
Act_ChangeState = SUCCEED
;Act_SetNNObj = NN_27_completed

[;....




[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0.65
Act_SetRep = Player, lc_grp, 0.65
Act_SetRep = Player, rh_grp, -0.65
Act_SetRep = Player, rc_grp, -0.65
Act_SetRep = Player, rx_grp, -0.65

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, li_grp, -0.65
Act_SetRep = Player, lc_grp, -0.65
Act_SetRep = Player, bh_grp, -0.65
Act_SetRep = Player, tr_grp, -0.65
Act_SetRep = Player, sl_grp, -0.65
Act_SetRep = Player, co_grp, 0
Act_SetRep = Player, lx_grp, 0
Act_SetRep = Player, pi_grp, 0







[Mission]
npc_ship_file = missions\m03\npcships.ini

[NPC]
nickname = npc_nnvoice
affiliation = li_n_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = NNVoice

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

;--------------------------------

[ObjList]
nickname = force_stop
Idle = no_params

[ObjList]
nickname = unform
BreakFormation = no_params

[ObjList]
nickname = unform_n_stop
BreakFormation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player



;--------------------------



;;;gen msn ships

[NPC]
nickname = npc_wilham
npc_ship_arch = m03_wilham
affiliation = fc_uk_grp
individual_name = 33601
space_costume = rh_wilham_head, rh_wilham_body, comm_rh_wilham
voice = razor_1

[MsnShip]
nickname = wilham
NPC = npc_wilham
label = rheinland
label = friend

[NPC]
nickname = npc_hassler
npc_ship_arch = m03_hassler
affiliation = fc_uk_grp
individual_name = 33602
space_costume = rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[MsnShip]
nickname = hassler
NPC = npc_hassler
jumper = true
label = rheinland
label = friend
label = trent_wing

[NPC]
nickname = npc_punisher_1
npc_ship_arch = m03_punisher
affiliation = fc_uk_grp
individual_name = 33603

[NPC]
nickname = npc_punisher_2
npc_ship_arch = m03_punisher
affiliation = fc_uk_grp
individual_name = 33604

[NPC]
nickname = npc_punisher_3
npc_ship_arch = m03_punisher
affiliation = fc_uk_grp
individual_name = 33605

[NPC]
nickname = npc_punisher_4
npc_ship_arch = m03_punisher
affiliation = fc_uk_grp
individual_name = 33606

[MsnShip]
nickname = punisher1
NPC = npc_punisher_1
jumper = true
label = rheinland
label = friend
label = trent_wing

[MsnShip]
nickname = punisher2
NPC = npc_punisher_2
jumper = true
label = rheinland
label = friend
label = trent_wing

[MsnShip]
nickname = punisher3
NPC = npc_punisher_3
jumper = true
label = rheinland
label = friend
label = trent_wing

[MsnShip]
nickname = punisher4
NPC = npc_punisher_4
jumper = true
label = rheinland
label = friend
label = trent_wing

[NPC]
nickname = npc_assist_1
npc_ship_arch = m03_assist
affiliation = fc_uk_grp
individual_name = 33607

[NPC]
nickname = npc_assist_2
npc_ship_arch = m03_assist
affiliation = fc_uk_grp
individual_name = 33608

[NPC]
nickname = npc_assist_3
npc_ship_arch = m03_assist
affiliation = fc_uk_grp
individual_name = 33609

[NPC]
nickname = npc_assist_4
npc_ship_arch = m03_assist
affiliation = fc_uk_grp
individual_name = 33610

[MsnShip]
nickname = assist1
NPC = npc_assist_1
jumper = true
label = rheinland
label = friend
label = assistance

[MsnShip]
nickname = assist2
NPC = npc_assist_2
jumper = true
label = rheinland
label = friend
label = assistance

[MsnShip]
nickname = assist3
NPC = npc_assist_3
jumper = true
label = rheinland
label = friend
label = assistance

[MsnShip]
nickname = assist4
NPC = npc_assist_4
jumper = true
label = rheinland
label = friend
label = assistance

[NPC]
nickname = npc_fleet_fighter
npc_ship_arch = m03_fleet_fighter
affiliation = fc_uk_grp
individual_name = 33611

[MsnShip]
nickname = fleet_fighter1
NPC = npc_fleet_fighter
label = rheinland
label = friend
label = fleet_defender

[MsnShip]
nickname = fleet_fighter2
NPC = npc_fleet_fighter
label = rheinland
label = friend
label = fleet_defender

[MsnShip]
nickname = fleet_fighter3
NPC = npc_fleet_fighter
label = rheinland
label = friend
label = fleet_defender

[MsnShip]
nickname = fleet_fighter4
NPC = npc_fleet_fighter
label = rheinland
label = friend
label = fleet_defender

[NPC]
nickname = npc_kgb_welcome_fighter
npc_ship_arch = m03_kgb_welcome_fighter
affiliation = co_grp

[MsnShip]
nickname = kgb_welcome_fighter1
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 12, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter2
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 57, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter3
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 102, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter4
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 147, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter5
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 192, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter6
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 237, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter7
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 282, Player, 1600
label = first_meet
label = corsairs
label = enemy

[MsnShip]
nickname = kgb_welcome_fighter8
NPC = npc_kgb_welcome_fighter
random_name = true
rel_pos = 327, Player, 1600
label = first_meet
label = corsairs
label = enemy

[NPC]
nickname = npc_gen1_defence
npc_ship_arch = m03_gen1_defence
affiliation = fc_b_grp

[MsnShip]
nickname = gen1_defence1
NPC = npc_gen1_defence
random_name = true
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_defence2
NPC = npc_gen1_defence
random_name = true
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_defence3
NPC = npc_gen1_defence
random_name = true
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_defence4
NPC = npc_gen1_defence
random_name = true
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_defence5
NPC = npc_gen1_defence
random_name = true
label = gen1_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_gen1_reinforcement
npc_ship_arch = m03_gen1_reinforcement
affiliation = fc_b_grp

[MsnShip]
nickname = gen1_reinforcement1
NPC = npc_gen1_reinforcement
random_name = true
rel_pos = 149, Player, 1300
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_reinforcement2
NPC = npc_gen1_reinforcement
random_name = true
rel_pos = 269, Player, 1300
label = gen1_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen1_reinforcement3
NPC = npc_gen1_reinforcement
random_name = true
rel_pos = 29, Player, 1300
label = gen1_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_gen2_main_defence
npc_ship_arch = m03_gen2_main_defence
affiliation = co_grp

[MsnShip]
nickname = gen2_main_defence1
NPC = npc_gen2_main_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_main_defence2
NPC = npc_gen2_main_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_main_defence3
NPC = npc_gen2_main_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_main_defence4
NPC = npc_gen2_main_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_main_defence5
NPC = npc_gen2_main_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_gen2_second_defence
npc_ship_arch = m03_gen2_second_defence
affiliation = fc_b_grp

[MsnShip]
nickname = gen2_second_defence1
NPC = npc_gen2_second_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_second_defence2
NPC = npc_gen2_second_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_second_defence3
NPC = npc_gen2_second_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_second_defence4
NPC = npc_gen2_second_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_second_defence5
NPC = npc_gen2_second_defence
random_name = true
label = gen2_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_gen2_co_reinforcement
npc_ship_arch = m03_gen2_co_reinforcement
affiliation = co_grp

[MsnShip]
nickname = gen2_co_reinforcement1
NPC = npc_gen2_co_reinforcement
random_name = true
rel_pos = 271, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_co_reinforcement2
NPC = npc_gen2_co_reinforcement
random_name = true
rel_pos = 1, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_co_reinforcement3
NPC = npc_gen2_co_reinforcement
random_name = true
rel_pos = 91, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_co_reinforcement4
NPC = npc_gen2_co_reinforcement
random_name = true
rel_pos = 181, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_gen2_rh_reinforcement
npc_ship_arch = m03_gen2_rh_reinforcement
affiliation = fc_b_grp

[MsnShip]
nickname = gen2_rh_reinforcement1
NPC = npc_gen2_rh_reinforcement
random_name = true
rel_pos = 155, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_rh_reinforcement2
NPC = npc_gen2_rh_reinforcement
random_name = true
rel_pos = 245, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_rh_reinforcement3
NPC = npc_gen2_rh_reinforcement
random_name = true
rel_pos = 335, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[MsnShip]
nickname = gen2_rh_reinforcement4
NPC = npc_gen2_rh_reinforcement
random_name = true
rel_pos = 65, Player, 1300
label = gen2_defender
label = corsairs
label = enemy

[NPC]
nickname = npc_last_defence
npc_ship_arch = m03_last_defence
affiliation = co_grp

[MsnShip]
nickname = last_defence1
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence2
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence3
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence4
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence5
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence6
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence7
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence8
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence9
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[MsnShip]
nickname = last_defence10
NPC = npc_last_defence
random_name = true
label = defend
label = corsairs

[NPC]
nickname = npc_escaper1
npc_ship_arch = m03_escaper1
affiliation = co_grp

[MsnShip]
nickname = escaper11
NPC = npc_escaper1
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper12
NPC = npc_escaper1
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper13
NPC = npc_escaper1
random_name = true
label = escaper
label = corsairs

[NPC]
nickname = npc_escaper2
npc_ship_arch = m03_escaper2
affiliation = co_grp

[MsnShip]
nickname = escaper21
NPC = npc_escaper2
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper22
NPC = npc_escaper2
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper23
NPC = npc_escaper2
random_name = true
label = escaper
label = corsairs

[NPC]
nickname = npc_escaper3
npc_ship_arch = m03_escaper3
affiliation = co_grp

[MsnShip]
nickname = escaper31
NPC = npc_escaper3
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper32
NPC = npc_escaper3
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper33
NPC = npc_escaper3
random_name = true
label = escaper
label = corsairs

[NPC]
nickname = npc_escaper4
npc_ship_arch = m03_escaper4
affiliation = co_grp

[MsnShip]
nickname = escaper41
NPC = npc_escaper4
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper42
NPC = npc_escaper4
random_name = true
label = escaper
label = corsairs

[MsnShip]
nickname = escaper43
NPC = npc_escaper4
random_name = true
label = escaper
label = corsairs

[NPC]
nickname = npc_deidrich
npc_ship_arch = m03_deidrich
affiliation = fc_uk_grp
individual_name = 33612
space_costume = rh_deidrich_head, rh_deidrich_body

[MsnShip]
nickname = deidrich
NPC = npc_deidrich
label = deidrich_team
label = deidrich_the
label = enemy

[NPC]
nickname = npc_evil_freighter
npc_ship_arch = m03_evil_freighter
affiliation = fc_b_grp

[MsnShip]
nickname = evil_freighter
NPC = npc_evil_freighter
random_name = true
label = deidrich_team
label = enemy

[NPC]
nickname = npc_evil_fighter
npc_ship_arch = m03_evil_fighter
affiliation = fc_b_grp

[MsnShip]
nickname = evil_fighter1
NPC = npc_evil_fighter
random_name = true
label = deidrich_team
label = deidrich_defend
label = enemy

[MsnShip]
nickname = evil_fighter2
NPC = npc_evil_fighter
random_name = true
label = deidrich_team
label = deidrich_defend
label = enemy

[MsnShip]
nickname = evil_fighter3
NPC = npc_evil_fighter
random_name = true
label = deidrich_team
label = deidrich_defend
label = enemy

;-------------------------------------
;waypoints

[NNObjective]
nickname = nn_meet_vendor
state = HIDDEN
type = rep_inst, sig8, 33569, 33569, -26500.0, 0.0, -20500.0, sig8_01

[NNObjective]
nickname = nn_launch
state = HIDDEN
type = ids, 33570

[NNObjective]
nickname = nn_destroy_corsairs
state = HIDDEN
type = ids, 33571

[NNObjective]
nickname = nn_destroy_enemy
state = HIDDEN
type = ids, 33572

[NNObjective]
nickname = nn_goto_fleet
state = HIDDEN
type = navmarker, sig8, 33573, 33573, -25000.0, 0.0, -45000.0

[NNObjective]
nickname = nn_sig8_to_kgb_fly
state = HIDDEN
type = rep_inst, sig8, 33574, 33574, -40000.0, 0.0, -65000.0, sig8_jh_to_rh_kgb

[NNObjective]
nickname = nn_wait_for_activation
state = HIDDEN
type = ids, 33575

[NNObjective]
nickname = nn_sig8_to_kgb
state = HIDDEN
type = rep_inst, sig8, 33576, 33576, -40000.0, 0.0, -65000.0, sig8_jh_to_rh_kgb

[NNObjective]
nickname = nn_goto_nebula_exit
state = HIDDEN
type = navmarker, rh_kgb, 33577, 33577, 38000.0, 0.0, -38000.0

[NNObjective]
nickname = nn_goto_kgb_core
state = HIDDEN
type = rep_inst, rh_kgb, 33578, 33578, 25000.0, 0.0, -40000.0, kgb

[NNObjective]
nickname = nn_goto_gen1
state = HIDDEN
type = rep_inst, rh_kgb, 33579, 33579, 25000.0, 0.0, -45180.0, gen1

[NNObjective]
nickname = nn_destroy_gen1
state = HIDDEN
type = rep_inst, rh_kgb, 33580, 33580, 25000.0, 0.0, -45180.0, gen1

[NNObjective]
nickname = nn_goto_gen2_wp1
state = HIDDEN
type = navmarker, rh_kgb, 33581, 33581, 20000.0, 0.0, -42500.0

[NNObjective]
nickname = nn_goto_gen2_wp2
state = HIDDEN
type = navmarker, rh_kgb, 33582, 33582, 20000.0, 0.0, -37500.0

[NNObjective]
nickname = nn_goto_gen2
state = HIDDEN
type = rep_inst, rh_kgb, 33583, 33583, 25000.0, 0.0, -34820.0, gen2

[NNObjective]
nickname = nn_destroy_gen2
state = HIDDEN
type = rep_inst, rh_kgb, 33584, 33584, 25000.0, 0.0, -34820.0, gen2

[NNObjective]
nickname = nn_goto_deidrich
state = HIDDEN
type = ids, 33585

[NNObjective]
nickname = nn_goto_deidrich_pos2
state = HIDDEN
type = navmarker, rh_kgb, 33586, 33586, 23000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos3
state = HIDDEN
type = navmarker, rh_kgb, 33587, 33587, 22000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos4
state = HIDDEN
type = navmarker, rh_kgb, 33588, 33588, 20000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos5
state = HIDDEN
type = navmarker, rh_kgb, 33589, 33589, 18000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos6
state = HIDDEN
type = navmarker, rh_kgb, 33590, 33590, 16000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos7
state = HIDDEN
type = navmarker, rh_kgb, 33591, 33591, 14000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_goto_deidrich_pos8
state = HIDDEN
type = navmarker, rh_kgb, 33592, 33592, 12000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_destroy_deidrich
state = HIDDEN
type = ids, 33593

[NNObjective]
nickname = nn_goto_freighter
state = HIDDEN
type = navmarker, rh_kgb, 33594, 33594, -2000.0, 0.0, -40000.0

[NNObjective]
nickname = nn_kgb_to_rh_mnh_fly
state = HIDDEN
type = rep_inst, rh_kgb, 33595, 33595, -15000.0, 0.0, -40000.0, rh_kgb_jg_to_rh_mnh

[NNObjective]
nickname = nn_kgb_to_rh_mnh
state = HIDDEN
type = rep_inst, rh_kgb, 33596, 33596, -15000.0, 0.0, -40000.0, rh_kgb_jg_to_rh_mnh

[NNObjective]
nickname = nn_final_base_fly
state = HIDDEN
type = rep_inst, rh_mnh, 33597, 33597, 32000.0, 0.0, -28000.0, rh_mnh_03

[NNObjective]
nickname = nn_final_base
state = HIDDEN
type = rep_inst, rh_mnh, 33598, 33598, 32000.0, 0.0, -28000.0, rh_mnh_03

;GENERIC
;ALLY
;CAPITAL

;GUNSHIP
[NPC]
nickname = npc_rh_gunship
affiliation = rh_grp
npc_ship_arch = ms3_rh_gunship

[MsnShip]
nickname = gunship_1
NPC = npc_rh_gunship
label = friend
label = rh_capital
label = gunboat_fleet
random_name = true

[MsnShip]
nickname = gunship_2
NPC = npc_rh_gunship
label = friend
label = rh_capital
label = gunboat_fleet
random_name = true

[MsnShip]
nickname = gunship_3
NPC = npc_rh_gunship
label = friend
label = rh_capital
label = gunboat_fleet
random_name = true

[MsnShip]
nickname = gunship_4
NPC = npc_rh_gunship
label = friend
label = rh_capital
label = gunboat_fleet
random_name = true

;CRUISER

[NPC]
nickname = npc_rh_cruiser
affiliation = rh_grp
npc_ship_arch = ms3_rh_cruiser

[MsnShip]
nickname = cruiser_1
NPC = npc_rh_cruiser
label = friend
label = rh_capital
label = cruiser_fleet
random_name = true

[MsnShip]
nickname = cruiser_2
NPC = npc_rh_cruiser
label = friend
label = rh_capital
label = cruiser_fleet
random_name = true

;BATTLESHIP

[NPC]
nickname = npc_rh_battleship
affiliation = rh_grp
npc_ship_arch = ms3_rh_battleship
individual_name = 093204

[MsnShip]
nickname = battleship_1
NPC = npc_rh_battleship
label = friend
label = rh_capital
label = battleship

;FIGHTERS

;CAPITALS DEFEND WING

[MsnFormation]
nickname = fleet_wing
formation = fighter_basic
ship = fleet_fighter1
ship = fleet_fighter2
ship = fleet_fighter3
ship = fleet_fighter4

;ASSAULT ASSISTANCE WING

[MsnFormation]
nickname = assist_wing
formation = fighter_basic
ship = assist1
ship = assist2
ship = assist3
ship = assist4

;ENEMY

;MAIN FIGHTERS

;FIRST TROUBLE


;; define defenders

[NPC]
nickname = npc_evil_rh_elite
affiliation = fc_b_grp
npc_ship_arch = ms3_EVIL_rh_elite
voice = pilot_f_mil_m02

[NPC]
nickname = npc_evil_rh_fighter
affiliation = fc_b_grp
npc_ship_arch = ms3_EVIL_rh_fighter
voice = pilot_f_leg_m01

;ESCAPERS

[MsnFormation]
nickname = escapers_1
formation = fighter_basic
ship = escaper11
ship = escaper12
ship = escaper13

[MsnFormation]
nickname = escapers_2
formation = fighter_basic
ship = escaper21
ship = escaper22
ship = escaper23

[MsnFormation]
nickname = escapers_3
formation = fighter_basic
ship = escaper31
ship = escaper32
ship = escaper33

[MsnFormation]
nickname = escapers_4
formation = fighter_basic
ship = escaper41
ship = escaper42
ship = escaper43

;DEIDRICH AND HELPERS

;deidrich
[NPC]
nickname = npc_deidrich
affiliation = fc_uk_grp
npc_ship_arch = ms3_deidrich
individual_name = 093203

[MsnShip]
nickname = deidrich
NPC = npc_deidrich
label = enemy
label = deidrich_the
label = deidrich_team

[NPC]
nickname = npc_evil_rh_freighter
affiliation = fc_b_grp
npc_ship_arch = ms3_EVIL_rh_freighter

[MsnShip]
nickname = evil_freighter
NPC = npc_evil_rh_freighter
jumper = false
label = enemy
label = deidrich_team
random_name = true

[MsnShip]
nickname = evil_fighter_1
NPC = npc_evil_rh_elite
jumper = false
label = enemy
label = deidrich_team
label = deidrich_defend
random_name = true

[MsnShip]
nickname = evil_fighter_2
NPC = npc_evil_rh_elite
jumper = false
label = enemy
label = deidrich_team
label = deidrich_defend
random_name = true

[MsnShip]
nickname = evil_fighter_3
NPC = npc_evil_rh_elite
jumper = false
label = enemy
label = deidrich_team
label = deidrich_defend
random_name = true

[MsnFormation]
nickname = evil_wing
formation = fighter_basic
ship = evil_freighter
ship = deidrich
ship = evil_fighter1
ship = evil_fighter2
ship = evil_fighter3

;MSN SOLARS

;WEAPON PLATFORMS

[MsnSolar]
nickname = kgb
string_id = 33562
faction = co_grp
system = rh_kgb
position = 25000.00, 0.00, -40000.00
orientation = 0.71, 0.00, 0.71, 0.00
archetype = kgb_core
loadout = trading_outpost_core_shieldgen
label = kgb_core
radius = 0

[MsnSolar]
nickname = dock1
system = rh_kgb
position = 24720.00, 2.00, -40000.00
orientation = 0.71, 0.00, 0.71, 0.00
archetype = freeport7
label = kgb_core
radius = 0

[MsnSolar]
nickname = dock2
system = rh_kgb
position = 25280.00, 2.00, -40000.00
orientation = 0.71, 0.00, -0.71, 0.00
archetype = freeport7
label = kgb_core
radius = 0

[MsnSolar]
nickname = gen1_laser
string_id = 33565
faction = co_grp
system = rh_kgb
position = 25000.00, 0.00, -45000.00
orientation = 0.50, -0.50, -0.50, 0.50
archetype = kgb_lasergen
loadout = trading_outpost_core_lasergen
label = lasergen
radius = 0
base = sig8_01_base

[MsnSolar]
nickname = gen1
string_id = 33563
faction = co_grp
system = rh_kgb
position = 25000.00, 0.00, -45180.00
orientation = 0.71, -0.71, 0.00, 0.00
archetype = dyson_generator
loadout = dyson_generator_msn3
label = generator
radius = 0
base = sig8_01_base


[MsnSolar]
nickname = gen2_laser
string_id = 33566
faction = co_grp
system = rh_kgb
position = 25000.00, 0.00, -35000.00
orientation = 0.50, 0.50, 0.50, 0.50
archetype = kgb_lasergen
loadout = trading_outpost_core_lasergen
label = lasergen
radius = 0
base = sig8_01_base


[MsnSolar]
nickname = gen2
string_id = 33564
faction = co_grp
system = rh_kgb
position = 25000.00, 0.00, -34820.00
orientation = 0.71, 0.71, 0.00, 0.00
archetype = dyson_generator
loadout = dyson_generator_msn3
label = generator
radius = 0
base = sig8_01_base

[Trigger]
nickname = KGB_SHIELD_ZONE
Cnd_DistShip = inside, Player, kgb, 4000
Act_PObjIdle = no_params
Act_ActTrig = KGB_SHIELD_autostop
Act_ActTrig = KGB_SHIELD_autostop_DISABLE
Act_ActTRig = KGB_SHIELD_death_zone

[Trigger]
nickname = KGB_SHIELD_autostop_DISABLE
Cnd_DistShip = outside, Player, kgb, 4000
Act_ActTrig = KGB_SHIELD_ZONE
Act_DeActTrig = KGB_SHIELD_autostop
Act_DeActTrig = KGB_SHIELD_autostop_DISABLE
Act_DeActTrig = KGB_SHIELD_death_zone

[Trigger]
nickname = KGB_SHIELD_autostop
Cnd_Timer = 1
Act_PObjIdle = no_params
repeatable = true

[Trigger]
nickname = KGB_SHIELD_death_zone
Cnd_DistShip = inside, Player, kgb, 3500
Act_Destroy = Player

[Trigger]
nickname = KGB_SHIELD_ZONE_turn_off
Cnd_True = no_params
Act_DeActTrig = KGB_SHIELD_ZONE
Act_DeActTrig = KGB_SHIELD_autostop
Act_DeActTrig = KGB_SHIELD_autostop_DISABLE
Act_DeActTrig = KGB_SHIELD_death_zone

;OBJECTIVES LIST

[ObjList]
nickname = starke_follow_player
SetPriority = ALWAYS_EXECUTE
FollowPlayer = fighter_basic, wilham, hassler

[ObjList]
nickname = punishers_follow_player
SetPriority = ALWAYS_EXECUTE
FollowPlayer = fighter_basic, hassler, punisher1, punisher2, punisher3, punisher4

[ObjList]
nickname = force_follow_player
SetPriority = NORMAL
follow = Player, 150, -70, 50, -100, 50000

[Trigger]
nickname = remove_starke_formation
Cnd_True = no_params
Act_GiveObjList = Player, unform
Act_GiveObjList = Player, force_stop
Act_GiveObjList = wilham, unform
Act_GiveObjList = hassler, unform

[Trigger]
nickname = remove_punishers_formation
Cnd_True = no_params
Act_GiveObjList = Player, unform
Act_GiveObjList = Player, force_stop
Act_GiveObjList = hassler, unform
Act_GiveObjList = punisher2, unform
Act_GiveObjList = punisher3, unform
Act_GiveObjList = punisher4, unform
Act_GiveObjList = punisher5, unform

[ObjList]
nickname = goto_sp01_jumphole
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, -40000.00, 0.00, -65000.00, 500, true

[ObjList]
nickname = goto_generator2
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 25000.00, 0.00, -34820.00, 500, true

[ObjList]
nickname = regroup_assistance
MakeNewFormation = fighter_basic, <bound method Ship.member_list of <story.ingame.tools.Ship object at 0x0000028E89B23B20>>

[ObjList]
nickname = basic_goto_freeport
Avoidance = false
GotoVec = goto_cruise, 25000.0, 0.0, -40000.0, 1500, true 

[ObjList]
nickname = gunship_1_goto
Avoidance = false
GotoVec = goto_cruise, 25250.0, -100.0, -38250.0, 50, true 
GotoVec = goto_no_cruise, 25200.0, 0.0, -39250.0, 50, true 

[ObjList]
nickname = gunship_2_goto
Avoidance = false
GotoVec = goto_cruise, 25250.0, 100.0, -37750.0, 50, true 
GotoVec = goto_no_cruise, 25500.0, 0.0, -39350.0, 50, true 

[ObjList]
nickname = gunship_3_goto
Avoidance = false
GotoVec = goto_cruise, 24750.0, -100.0, -38250.0, 50, true 
GotoVec = goto_no_cruise, 24850.0, 0.0, -39250.0, 50, true 

[ObjList]
nickname = gunship_4_goto
Avoidance = false
GotoVec = goto_cruise, 24750.0, 100.0, -37750.0, 50, true 
GotoVec = goto_no_cruise, 24550.0, 0.0, -39350.0, 50, true 

[ObjList]
nickname = cruiser_1_goto
Avoidance = false
GotoVec = goto_cruise, 25500.0, 0.0, -38000.0, 50, true 
GotoVec = goto_no_cruise, 25500.0, 0.0, -38900.0, 50, true 

[ObjList]
nickname = cruiser_2_goto
Avoidance = false
GotoVec = goto_cruise, 24500.0, 0.0, -38000.0, 50, true 
GotoVec = goto_no_cruise, 24500.0, 0.0, -38900.0, 50, true 

[ObjList]
nickname = battleship_1_goto
Avoidance = false
GotoVec = goto_cruise, 25000.0, 0.0, -38000.0, 50, true 
GotoVec = goto_no_cruise, 25000.0, 0.0, -38600.0, 50, true 

[ObjList]
nickname = escape_point_1
GotoVec = goto_cruise, 22000.0, 0.0, -20000.0, 500, true 

[ObjList]
nickname = escape_point_2
GotoVec = goto_cruise, 15000.0, 0.0, -20000.0, 500, true 

[ObjList]
nickname = escape_point_3
GotoVec = goto_cruise, 28000.0, 0.0, -20000.0, 500, true 

[ObjList]
nickname = escape_point_4
GotoVec = goto_cruise, 35000.0, 0.0, -20000.0, 500, true 

[ObjList]
nickname = deidrich_point_1
GotoVec = goto_cruise, 12000.00, 0.00, -40000.00, 100, true

[ObjList]
nickname = deidrich_point_2
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, -15000.00, 0.00, -40000.00, 1000, true

[ObjList]
nickname = fight_with_trent
SetPriority = ALWAYS_EXECUTE
BreakFormation = no_params
GotoShip = goto_no_cruise, Player, 1000, true

;GENERAL TRIGGERS

[Trigger]
nickname = general_triggers
Cnd_True = no_params
Act_ActTrig = get_friendship
Act_Invulnerable = hassler, true
Act_Invulnerable = punisher1, true
Act_Invulnerable = punisher2, true
Act_Invulnerable = punisher3, true
Act_Invulnerable = punisher4, true
Act_Invulnerable = assist1, true
Act_Invulnerable = assist2, true
Act_Invulnerable = assist3, true
Act_Invulnerable = assist4, true

[Trigger]
nickname = get_friendship
Cnd_True = no_params
Act_SetVibeLblToShip = friend, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, friend, REP_FRIEND_MAXIMUM

[Trigger]
nickname = init_ms3
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms3_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever


[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = sig8_01

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;Vendor: Greetings, Freelancer
Act_EtherComm = echo_m03, 150134, Player, dx_m03_0000_wilhelm, -1, rh_wilham_head, rh_wilham_body


[Trigger]
nickname = init_objective
Cnd_True = no_params
Act_NNPath = 33569, 33569, sig8_01, sig8

[Trigger]
nickname = ms3_create_vendor
Cnd_LocEnter = Bar, sig8_01_base
Act_AddRTC = missions\m03\vendor_msn.ini
Act_ActTrig = ms3_do_accept
repeatable = true

[Trigger]
nickname = ms3_do_accept
Cnd_MsnResponse = accept
Act_RemoveRTC = missions\m03\vendor_msn.ini
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_RandomPop = false
Act_DeActTrig = ms3_create_vendor
Act_ActTrig = starke_in_space
Act_ActTrig = starke_launch_complete
Act_SetNNObj = nn_launch


Act_SetTitle = 33599
Act_SetOffer = 33600

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

Act_ActTrig = MSN_REP_BEFORE

;debug ship
;Act_SetShipAndLoadout = rh_fighter, lod_m03_player

;LAUNCHED


[Trigger]
nickname = starke_in_space
Cnd_InSpace = true
Act_SpawnShip = wilham, no_ol, -26200.00, 700.00, -20600.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = hassler, no_ol, -26000.00, -350.00, -20800.00, 1.00, 0.00, 0.00, 0.00
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_EnableManeuver = formation, false

[Trigger]
nickname = starke_launch_complete
Cnd_LaunchComplete = Player
Act_GiveObjList = Player, starke_follow_player
Act_SetNNState = HIDDEN, true
Act_ActTrig = starke_greetings_dialog
Act_ActTrig = general_triggers
Act_ActTrig = draw_sig8_fleet

[Trigger]
nickname = starke_greetings_dialog
Cnd_Timer = 2
;Hassler: We need to go
Act_EtherComm = echo_m03, 150135, Player, dx_m03_1010_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_SetNNObj = nn_goto_fleet
Act_NagDistTowards = POS, nn_goto_fleet, nag_voice, -25000.0, 0.0, -45000.0, 90001, 4000, NAG_ALWAYS
Act_MarkObj = wilham, 1
Act_MarkObj = hassler, 1
Act_ActTrig = starke_start_msg_done
Act_ActTrig = far_around_sig8_fleet


[Trigger]
nickname = draw_sig8_fleet
Cnd_True = no_params
Act_SpawnShip = battleship_1, no_ol, -25500.00, 0.00, -44500.00, 0.38, 0.00, -0.92, 0.00
Act_ActTrig = get_friendship
Act_ActTrig = draw_sig8_cruisers

[Trigger]
nickname = draw_sig8_cruisers
Cnd_DistVec = inside, Player, -25000.00, 0.00, -45000.00, 10000
Act_SpawnShip = cruiser_1, no_ol, -25750.00, 0.00, -44250.00, 0.50, 0.00, -0.87, 0.00
Act_SpawnShip = cruiser_2, no_ol, -25050.00, 0.00, -44500.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = get_friendship
Act_ActTrig = draw_sig8_gunboats

[Trigger]
nickname = draw_sig8_gunboats
Cnd_DistVec = inside, Player, -25000.00, 0.00, -45000.00, 7000
Act_SpawnShip = gunship_1, no_ol, -24500.00, 0.00, -45100.00, 0.74, 0.00, 0.68, 0.00
Act_SpawnShip = gunship_2, no_ol, -24450.00, 0.00, -45050.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = gunship_3, no_ol, -24400.00, 0.00, -45000.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = gunship_4, no_ol, -24350.00, 0.00, -44950.00, 0.68, 0.00, 0.74, 0.00
Act_ActTrig = get_friendship
Act_ActTrig = draw_sig8_fighters

[Trigger]
nickname = draw_sig8_fighters
Cnd_DistVec = inside, Player, -25000.00, 0.00, -45000.00, 5000
Act_SpawnShip = punisher1, no_ol, -25150.00, 0.00, -45200.00, 0.00, 0.00, -1.00, 0.00
Act_SpawnShip = punisher2, no_ol, -25100.00, 0.00, -45200.00, 0.00, 0.00, -1.00, 0.00
Act_SpawnShip = punisher3, no_ol, -25050.00, 0.00, -45200.00, 0.00, 0.00, -1.00, 0.00
Act_SpawnShip = punisher4, no_ol, -25000.00, 0.00, -45200.00, 0.00, 0.00, -1.00, 0.00
Act_SpawnFormation = fleet_wing, -25400.00, 0.00, -44850.00, 0.97, 0.00, -0.26, 0.00
Act_SpawnFormation = assist_wing, -24700.00, 20.00, -44900.00, 0.68, 0.00, 0.74, 0.00
Act_ActTrig = get_friendship

[Trigger]
nickname = far_around_sig8_fleet
Cnd_DistVec = inside, Player, -25000.00, 0.00, -45000.00, 15000
;Wilham: Briefing started
Act_EtherComm = echo_m03, 150136, Player, dx_m03_1020_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Hassler: Let me listen
Act_EtherComm = echo_m03, 150137, Player, dx_m03_1030_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Wilham: Done
Act_EtherComm = echo_m03, 150138, Player, dx_m03_1040_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

Act_ActTrig = far_around_sig8_fleet_dialog_done

[Trigger]
nickname = far_around_sig8_fleet_dialog_done
Cnd_CommComplete = dx_m03_1040_wilham
Act_ActTrig = mission_briefing

[Trigger]
nickname = mission_briefing
Cnd_Timer = 2
;Reichman: Briefing 1
Act_EtherComm = echo_m03, 150139, Player, dx_m03_0020_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Reichman: Briefing 2
Act_EtherComm = echo_m03, 150140, Player, dx_m03_0030_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Reichman: Briefing 3
Act_EtherComm = echo_m03, 150141, Player, dx_m03_0035_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

Act_ActTrig = first_meet_fleet

[Trigger]
nickname = first_meet_fleet
Cnd_DistVec = inside, Player, -25000.00, 0.00, -45000.00, 2000
Act_ActTrig = mission_briefing_last
Act_ActTrig = remove_starke_formation
Act_MarkObj = wilham, 0
Act_NagOff = nn_goto_fleet
Act_ActTrig = briefieng_dialog
Act_ActTrig = briefieng_dialog_complete

[Trigger]
nickname = mission_briefing_last
Cnd_True = no_params
;Reichman: Briefing 4
Act_EtherComm = echo_m03, 150142, Player, dx_m03_0040_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Reichman: Briefing 5
Act_EtherComm = echo_m03, 150143, Player, dx_m03_0050_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right


[Trigger]
nickname = briefieng_dialog_complete
Cnd_CommComplete = dx_m03_0050_reichman
Act_GiveObjList = Player, punishers_follow_player
Act_GiveObjList = assist1, goto_sp01_jumphole
Act_SetNNObj = nn_sig8_to_kgb_fly
Act_NagDistTowards = OBJ, nn_sig8_to_kgb_fly, nag_voice, sig8_jh_to_rh_kgb, 90001, 4000, NAG_ALWAYS

;Hassler: Let's go
Act_EtherComm = echo_m03, 150144, Player, dx_m03_1050_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = before_jumphole_dialog
Act_ActTrig = near_jumphole

[Trigger]
nickname = before_jumphole_dialog
Cnd_DistVec = inside, Player, sig8_jh_to_rh_kgb, 6000
;Assistance: Anomaly detected
Act_EtherComm = echo_m03, 150145, Player, dx_m03_1060_marauder, -1, li_captain_head, rh_male_guard_body, comm_rh_guard

;Hassler: Preparing the device
Act_EtherComm = echo_m03, 150146, Player, dx_m03_1070_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


[Trigger]
nickname = near_jumphole
Cnd_DistShip = inside, Player, sig8_jh_to_rh_kgb, 1000
Act_PlayMusic = music_anticipation_light, none, none, none
Act_ActTrig = remove_punishers_formation

Act_SetNNObj = nn_wait_for_activation
Act_NagOff = nn_sig8_to_kgb_fly

;Hassler: We are here. Init activation
Act_EtherComm = echo_m03, 150147, Player, dx_m03_0060_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = near_jumphole_dialog_ends

[Trigger]
nickname = near_jumphole_dialog_ends
Cnd_CommComplete = dx_m03_0060_hassler
Act_ActTrig = wait_for_jumphole_activation

[Trigger]
nickname = wait_for_jumphole_activation
Cnd_Timer = 2
Act_CallThorn = MISSIONS\GENERATED_THORN\m03_jumphole_activation.thn, Player
Act_PObjIdle = no_params
Act_LightFuse = sig8_jh_to_rh_kgb, msn03_jumphole_init
Act_ActTrig = reseat_jh_activation_cam

[Trigger]
nickname = reseat_jh_activation_cam
Cnd_Timer = 3
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = lets_jump_to_kgb_dialog

[Trigger]
nickname = lets_jump_to_kgb_dialog
Cnd_Timer = 1
;Hassler: Activated!
Act_EtherComm = echo_m03, 150148, Player, dx_m03_0065_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_EnableManeuver = dock, true
Act_LockDock = Player, sig8_jh_to_rh_kgb, unlock
Act_SetNNObj = nn_sig8_to_kgb
Act_PlayerCanDock = false, sig8_jh_to_rh_kgb
Act_NagDistLeaving = nn_sig8_to_kgb, nag_voice, sig8_jh_to_rh_kgb, 90003, 1000, NAG_ALWAYS

Act_ActTrig = welcome_to_kgb

[Trigger]
nickname = spawn_kgb
Cnd_True = no_params
Act_SpawnSolar = kgb
Act_SpawnSolar = dock1
Act_SpawnSolar = dock2
Act_Invulnerable = kgb, true
Act_Invulnerable = dock1, true
Act_Invulnerable = dock2, true
Act_ActTrig = KGB_SHIELD_ZONE
Act_SpawnSolar = gen1
Act_SpawnSolar = gen2
Act_SpawnSolar = gen1_laser
Act_SpawnSolar = gen2_laser
Act_Invulnerable = gen1, true
Act_Invulnerable = gen2, true

[Trigger]
nickname = welcome_to_kgb
Cnd_NPCSystemEnter = rh_kgb, hassler, punisher1, Player
Act_NagOff = nn_sig8_to_kgb
Act_ActTrig = kgb_welcome_wait_complete
Act_PlayMusic = no_params
Act_LockDock = Player, sig8_jh_to_rh_kgb, lock

[Trigger]
nickname = kgb_welcome_wait_complete
Cnd_Timer = 1
;Hassler: Corsairs! Regroup!
Act_EtherComm = echo_m03, 150149, Player, dx_m03_0070_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_SetNNObj = nn_destroy_corsairs

Act_NagDistLeaving = welcome_kgb_battle, nag_voice, hassler, 90002, 6000
Act_ActTrig = init_welcome_kgb_battle
Act_PlayMusic = music_iw_space, music_iw_danger, music_iw_battle, none
Act_ActTrig = kgb_welcome_spawn_kgb

[Trigger]
nickname = kgb_welcome_spawn_kgb
Cnd_Timer = 3
Act_ActTrig = spawn_kgb

[Trigger]
nickname = init_welcome_kgb_battle
Cnd_True = no_params
Act_SpawnShip = kgb_welcome_fighter1, no_ol
Act_SpawnShip = kgb_welcome_fighter2, no_ol
Act_SpawnShip = kgb_welcome_fighter3, no_ol
Act_SpawnShip = kgb_welcome_fighter4, no_ol
Act_SpawnShip = kgb_welcome_fighter5, no_ol
Act_SpawnShip = kgb_welcome_fighter6, no_ol
Act_SpawnShip = kgb_welcome_fighter7, no_ol
Act_SpawnShip = kgb_welcome_fighter8, no_ol

Act_ActTrig = default_corsair_battle_setrep

Act_MarkObj = kgb_welcome_fighter1, 1
Act_MarkObj = kgb_welcome_fighter2, 1
Act_MarkObj = kgb_welcome_fighter3, 1
Act_MarkObj = kgb_welcome_fighter4, 1
Act_MarkObj = kgb_welcome_fighter5, 1
Act_MarkObj = kgb_welcome_fighter6, 1
Act_MarkObj = kgb_welcome_fighter7, 1
Act_MarkObj = kgb_welcome_fighter8, 1

Act_ActTrig = welcome_kgb_battle_COMPLETE


[Trigger]
nickname = default_corsair_battle_setrep
Cnd_True = no_params
Act_SetVibeLbl = friend, enemy, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = enemy, friend, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = enemy, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, enemy, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = welcome_kgb_battle_COMPLETE
Cnd_Destroyed = first_meet, -1, ALL_IGNORE_LANDING
Act_PlayMusic = music_iw_space, music_iw_space, music_iw_space, music_iw_space
;Assistance:
Act_EtherComm = echo_m03, 150150, Player, dx_m03_1100_marauder, -1, li_captain_head, rh_male_guard_body, comm_rh_guard

Act_ActTrig = init_koenigsberg

[Trigger]
nickname = init_koenigsberg
Cnd_CommComplete = dx_m03_1100_marauder
;Hassler: We need to go
Act_EtherComm = echo_m03, 150151, Player, dx_m03_1110_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_GiveObjList = Player, punishers_follow_player
Act_GiveObjList = assist1, regroup_assistance
Act_GiveObjList = assist1, force_follow_player
Act_SetNNObj = nn_goto_nebula_exit
Act_NagOff = welcome_kgb_battle
Act_NagDistTowards = POS, nn_goto_nebula_exit, nag_voice, 38000.0, 0.0, -38000.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = we_are_founded

[Trigger]
nickname = we_are_founded
Cnd_DistVec = inside, Player, 38000.00, 0.00, -38000.00, 800
;;Act_GiveObjList = Player, force_stop
Act_NagOff = nn_goto_nebula_exit
Act_ActTrig = init_FOUNDED_REACTION
Act_Save = save_state_founded, 33336

[Trigger]
nickname = save_state_founded
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_founded

[Trigger]
nickname = init_the_save_state_founded
Cnd_Timer = 0.3
Act_RelocateShip = Player, 38000.00, 0.00, -38000.00, 0.71, 0.00, 0.71, 0.00

Act_ActTrig = spawn_kgb
Act_SpawnShip = nag_voice
Act_SpawnShip = hassler, no_ol, 38100.00, 0.00, -38000.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnFormation = assist_wing, 37800.00, 0.00, -37800.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = punisher1, no_ol, 38100.00, -50.00, -37900.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = punisher2, no_ol, 38100.00, -50.00, -37960.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = punisher3, no_ol, 38100.00, -50.00, -38020.00, 0.71, 0.00, 0.71, 0.00
Act_SpawnShip = punisher4, no_ol, 38100.00, -50.00, -38080.00, 0.71, 0.00, 0.71, 0.00
Act_MarkObj = hassler, 1
Act_ActTrig = FOUNDED_SAVE_WAIT

[Trigger]
nickname = FOUNDED_SAVE_WAIT
Cnd_Timer = 0.2
Act_ActTrig = general_triggers
Act_GiveObjList = Player, punishers_follow_player
Act_ActTrig = init_FOUNDED_REACTION

[Trigger]
nickname = init_FOUNDED_REACTION
Cnd_True = no_params
;Hassler: Do main objective
Act_EtherComm = echo_m03, 150152, Player, dx_m03_0080_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Assistance: Roger that!
Act_EtherComm = echo_m03, 150153, Player, dx_m03_1130_marauder, -1, li_captain_head, rh_male_guard_body, comm_rh_guard

Act_GiveObjList = assist1, goto_generator2
Act_ActTrig = init_COUNTDOWN_TIMER
Act_ActTrig = init_GENERATOR_ONE
Act_PlayMusic = none, none, none, music_anticipation_more_forboding

[Trigger]
nickname = init_COUNTDOWN_TIMER
Cnd_Timer = 2
Act_ActTrig = coundown_5

[Trigger]
nickname = coundown_10
Cnd_True = no_params
Act_EtherComm = echo_m03_female, 150185, Player, dx_m03_9010_nn, -1, null, robot_body_E
Act_ActTrig = coundown_9

[Trigger]
nickname = coundown_9
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150186, Player, dx_m03_9020_nn, -1, null, robot_body_E
Act_ActTrig = coundown_8

[Trigger]
nickname = coundown_8
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150187, Player, dx_m03_9030_nn, -1, null, robot_body_E
Act_ActTrig = coundown_7

[Trigger]
nickname = coundown_7
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150188, Player, dx_m03_9040_nn, -1, null, robot_body_E
Act_ActTrig = coundown_6

[Trigger]
nickname = coundown_6
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150189, Player, dx_m03_9050_nn, -1, null, robot_body_E
Act_ActTrig = coundown_5

[Trigger]
nickname = coundown_5
;;Cnd_Timer = 60
Cnd_True = no_params
Act_EtherComm = echo_m03_female, 150190, Player, dx_m03_9060_nn, -1, null, robot_body_E
Act_ActTrig = coundown_4

[Trigger]
nickname = coundown_4
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150191, Player, dx_m03_9070_nn, -1, null, robot_body_E
Act_ActTrig = coundown_3

[Trigger]
nickname = coundown_3
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150192, Player, dx_m03_9080_nn, -1, null, robot_body_E
Act_ActTrig = coundown_2

[Trigger]
nickname = coundown_2
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150193, Player, dx_m03_9090_nn, -1, null, robot_body_E
Act_ActTrig = coundown_1

[Trigger]
nickname = coundown_1
Cnd_Timer = 60
Act_EtherComm = echo_m03_female, 150194, Player, dx_m03_9100_nn, -1, null, robot_body_E
Act_ActTrig = coundown_30s

[Trigger]
nickname = coundown_30s
Cnd_Timer = 30
Act_EtherComm = echo_m03_female, 150195, Player, dx_m03_9110_nn, -1, null, robot_body_E
Act_ActTrig = coundown_complete

[Trigger]
nickname = coundown_complete
Cnd_Timer = 30
Act_ChangeState = FAIL, 093112

[Trigger]
nickname = disable_COUNTDOWN_TIMER
Cnd_True = no_params
Act_DeActTrig = coundown_9
Act_DeActTrig = coundown_8
Act_DeActTrig = coundown_7
Act_DeActTrig = coundown_6
Act_DeActTrig = coundown_5
Act_DeActTrig = coundown_4
Act_DeActTrig = coundown_3
Act_DeActTrig = coundown_2
Act_DeActTrig = coundown_1
Act_DeActTrig = coundown_30s
Act_DeActTrig = coundown_complete

[Trigger]
nickname = init_GENERATOR_ONE
Cnd_True = no_params
Act_SetNNObj = nn_goto_gen1

Act_ActTrig = generator_one_FAR
Act_ActTrig = generator_one_CLOSE
Act_ActTrig = generator_one_AROUND_GENERATOR_TWO

[Trigger]
nickname = generator_one_AROUND_GENERATOR_TWO
Cnd_DistShip = inside, Player, gen2 , 4000
Act_ChangeState = FAIL, 093115

[Trigger]
nickname = generator_one_FAR
Cnd_DistShip = inside, Player, gen1, 4000
Act_Invulnerable = gen1, false

Act_Destroy = assist1, SILENT
Act_Destroy = assist2, SILENT
Act_Destroy = assist3, SILENT
Act_Destroy = assist4, SILENT
Act_SpawnShip = gen1_defence1, no_ol, 24000.0, 0.0, -46500.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = gen1_defence2, no_ol, 24000.0, 0.0, -46550.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = gen1_defence3, no_ol, 24000.0, 0.0, -46600.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = gen1_defence4, no_ol, 24000.0, 0.0, -46650.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0
Act_SpawnShip = gen1_defence5, no_ol, 24000.0, 0.0, -46700.0, 0.7071067811865476, 0.0, -0.7071067811865475, 0.0

Act_ActTrig = default_corsair_battle_setrep
Act_PlayMusic = music_iw_space, music_iw_danger, music_iw_battle, none

[Trigger]
nickname = generator_one_CLOSE
Cnd_DistShip = inside, Player, gen1, 1000
Act_GiveObjList = Player, force_stop
Act_ActTrig = remove_punishers_formation
Act_SetNNObj = nn_destroy_gen1
Act_NagDistLeaving = gen1_battle, nag_voice, hassler, 90002, 6000
Act_ActTrig = generator_one_destroyed

[Trigger]
nickname = generator_one_destroyed
Cnd_Destroyed = gen1
Act_ActTrig = generator_one_lastergen_fuse

[Trigger]
nickname = generator_one_lastergen_fuse
Cnd_Timer = 2
Act_LightFuse = gen1_laser, fuse_kgb_lasergen
Act_ActTrig = after_gen1

[Trigger]
nickname = after_gen1
Cnd_Destroyed = gen1_laser
Act_SetNNObj = nn_destroy_enemy
Act_NagOff = gen1_battle
Act_ActTrig = gen1_reinforcement

;Hassler: Generator 1 has been destroyed
Act_EtherComm = echo_m03, 150154, Player, dx_m03_0090_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = after_gen1_dialog_done

[Trigger]
nickname = gen1_reinforcement
Cnd_True = no_params

Act_SpawnShip = gen1_reinforcement1, no_ol
Act_SpawnShip = gen1_reinforcement2, no_ol
Act_SpawnShip = gen1_reinforcement3, no_ol

Act_ActTrig = default_corsair_battle_setrep

Act_MarkObj = gen1_defence1, 1
Act_MarkObj = gen1_defence2, 1
Act_MarkObj = gen1_defence3, 1
Act_MarkObj = gen1_defence4, 1
Act_MarkObj = gen1_defence5, 1
Act_MarkObj = gen1_reinforcement1, 1
Act_MarkObj = gen1_reinforcement2, 1
Act_MarkObj = gen1_reinforcement3, 1

[Trigger]
nickname = after_gen1_dialog_done
Cnd_CommComplete = dx_m03_0090_hassler
ACt_ActTrig = marauder_last_dialog

[Trigger]
nickname = marauder_last_dialog
Cnd_Timer = 2
;Hassler: Marauder-1, regroup with us
Act_EtherComm = echo_m03, 150155, Player, dx_m03_0100_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Assistance: We can't!... (dead)
Act_EtherComm = echo_m03, 150156, Player, dx_m03_0110_marauder, -1, li_captain_head, rh_male_guard_body, comm_rh_guard

;Hassler: HQ, we lost marauder wing
Act_EtherComm = echo_m03, 150157, Player, dx_m03_0120_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = marauder_last_dialog_done

[Trigger]
nickname = marauder_last_dialog_done
Cnd_CommComplete = dx_m03_0120_hassler
Act_ActTrig = init_GENERATOR_TWO

[Trigger]
nickname = gen1_is_not_interesting
Cnd_True = no_params
Act_MarkObj = gen1_defence1, 0
Act_MarkObj = gen1_defence2, 0
Act_MarkObj = gen1_defence3, 0
Act_MarkObj = gen1_defence4, 0
Act_MarkObj = gen1_defence5, 0
Act_MarkObj = gen1_reinforcement1, 0
Act_MarkObj = gen1_reinforcement2, 0
Act_MarkObj = gen1_reinforcement3, 0
Act_SetVibeLbl = friend, enemy, REP_HOSTILE_THRESHOLD
Act_SetVibeLbl = enemy, friend, REP_HOSTILE_THRESHOLD
Act_SetVibeLblToShip = enemy, Player, REP_HOSTILE_THRESHOLD
Act_SetVibeShipToLbl = Player, enemy, REP_HOSTILE_THRESHOLD

[Trigger]
nickname = remove_gen1_enemies
Cnd_True = no_params
Act_Destroy = gen1_defence1, SILENT
Act_Destroy = gen1_defence2, SILENT
Act_Destroy = gen1_defence3, SILENT
Act_Destroy = gen1_defence4, SILENT
Act_Destroy = gen1_defence5, SILENT
Act_Destroy = gen1_reinforcement1, SILENT
Act_Destroy = gen1_reinforcement2, SILENT
Act_Destroy = gen1_reinforcement3, SILENT

[Trigger]
nickname = init_GENERATOR_TWO
Cnd_True = no_params
;Reichman: Affirmative
Act_EtherComm = echo_m03, 150158, Player, dx_m03_0130_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

Act_ActTrig = gen1_is_not_interesting
Act_GiveObjList = Player, punishers_follow_player
Act_SetNNObj = nn_goto_gen2_wp1
Act_NagDistTowards = POS, nn_goto_gen2_wp1, nag_voice, 20000.0, 0.0, -42500.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = GENERATOR_TWO_vec1

[Trigger]
nickname = GENERATOR_TWO_vec1
Cnd_DistVec = inside, Player, 20000.00, 0.00, -42500.00, 2000
Act_SetNNObj = nn_goto_gen2_wp2
Act_NagOff = nn_goto_gen2_wp1
Act_NagDistTowards = POS, nn_goto_gen2_wp2, nag_voice, 20000.0, 0.0, -37500.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = GENERATOR_TWO_vec2
Act_ActTrig = deidrich_greetings_dialog

[Trigger]
nickname = GENERATOR_TWO_vec2
Cnd_DistVec = inside, Player, 20000.00, 0.00, -37500.00, 2000
Act_SetNNObj = nn_goto_gen2
Act_NagOff = nn_goto_gen2_wp2
Act_ActTrig = generator_two_FAR
Act_ActTrig = generator_two_CLOSE
Act_PlayMusic = none, none, none, music_reveal_and_exposition
Act_DeactTrig = generator_one_AROUND_GENERATOR_TWO

[Trigger]
nickname = deidrich_greetings_dialog
Cnd_Timer = 5
;Deidrich: Hassler, you are next
Act_EtherComm = echo_m03, 150159, Player, dx_m03_0140_deidrich, -1, rh_deidrich_head, rh_deidrich_body

;Hassler: Hello, betrayer!
Act_EtherComm = echo_m03, 150160, Player, dx_m03_0150_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Deidrich: Kaiser is fool! Join us!
Act_EtherComm = echo_m03, 150161, Player, dx_m03_0160_deidrich, -1, rh_deidrich_head, rh_deidrich_body

;Hassler: I don't!
Act_EtherComm = echo_m03, 150162, Player, dx_m03_0170_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman



[Trigger]
nickname = generator_two_FAR
Cnd_DistShip = inside, Player, gen2, 3000
Act_SpawnShip = gen2_main_defence1, no_ol, 24500.0, 0.0, -35000.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_main_defence2, no_ol, 24500.0, 0.0, -34950.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_main_defence3, no_ol, 24500.0, 0.0, -34900.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_main_defence4, no_ol, 24500.0, 0.0, -34850.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_main_defence5, no_ol, 24500.0, 0.0, -34800.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_second_defence1, no_ol, 25000.0, 0.0, -34200.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_second_defence2, no_ol, 25000.0, 0.0, -34150.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_second_defence3, no_ol, 25000.0, 0.0, -34100.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_second_defence4, no_ol, 25000.0, 0.0, -34050.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = gen2_second_defence5, no_ol, 25000.0, 0.0, -34000.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_ActTrig = default_corsair_battle_setrep
Act_ActTrig = remove_gen1_enemies
Act_PlayMusic = music_iw_space, music_iw_danger, music_iw_battle, none

[Trigger]
nickname = generator_two_CLOSE
Cnd_DistShip = inside, Player, gen2, 1200
Act_Invulnerable = gen2, false
Act_GiveObjList = Player, force_stop
Act_ActTrig = remove_punishers_formation
Act_SetNNObj = nn_destroy_gen2
Act_NagDistLeaving = generator2_battle, nag_voice, hassler, 90002, 6000
Act_ActTrig = gen2_destroyed

[Trigger]
nickname = gen2_destroyed
Cnd_Destroyed = gen2
Act_ActTrig = disable_COUNTDOWN_TIMER
Act_ActTrig = generator_two_lastergen_fuse

[Trigger]
nickname = generator_two_lastergen_fuse
Cnd_Timer = 2
Act_LightFuse = gen2_laser, fuse_kgb_lasergen
Act_ActTrig = gen2_lasergen_destroyed

[Trigger]
nickname = gen2_lasergen_destroyed
Cnd_Destroyed = gen2_laser
Act_ActTrig = co_reinforcement
Act_SetNNObj = nn_destroy_enemy
Act_NagOff = generator2_battle

[Trigger]
nickname = co_reinforcement
Cnd_True = no_params
Act_SpawnShip = gen2_co_reinforcement1, no_ol
Act_SpawnShip = gen2_co_reinforcement2, no_ol
Act_SpawnShip = gen2_co_reinforcement3, no_ol
Act_SpawnShip = gen2_co_reinforcement4, no_ol
Act_SpawnShip = gen2_rh_reinforcement1, no_ol
Act_SpawnShip = gen2_rh_reinforcement2, no_ol
Act_SpawnShip = gen2_rh_reinforcement3, no_ol
Act_SpawnShip = gen2_rh_reinforcement4, no_ol
Act_ActTrig = mark_all_gen2_enemy
Act_ActTrig = default_corsair_battle_setrep
Act_SetNNObj = m3_destroy_corsairs
;Hassler:
Act_EtherComm = echo_m03, 150163, Player, dx_m03_0180_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Reichman: Affirmative
Act_EtherComm = echo_m03, 150164, Player, dx_m03_0190_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

Act_ActTrig = gen2_reichman_dlg_ends

[Trigger]
nickname = mark_all_gen2_enemy
Cnd_True = no_params
Act_MarkObj = gen2_main_defence1, 1
Act_MarkObj = gen2_main_defence2, 1
Act_MarkObj = gen2_main_defence3, 1
Act_MarkObj = gen2_main_defence4, 1
Act_MarkObj = gen2_main_defence5, 1
Act_MarkObj = gen2_second_defence1, 1
Act_MarkObj = gen2_second_defence2, 1
Act_MarkObj = gen2_second_defence3, 1
Act_MarkObj = gen2_second_defence4, 1
Act_MarkObj = gen2_second_defence5, 1
Act_MarkObj = gen2_co_reinforcement1, 1
Act_MarkObj = gen2_co_reinforcement2, 1
Act_MarkObj = gen2_co_reinforcement3, 1
Act_MarkObj = gen2_co_reinforcement4, 1
Act_MarkObj = gen2_rh_reinforcement1, 1
Act_MarkObj = gen2_rh_reinforcement2, 1
Act_MarkObj = gen2_rh_reinforcement3, 1
Act_MarkObj = gen2_rh_reinforcement4, 1

[Trigger]
nickname = gen2_reichman_dlg_ends
Cnd_CommComplete = dx_m03_0190_reichman
Act_ActTrig = wilham_greetings

[Trigger]
nickname = wilham_greetings
Cnd_Timer = 5
Act_ActTrig = spawn_KGB_RH_FLEET
Act_ActTrig = KGB_FLEET_cam
Act_PlayMusic = music_danger, music_danger, music_dangerous_chase, music_reveal_enemy_position_of_strength, 1

[Trigger]
nickname = spawn_KGB_RH_FLEET
Cnd_True = no_params
Act_SpawnShip = wilham, no_ol, 25000.00, 200.00, -32200.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnFormation = fleet_wing, 25000.00, 0.00, -32700.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_1, no_ol, 25250.00, -100.00, -32250.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_2, no_ol, 25250.00, 100.00, -31750.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_3, no_ol, 24750.00, -100.00, -32250.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_4, no_ol, 24750.00, 100.00, -31750.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = cruiser_1, no_ol, 25500.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = cruiser_2, no_ol, 24500.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = battleship_1, no_ol, 25000.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_ActTrig = get_friendship
Act_ActTrig = default_corsair_battle_setrep

[Trigger]
nickname = KGB_FLEET_cam
Cnd_Timer = 1
; Act_StaticCam = 24443, 83, -32912, 1, -0.05, -3.25, 0
Act_CallThorn = scripts\mod\m03_fleet_arrive.thn, Player
Act_Invulnerable = Player, true
Act_ActTrig = KGB_FLEET_cam_REVERT

[Trigger]
nickname = KGB_FLEET_cam_REVERT
Cnd_Timer = 6.1
Act_Invulnerable = Player, false

Act_ActTrig = KGB_FLEET_dialog
Act_ActTrig = generator_defend_destroyed

[Trigger]
nickname = KGB_FLEET_dialog
Cnd_Timer = 2
;Wilham: Reinfocment has arrived
Act_EtherComm = echo_m03, 150165, Player, dx_m03_1150_wilham, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;Hassler: Ok!
Act_EtherComm = echo_m03, 150166, Player, dx_m03_1160_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = begin_GEN2_Battle

[Trigger]
nickname = begin_GEN2_Battle
Cnd_CommComplete = dx_m03_1160_hassler
Act_PlayMusic = music_danger, music_danger, music_dangerous_chase, music_dangerous_chase

[Trigger]
nickname = generator_defend_destroyed
Cnd_Destroyed = gen2_defender, -1, ALL_IGNORE_LANDING
Act_PlayMusic = no_params
Act_ActTrig = KGB_SHIELD_ZONE_turn_off
Act_ActTrig = kgb_without_shieldgen_turn_off_shield
Act_ActTrig = after_generator

[Trigger]
nickname = spawn_kgb_without_shieldgen
Cnd_True = no_params
Act_SpawnSolar = kgb
Act_SpawnSolar = dock1
Act_SpawnSolar = dock2
Act_Invulnerable = kgb, true
Act_Invulnerable = dock1, true
Act_Invulnerable = dock2, true
Act_ActTrig = kgb_without_shieldgen_turn_off_shield

[Trigger]
nickname = kgb_without_shieldgen_turn_off_shield
Cnd_Timer = 2
Act_LightFuse = kgb, kgb_shield_turn_off


[Trigger]
nickname = everybody_goes_to_freeport
Cnd_True = no_params
Act_GiveObjList = wilham, basic_goto_freeport
Act_GiveObjList = fleet_fighter1, basic_goto_freeport
Act_GiveObjList = gunship_1, gunship_1_goto
Act_GiveObjList = gunship_2, gunship_2_goto
Act_GiveObjList = gunship_3, gunship_3_goto
Act_GiveObjList = gunship_4, gunship_4_goto
Act_GiveObjList = cruiser_1, cruiser_1_goto
Act_GiveObjList = cruiser_2, cruiser_2_goto
Act_GiveObjList = battleship_1, battleship_1_goto

[Trigger]
nickname = after_generator
Cnd_Timer = 2
Act_ActTrig = everybody_goes_to_freeport
Act_NagOff = generator2_battle
Act_GiveObjList = Player, punishers_follow_player

Act_ActTrig = init_SHIELD_DOWN
Act_Save = save_state_shield_down, 33337

[Trigger]
nickname = save_state_shield_down
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_shield_down

[Trigger]
nickname = init_the_save_state_shield_down
Cnd_Timer = 0.3

Act_ActTrig = spawn_kgb_without_shieldgen
; Act_ActTrig = hide_destroyed_objects
Act_RelocateShip = Player, 25000.00, 0.00, -34600.00, 1.00, 0.00, 0.00, 0.00
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_SpawnShip = hassler, no_ol, 25000.00, 50.00, -34550.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = punisher1, no_ol, 24950.00, 50.00, -34500.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = punisher2, no_ol, 25000.00, 50.00, -34500.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = punisher3, no_ol, 25050.00, 50.00, -34500.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = punisher4, no_ol, 25100.00, 50.00, -34500.00, 1.00, 0.00, 0.00, 0.00
Act_MarkObj = hassler, 1
Act_SpawnShip = wilham, basic_goto_freeport, 25000.00, 200.00, -32200.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnFormation = fleet_wing, 25000.00, 0.00, -32700.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_1, gunship_1_goto, 25250.00, -100.00, -32250.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_2, gunship_2_goto, 25250.00, 100.00, -31750.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_3, gunship_3_goto, 24750.00, -100.00, -32250.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = gunship_4, gunship_4_goto, 24750.00, 100.00, -31750.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = cruiser_1, cruiser_1_goto, 25500.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = cruiser_2, cruiser_2_goto, 24500.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_SpawnShip = battleship_1, battleship_1_goto, 25000.00, 0.00, -32000.00, 1.00, 0.00, 0.00, 0.00
Act_ActTrig = general_triggers
Act_ActTrig = SAVE_SHIELD_DOWN_WAIT

[Trigger]
nickname = SAVE_SHIELD_DOWN_WAIT
Cnd_Timer = 0.2
Act_GiveObjList = Player, punishers_follow_player
Act_GiveObjList = fleet_fighter1, basic_goto_freeport
Act_ActTrig = init_SHIELD_DOWN

[Trigger]
nickname = init_SHIELD_DOWN
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_upcoming_action_heavy
Act_SetNNObj = nn_goto_kgb_core

;Hassler: Punishers, go to base
Act_EtherComm = echo_m03, 150167, Player, dx_m03_1170_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = in_shield

[Trigger]
nickname = in_shield
Cnd_DistVec = inside, Player, 25000.00, 0.00, -40000.00, 6000
Act_ActTrig = init_ESCAPERS
Act_ActTrig = init_LAST_CORSAIRS_CATCH
;Player: What is that ships???
Act_EtherComm = echo_m03_player, 150168, Player, dx_m03_0200_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler: Damn, this is Deidrich!
Act_EtherComm = echo_m03, 150169, Player, dx_m03_0210_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


[Trigger]
nickname = init_ESCAPERS
Cnd_Timer = 1
Act_SpawnFormation = escapers_1, 24900.00, 0.00, -39500.00, 0.00, 0.00, 1.00, 0.00
Act_SpawnFormation = escapers_2, 24700.00, 0.00, -39500.00, 0.00, 0.00, 1.00, 0.00
Act_SpawnFormation = escapers_3, 25100.00, 0.00, -39500.00, 0.00, 0.00, 1.00, 0.00
Act_SpawnFormation = escapers_4, 25300.00, 0.00, -39500.00, 0.00, 0.00, 1.00, 0.00
Act_ActTrig = init_LAST_CORSAIRS
Act_GiveObjList = escaper11, escape_point_1
Act_GiveObjList = escaper21, escape_point_2
Act_GiveObjList = escaper31, escape_point_3
Act_GiveObjList = escaper41, escape_point_4
Act_SetVibeLbl = friend, escaper, REP_NEUTRAL
Act_SetVibeLbl = escaper, friend, REP_NEUTRAL
Act_SetVibeLblToShip = escaper, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, escaper, REP_NEUTRAL

[Trigger]
nickname = init_LAST_CORSAIRS
Cnd_Timer = 2
Act_SpawnFormation = evil_wing, 24400, 0, -40000, 0.7, 0, 0.7, 0
Act_SpawnShip = last_defence1, no_ol, 25300.0, 0.0, -39600.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence2, no_ol, 25300.0, 0.0, -39660.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence3, no_ol, 25300.0, 0.0, -39720.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence4, no_ol, 25300.0, 0.0, -39780.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence5, no_ol, 25300.0, 0.0, -39840.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence6, no_ol, 25300.0, 0.0, -39900.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence7, no_ol, 25300.0, 0.0, -39960.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence8, no_ol, 25300.0, 0.0, -40020.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence9, no_ol, 25300.0, 0.0, -40080.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = last_defence10, no_ol, 25300.0, 0.0, -40140.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_ActTrig = LAST_CORSAIRS_misc_triggers
Act_GiveObjList = evil_freighter, deidrich_point_1
Act_SetVibeLbl = friend, defend, REP_HOSTILE_THRESHOLD
Act_SetVibeLbl = defend, friend, REP_HOSTILE_THRESHOLD
Act_SetVibeLblToShip = defend, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, defend, REP_NEUTRAL
Act_SetVibeLbl = friend, deidrich_team, REP_NEUTRAL
Act_SetVibeLbl = deidrich_team, friend, REP_NEUTRAL
Act_SetVibeLbl = trent_wing, defend, REP_NEUTRAL
Act_SetVibeLbl = defend, trent_wing, REP_NEUTRAL
Act_SetVibeLblToShip = deidrich_team, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, deidrich_team, REP_HOSTILE_MAXIMUM
Act_MarkObj = deidrich, 1

[Trigger]
nickname = init_LAST_CORSAIRS_CATCH
Cnd_CommComplete = dx_m03_0210_hassler
;Reichman: Catch him!
Act_EtherComm = echo_m03, 150170, Player, dx_m03_0220_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Hassler: Catch the Deidrich
Act_EtherComm = echo_m03, 150171, Player, dx_m03_0230_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_SetNNObj = nn_goto_deidrich


Act_ActTrig = CATCH_DEIDRICH
Act_ActTrig = DEIDRICH_WAYPOINT

[Trigger]
nickname = DEIDRICH_WAYPOINT
Cnd_True = no_params
Act_ActTrig = DEIDRICH_WAYPOINT_23000  ; 2
Act_ActTrig = DEIDRICH_WAYPOINT_22000  ; 3
Act_ActTrig = DEIDRICH_WAYPOINT_20000  ; 4
Act_ActTrig = DEIDRICH_WAYPOINT_18000  ; 5
Act_ActTrig = DEIDRICH_WAYPOINT_16000  ; 6
Act_ActTrig = DEIDRICH_WAYPOINT_14000  ; 7

[Trigger]
nickname = DEIDRICH_WAYPOINT_23000
Cnd_DistVec = inside, evil_freighter, 23000.00, 0.00, -40000.00, 500
Act_SetNNObj = nn_goto_deidrich_pos2
Act_NagDistTowards = POS, nn_goto_deidrich_pos2, nag_voice, 23000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS

[Trigger]
nickname = DEIDRICH_WAYPOINT_22000
Cnd_DistVec = inside, evil_freighter, 22000.00, 0.00, -40000.00, 700
Act_SetNNObj = nn_goto_deidrich_pos3
Act_NagOff = nn_goto_deidrich_pos2
Act_NagDistTowards = POS, nn_goto_deidrich_pos3, nag_voice, 22000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS

[Trigger]
nickname = DEIDRICH_WAYPOINT_20000
Cnd_DistVec = inside, evil_freighter, 20000.00, 0.00, -40000.00, 700
Act_SetNNObj = nn_goto_deidrich_pos4
Act_NagOff = nn_goto_deidrich_pos3
Act_NagDistTowards = POS, nn_goto_deidrich_pos4, nag_voice, 20000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS

[Trigger]
nickname = DEIDRICH_WAYPOINT_18000
Cnd_DistVec = inside, evil_freighter, 18000.00, 0.00, -40000.00, 700
Act_SetNNObj = nn_goto_deidrich_pos5
Act_NagOff = nn_goto_deidrich_pos4
Act_NagDistTowards = POS, nn_goto_deidrich_pos5, nag_voice, 18000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS

[Trigger]
nickname = DEIDRICH_WAYPOINT_16000
Cnd_DistVec = inside, evil_freighter, 16000.00, 0.00, -40000.00, 700
Act_SetNNObj = nn_goto_deidrich_pos6
Act_NagOff = nn_goto_deidrich_pos5
Act_NagDistTowards = POS, nn_goto_deidrich_pos6, nag_voice, 16000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS

[Trigger]
nickname = DEIDRICH_WAYPOINT_14000
Cnd_DistVec = inside, evil_freighter, 14000.00, 0.00, -40000.00, 700
Act_SetNNObj = nn_goto_deidrich_pos7
Act_NagOff = nn_goto_deidrich_pos6
Act_NagDistTowards = POS, nn_goto_deidrich_pos7, nag_voice, 14000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS


[Trigger]
nickname = DEIDRICH_WAYPOINT_turn_off
Cnd_True = no_params
Act_DeActTrig = DEIDRICH_WAYPOINT_23000
Act_DeActTrig = DEIDRICH_WAYPOINT_22000
Act_DeActTrig = DEIDRICH_WAYPOINT_20000
Act_DeActTrig = DEIDRICH_WAYPOINT_18000
Act_DeActTrig = DEIDRICH_WAYPOINT_16000
Act_DeActTrig = DEIDRICH_WAYPOINT_14000

[;
;deidrich points
23000, 0, -40000
22000, 0, -40000
20000, 0, -40000
18000, 0, -40000
16000, 0, -40000
14000, 0, -40000
12000, 0, -40000

[Trigger]
nickname = CATCH_DEIDRICH
Cnd_True = no_params
Act_ActTrig = DEIDRICH_too_far_LARGE
Act_ActTrig = DEIDRICH_in_our_point
Act_Invulnerable = evil_freighter, true
Act_Invulnerable = deidrich, true
Act_Invulnerable = evil_fighter1, true
Act_Invulnerable = evil_fighter2, true
Act_Invulnerable = evil_fighter3, true
Act_MarkObj = deidrich, 1

[Trigger]
nickname = DEIDRICH_too_far_LARGE
Cnd_DistShip = outside, Player, deidrich, 10000
Act_ChangeState = FAIL, 093113

[Trigger]
nickname = DEIDRICH_in_our_point
Cnd_DistVec = inside, deidrich, 12000.00, 0.00, -40000.00, 500
Act_GiveObjList = deidrich, fight_with_trent
Act_GiveObjList = evil_fighter1, fight_with_trent
Act_GiveObjList = evil_fighter2, fight_with_trent
Act_GiveObjList = evil_fighter3, fight_with_trent
Act_GiveObjList = evil_freighter, deidrich_point_2

Act_SetVibeLbl = friend, deidrich_defend, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = deidrich_defend, friend, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = deidrich_defend, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, deidrich_defend, REP_HOSTILE_MAXIMUM

Act_SetVibe = deidrich, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, deidrich, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = friend, deidrich, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = deidrich, friend, REP_NEUTRAL


Act_DeactTrig = DEIDRICH_too_far_LARGE
Act_Invulnerable = deidrich, false
Act_Invulnerable = evil_fighter1, false
Act_Invulnerable = evil_fighter2, false
Act_Invulnerable = evil_fighter3, false

Act_ActTrig = DEIDRICH_WAYPOINT_turn_off
Act_SetNNObj = nn_destroy_deidrich
Act_NagOff = nn_goto_deidrich_pos7
Act_ActTrig = DEIDRICH_fight
Act_ActTrig = DEIDRICH_fight_dialog

Act_MarkObj = deidrich, 1

[Trigger]
nickname = DEIDRICH_fight_dialog
Cnd_True = no_params
Act_PlayMusic = music_danger, music_danger, music_dangerous_chase, none
;Hassler: Destroy enemy ships!
Act_EtherComm = echo_m03, 150172, Player, dx_m03_0240_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = DEIDRICH_fight_dialog_done

[Trigger]
nickname = DEIDRICH_fight_dialog_done
Cnd_CommComplete = dx_m03_0240_hassler
Act_ActTrig = DEIDRICH_freighter_going_away_dialog

[Trigger]
nickname = DEIDRICH_freighter_going_away_dialog
Cnd_Timer = 3
;Player: Freighter going away
Act_EtherComm = echo_m03_player, 150173, Player, dx_m03_0250_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler: That's not matter
Act_EtherComm = echo_m03, 150174, Player, dx_m03_0260_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


[Trigger]
nickname = DEIDRICH_fight
Cnd_DistShip = inside, Player, deidrich, 500
Act_PObjIdle = no_params
Act_ActTrig = remove_punishers_formation
Act_ActTrig = deidrich_destroyed
Act_ActTrig = deidrich_extra_defence01
Act_ActTrig = hide_fleet_fighters

[Trigger]
nickname = deidrich_extra_defence_dialog
Cnd_True = no_params
;Punisher:
Act_EtherComm = echo_m03, 150175, Player, dx_m03_1200_punisher, -1, rh_sales_head, rh_male_elite_body, comm_rh_elite

;Hassler:
Act_EtherComm = echo_m03, 150176, Player, dx_m03_1210_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


;

[Trigger]
nickname = deidrich_extra_defence01
Cnd_HealthDec = deidrich, 0.8
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield01
Act_Invulnerable = deidrich, true
Act_ActTrig = deidrich_extra_defence01_turn_off
Act_ActTrig = deidrich_extra_defence_dialog

[Trigger]
nickname = deidrich_extra_defence01_turn_off
Cnd_Timer = 10
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield01_turn_off
Act_Invulnerable = deidrich, false
Act_ActTrig = deidrich_extra_defence02


;

[Trigger]
nickname = deidrich_extra_defence02
Cnd_HealthDec = deidrich, 0.6
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield02
Act_Invulnerable = deidrich, true
Act_ActTrig = deidrich_extra_defence02_turn_off

[Trigger]
nickname = deidrich_extra_defence02_turn_off
Cnd_Timer = 10
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield02_turn_off
Act_Invulnerable = deidrich, false
Act_ActTrig = deidrich_extra_defence03

;

[Trigger]
nickname = deidrich_extra_defence03
Cnd_HealthDec = deidrich, 0.3
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield03
Act_Invulnerable = deidrich, true
Act_ActTrig = deidrich_extra_defence03_turn_off

[Trigger]
nickname = deidrich_extra_defence03_turn_off
Cnd_Timer = 10
Act_LightFuse = deidrich, fuse_m03_deidrich_extra_shield03_turn_off
Act_Invulnerable = deidrich, false

;

[Trigger]
nickname = deidrich_destroyed
Cnd_Destroyed = deidrich
Act_ActTrig = Destroy_KGB

[Trigger]
nickname = Destroy_KGB
Cnd_Timer = 3
Act_ActTrig = prepare_fleet_to_epic
Act_ActTrig = hide_evil_fighters
Act_ActTrig = ms3_fp7_epic_death
Act_PlayMusic = none, none, none, music_friendly_encouragement
Act_GiveObjList = Player, force_stop
Act_GiveObjList = Player, punishers_follow_player

[Trigger]
nickname = hide_fleet_fighters
Cnd_True = no_params
Act_Destroy = wilham, SILENT
Act_Destroy = fleet_fighter1, SILENT
Act_Destroy = fleet_fighter2, SILENT
Act_Destroy = fleet_fighter3, SILENT
Act_Destroy = fleet_fighter4, SILENT
Act_Destroy = last_defence1, SILENT
Act_Destroy = last_defence2, SILENT
Act_Destroy = last_defence3, SILENT
Act_Destroy = last_defence4, SILENT
Act_Destroy = last_defence5, SILENT
Act_Destroy = last_defence6, SILENT
Act_Destroy = last_defence7, SILENT
Act_Destroy = last_defence8, SILENT
Act_Destroy = last_defence9, SILENT
Act_Destroy = last_defence10, SILENT
Act_Destroy = escaper11, SILENT
Act_Destroy = escaper12, SILENT
Act_Destroy = escaper13, SILENT
Act_Destroy = escaper21, SILENT
Act_Destroy = escaper22, SILENT
Act_Destroy = escaper23, SILENT
Act_Destroy = escaper31, SILENT
Act_Destroy = escaper32, SILENT
Act_Destroy = escaper33, SILENT
Act_Destroy = escaper41, SILENT
Act_Destroy = escaper42, SILENT
Act_Destroy = escaper43, SILENT

[Trigger]
nickname = hide_evil_fighters
Cnd_True = no_params
Act_Destroy = evil_freighter, SILENT
Act_Destroy = evil_fighter1, SILENT
Act_Destroy = evil_fighter2, SILENT
Act_Destroy = evil_fighter3, SILENT

[Trigger]
nickname = prepare_fleet_to_epic
Cnd_True = no_params
Act_RelocateShip = gunship_1, 25200.00, 0.00, -39250.00, 1.00, 0.00, 0.00, 0.00
Act_RelocateShip = gunship_2, 25500.00, 0.00, -39350.00, 0.92, 0.00, 0.38, 0.00
Act_RelocateShip = gunship_3, 24850.00, 0.00, -39250.00, 1.00, 0.00, 0.00, 0.00
Act_RelocateShip = gunship_4, 24550.00, 0.00, -39350.00, 0.97, 0.00, -0.26, 0.00
Act_RelocateShip = cruiser_1, 25500.00, 0.00, -38900.00, 1.00, 0.00, 0.00, 0.00
Act_RelocateShip = cruiser_2, 24500.00, 0.00, -38900.00, 1.00, 0.00, 0.00, 0.00
Act_RelocateShip = battleship_1, 25000.00, 0.00, -38600.00, 1.00, 0.00, 0.00, 0.00

[Trigger]
nickname = ms3_fp7_epic_death
Cnd_true = no_params
Act_CallThorn = scripts\mod\m03_kgb_death01.thn, Player
Act_LightFuse = dock1, freeport7_main_fuse1
Act_LightFuse = dock2, freeport7_main_fuse1

Act_ActTrig = ms3_fp_epic_death_destroy_shields_fx

[Trigger]
nickname = ms3_fp_epic_death_destroy_shields_fx
Cnd_Timer = 8
Act_LightFuse = kgb, fuse_kgb
Act_CallThorn = scripts\mod\m03_kgb_death02.thn, Player
Act_ActTrig = ms3_fp_epic_death_final_accord

[Trigger]
nickname = ms3_fp_epic_death_final_accord
Cnd_Timer = 8
Act_Destroy = dock1, EXPLODE
Act_Destroy = dock2, EXPLODE
Act_ActTrig = ms3_fp_epic_death_final_cam

[Trigger]
nickname = ms3_fp_epic_death_final_cam
Cnd_Timer = 2

Act_ActTrig = ms3_fp_epic_death_stop_cam

[Trigger]
nickname = ms3_fp_epic_death_stop_cam
Cnd_Timer = 8
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = KGB_DESTROING_COMPLETE

;-------------------------------

[Trigger]
nickname = KGB_DESTROING_COMPLETE
Cnd_Timer = 1
;Reichman: KGB destroyed. What with Deidrich?
Act_EtherComm = echo_m03, 150177, Player, dx_m03_0270_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Hassler: Is destroyed. But freighter is escaped
Act_EtherComm = echo_m03, 150178, Player, dx_m03_0280_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Reichman: Find and destroy Freighter!
Act_EtherComm = echo_m03, 150179, Player, dx_m03_0290_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

Act_ActTrig = init_TRADEPOINT

[Trigger]
nickname = init_TRADEPOINT
Cnd_CommComplete = dx_m03_0290_reichman
Act_SetNNObj = nn_goto_freighter
Act_NagDistTowards = POS, nn_goto_freighter, nag_voice, -2000.0, 0.0, -40000.0, 90001, 4000, NAG_ALWAYS
;Hassler: Ok
Act_EtherComm = echo_m03, 150180, Player, dx_m03_0300_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = around_TRADEPOINT
Act_PlayMusic = no_params


[Trigger]
nickname = around_TRADEPOINT
Cnd_DistVec = inside, Player, -2000.00, 0.00, -40000.00, 1000
Act_GiveObjList = Player, force_stop
;Punisher: We found the jumpgate
Act_EtherComm = echo_m03, 150181, Player, dx_m03_1180_punisher, -1, rh_sales_head, rh_male_elite_body, comm_rh_elite

Act_ActTrig = init_LAST_JUMPGATE

[Trigger]
nickname = init_LAST_JUMPGATE
Cnd_CommComplete = dx_m03_1180_punisher
Act_SetNNObj = nn_kgb_to_rh_mnh_fly
Act_NagOff = nn_goto_freighter
Act_NagDistTowards = OBJ, nn_kgb_to_rh_mnh_fly, nag_voice, rh_kgb_jg_to_rh_mnh, 90001, 4000, NAG_ALWAYS
Act_ActTrig = around_LAST_JUMPGATE

;Hassler: We have one last chance
Act_EtherComm = echo_m03, 150182, Player, dx_m03_1190_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


[Trigger]
nickname = around_LAST_JUMPGATE
Cnd_DistShip = inside, Player, rh_kgb_jg_to_rh_mnh, 2000
Act_LockDock = Player, rh_kgb_jg_to_rh_mnh, unlock
Act_SetNNObj = nn_kgb_to_rh_mnh
Act_PlayerCanDock = false, rh_kgb_jg_to_rh_mnh
Act_NagOff = nn_kgb_to_rh_mnh_fly
Act_NagDistLeaving = nn_kgb_to_rh_mnh, nag_voice, rh_kgb_jg_to_rh_mnh, 90003, 1000, NAG_ALWAYS
Act_RandomPop = false
Act_ActTrig = welcome_to_mnh

[Trigger]
nickname = welcome_to_mnh
Cnd_NPCSystemEnter = rh_mnh, hassler, punisher1, Player
Act_RandomPop = false
Act_NagOff = nn_kgb_to_rh_mnh
Act_LockDock = Player, rh_kgb_jg_to_rh_mnh, lock
Act_ActTrig = mnh_welcome_wait_complete

[Trigger]
nickname = mnh_welcome_wait_complete
Cnd_Timer = 1
Act_ActTrig = munchen_dialog
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_GiveObjList = Player, punishers_follow_player

[Trigger]
nickname = munchen_dialog
Cnd_True = no_params
;Player: We lost them
Act_EtherComm = echo_m03_player, 150183, Player, dx_m03_0310_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = init_ASTDOCK

[Trigger]
nickname = init_ASTDOCK
Cnd_CommComplete = dx_m03_0310_trent
;Hassler: i don't know. go to nearest base
Act_EtherComm = echo_m03, 150184, Player, dx_m03_0320_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_SetNNObj = nn_final_base_fly
Act_NagDistTowards = OBJ, nn_final_base_fly, nag_voice, rh_mnh_03, 90001, 4000, NAG_ALWAYS
Act_ActTrig = ASTDOCK_CLOSE
Act_ActTrig = on_ASTBASE

[Trigger]
nickname = ASTDOCK_CLOSE
Cnd_DistShip = inside, Player, rh_mnh_03, 1500
Act_PlayMusic = music_omega_space, music_omega_danger, music_omega_battle, music_victory, 1, true
Act_SetVibeOfferBaseHack = rh_mnh_03

Act_GiveObjList = Player, force_stop
Act_SetNNObj = nn_final_base
Act_PlayerCanDock = false, rh_mnh_03
Act_NagOff = nn_final_base_fly
Act_NagDistLeaving = nn_final_base, nag_voice, rh_mnh_03, 90004, 4000, NAG_ALWAYS
Act_SetRep = Player, <class 'universe.faction.WorkaroundPirate'>, 0
Act_ActTrig = remove_punishers_formation

[Trigger]
nickname = on_ASTBASE
Cnd_BaseEnter = rh_mnh_03_base
Act_AddRTC = missions\m03\team_msn.ini
Act_NagOff = astdock
Act_ActTrig = loc_enter_Deck
repeatable = true

[Trigger]
nickname = loc_enter_Deck
Cnd_LocEnter = Deck, rh_mnh_03_base
Act_AdjAcct = 7500
Act_ActTrig = MSN_REP_AFTER
Act_ChangeState = SUCCEED


[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, co_grp, -0.9
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, rx_grp, -0.3
Act_SetRep = Player, pi_grp, -0.3
Act_SetRep = Player, edv_grp, 0
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = REP_HOTFIX
Cnd_True = no_params
Act_SetRep = Player, fc_lr_grp, -0.8
Act_SetVibeOfferBaseHack = rh_mnh_03
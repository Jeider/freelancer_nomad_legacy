;MISSION 3
[Mission]
npc_ship_file = missions\m03\npcships.ini


;--------------------------------

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
Break_formation = no_params

[;

;NN OBJS DEMO

;vendor part
m3_dock_on_starke = 021885
m3_find_vendor_in_bar = 021886

;sig8 part
m3_go_to_fleet = 021889
m3_go_to_sp01_jumphole = 021890
m3_wait_for_jumhole_activated = 021891
m3_jump_to_sp01 = 021892

;shield timer part
m3_go_to_freeport = 021894
m3_go_to_generator1 = 021895
m3_destroy_generator1 = 021896
m3_go_to_generator2 = 021897
m3_destroy_generator2 = 021898

;chase part
m3_go_to_deidrich = 021900
m3_destroy_deidrich = 021901

;escape part
m3_go_to_freighter_waypoint = 021903
m3_go_to_munchen_jumpgate = 021904
m3_jump_to_munchen = 021905

;final part
m3_dock_on_asteroid = 021907
m3_find_hassler_in_bar = 021908

;generic
m3_launch_to_space = 021911
m3_destroy_corsairs = 021912
m3_destroy_enemies = 021913



[NNObjective]
nickname = m3_dock_on_starke
state = HIDDEN
type = rep_inst, sig8, 021885, 021885, -26500, 0, -20500, sig8_01

[NNObjective]
nickname = m3_find_vendor_in_bar
state = HIDDEN
type = ids, 021886
;--------------------------
[NNObjective]
nickname = m3_go_to_fleet
state = HIDDEN
type = navmarker, sig8, 021889, 021889, 5000, 0, -45000

[NNObjective]
nickname = m3_go_to_sp01_jumphole
state = HIDDEN
type = navmarker, sig8, 021890, 021890, 35000, 0, -50000

[NNObjective]
nickname = m3_wait_for_jumhole_activated
state = HIDDEN
type = ids, 021891

[NNObjective]
nickname = m3_jump_to_sp01
state = HIDDEN
type = rep_inst, sig8, 021892, 021892, 35000, 0, -50000, sig8_to_sp1
;--------------------------
[NNObjective]
nickname = m3_go_to_freeport
state = HIDDEN
type = rep_inst, msn3_sys, 021894, 021894, 25000, -20000, -40000, SP01_Freeport

[NNObjective]
nickname = m3_go_to_generator1
state = HIDDEN
type = rep_inst, msn3_sys, 021895, 021895, 25000, -20000, -45180, m3_generator2

[NNObjective]
nickname = m3_destroy_generator1
state = HIDDEN
type = rep_inst, msn3_sys, 021896, 021896, 25000, -20000, -45180, m3_generator2

[NNObjective]
nickname = m3_go_to_generator2
state = HIDDEN
type = rep_inst, msn3_sys, 021897, 021897, 25000, -20000, -34820, m3_generator

[NNObjective]
nickname = m3_destroy_generator2
state = HIDDEN
type = rep_inst, msn3_sys, 021898, 021898, 25000, -20000, -34820, m3_generator
;--------------------------
[NNObjective]
nickname = m3_go_to_deidrich
state = HIDDEN
type = ids, 021900

[NNObjective]
nickname = m3_destroy_deidrich
state = HIDDEN
type = ids, 021901
;--------------------------
[NNObjective]
nickname = m3_go_to_freighter_waypoint
state = HIDDEN
type = navmarker, msn3_sys, 021903, 021903, -2000, -20000, -42000

[NNObjective]
nickname = m3_go_to_munchen_jumpgate
state = HIDDEN
type = navmarker, msn3_sys, 021904, 021904, -15000, -23000, -40000, sp1_to_mnh

[NNObjective]
nickname = m3_jump_to_munchen
state = HIDDEN
type = navmarker, msn3_sys, 021905, 021905, -15000, -23000, -40000, sp1_to_mnh
;--------------------------
[NNObjective]
nickname = m3_dock_on_asteroid
state = HIDDEN
type = navmarker, rh_mnh, 021907, 021907, -15000, -23000, -40000, rh_mnh_03

[NNObjective]
nickname = m3_find_hassler_in_bar
state = HIDDEN
type = ids, 021908

;GENERIC

[NNObjective]
nickname = m3_launch_to_space
state = HIDDEN
type = ids, 021911

[NNObjective]
nickname = m3_destroy_corsairs
state = HIDDEN
type = ids, 021912

[NNObjective]
nickname = m3_destroy_enemies
state = HIDDEN
type = ids, 021913



[Trigger]
nickname = debug_test
Cnd_True = no_params
;InitState = ACTIVE


[;

Act_EtherComm = nn_mod, 025230, Player, m3_timer_ten, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_nine, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_eight, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_seven, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_six, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_five, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_four, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_three, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_two, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_one, -1, no_head, robot_body_E
Act_EtherComm = nn_mod, 025230, Player, m3_timer_last, -1, no_head, robot_body_E






;---- NN OBJECTIVES

[NNObjective]
nickname = ms3_00_dock_on_bizmark
state = HIDDEN
type = rep_inst, rh_biz, 021885, 021885, 41956, 0, 9796, BIZMARK_dock_ring

[NNObjective]
nickname = ms3_01_find_wilham_in_bar
state = HIDDEN
type = ids, 021886

[NNObjective]
nickname = ms3_02_launch_to_space
state = HIDDEN
type = ids, 021887

[NNObjective]
nickname = ms3_03_jump_to_sig8
state = HIDDEN
type = rep_inst, rh_biz, 021888, 021888, 46000, 5000, -25000, biz_to_sig8

[NNObjective]
nickname = ms3_04_go_to_large_station
state = HIDDEN
type = rep_inst, sig8, 021889, 021889, -26500, 0, -20500, sig8_01

[NNObjective]
nickname = ms3_05_join_hassler_formation
state = HIDDEN
type = ids, 021890

[NNObjective]
nickname = ms3_06_follow_hassler
state = HIDDEN
type = navmarker, sig8, 021891, 021891, 33200, 0, -18200

[NNObjective]
nickname = ms3_07_find_trader
state = HIDDEN
type = navmarker, sig8, 021892, 021892, 33200, -5000, -25000

[NNObjective]
nickname = ms3_08_defend_trader
state = HIDDEN
type = ids, 021893

[NNObjective] 
nickname = ms3_09_find_corsair_path_1
state = HIDDEN
type = navmarker, sig8, 021894, 021894, 55500, 0, -23250

[NNObjective]
nickname = ms3_10_find_corsair_path_2
state = HIDDEN
type = navmarker, sig8, 021895, 021895, 54800, -7000, -45000

[NNObjective]
nickname = ms3_11_find_corsair_path_3
state = HIDDEN
type = navmarker, sig8, 021896, 021896, 33700, -12500, -42000

[NNObjective]
nickname = ms3_12_find_corsair_jumphole
state = HIDDEN
type = navmarker, sig8, 021897, 021897, 33200, -20000, -50000

[NNObjective]
nickname = ms3_13_destroy_corsairs
state = HIDDEN
type = ids, 021898

[NNObjective]
nickname = ms3_14_find_communications
state = HIDDEN
type = rep_inst, msn3_sys, 021899, 021899, 30000, -17000, -14000, SP01_radar_center

[NNObjective]
nickname = ms3_15_destroy_corsairs
state = HIDDEN
type = ids, 021900

[NNObjective]
nickname = ms3_16_find_generators
state = HIDDEN
type = navmarker, msn3_sys, 021901, 021901, 25000, -20260, -24820

[NNObjective]
nickname = ms3_17_destroy_generators
state = HIDDEN
type = rep_inst, msn3_sys, 021902, 021902, 25000, -20260, -24820, m3_generator

[NNObjective]
nickname = ms3_18_goto_gunship
state = HIDDEN
type = navmarker, msn3_sys, 021903, 021903, 22000, -20260, -28820

[NNObjective]
nickname = ms3_19_attack_freeport
state = HIDDEN
type = rep_inst, msn3_sys, 021904, 021904, 25000, -20000, -40000, SP01_Freeport

[NNObjective]
nickname = ms3_20_escape_from_battle
state = HIDDEN
type = navmarker, msn3_sys, 021905, 021905, 14000, -20000, -40000

[NNObjective]
nickname = ms3_21_follow_rockford
state = HIDDEN
type = ids, 021906

[NNObjective]
nickname = ms3_22_jump_to_munchen
state = HIDDEN
type = navmarker, msn3_sys, 021907, 021907, -15000, -23000, -40000, SP1_TO_MNH

[NNObjective]
nickname = ms3_23_dock_on_outcast_astbase
state = HIDDEN
type = navmarker, rh_mnh, 021908, 021908, 40000, 0, -75000, rh_mnh_03

[NNObjective]
nickname = ms3_24_find_outcast_informer
state = HIDDEN
type = ids, 021908




;---- COMMHELMET

[Trigger]
nickname = comm_wilham_vendor
Cnd_True = no_params
Act_EtherComm = king, 216033, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body

[Trigger]
nickname = comm_wilham
Cnd_True = no_params
Act_EtherComm = king, 216033, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

;---- INIT MISSION

[Trigger]
nickname = init_ms3
Cnd_True = no_params
;InitState = ACTIVE
Act_ActTrig = ms3_first_message_not_in_space
Act_ActTrig = ms3_first_message_in_space
Act_ActTrig = ms3_first_message_on_planet
Act_ActTrig = ms3_bizmark_open_together
Act_ActTrig = ms3_first_dock_on_Bizmark
Act_SetNNObj = ms3_00_dock_on_bizmark

[Trigger]
nickname = ms3_first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = ms3_first_message_in_space

[Trigger]
nickname = ms3_first_message_in_space
Cnd_InSpace = true
Act_ActTrig = comm_wilham_vendor
Act_ActTrig = ms3_fist_popup_dialog
Act_DeActTrig = ms3_first_message_on_planet

[Trigger]
nickname = ms3_first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = comm_wilham_vendor
Act_ActTrig = ms3_fist_popup_dialog
Act_DeActTrig = ms3_first_message_in_space

[Trigger]
nickname = ms3_bizmark_open_together
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = BIZMARK_dock_ring

[Trigger]
nickname = ms3_fist_popup_dialog
Cnd_Timer = 2
Act_Popupdialog = 216034, 024899, CLOSE

;-------------------------

[Trigger]
nickname = ms3_first_dock_on_Bizmark
Cnd_LocEnter = Cityscape, bizmark_base
Act_SetNNObj = ms3_01_find_wilham_in_bar
Act_ActTrig = ms3_create_wilham_vendor

;---msn03_vendor

[Trigger]
nickname = ms3_create_wilham_vendor
system = rh_biz
Cnd_LocEnter = Bar, bizmark_base
Act_AddRTC = missions\m03\wilham.ini
Act_ActTrig = ms3_create_wilham_msn

[Trigger]
nickname = ms3_create_wilham_msn
system = rh_biz
Cnd_Timer = 0.7
Act_AddRTC = missions\m03\wilham_msn.ini
Act_ActTrig = ms3_do_accept
repeatable = true

[Trigger]
nickname = ms3_do_accept
system = rh_biz
Cnd_MsnResponse = accept
Act_NNIds = 030112, HISTORY
Act_DeactTrig = ms3_create_wilham_vendor
Act_DeactTrig = ms3_create_wilham_msn
Act_RemoveRTC = missions\m03\wilham.ini
Act_RemoveRTC = missions\m03\wilham_msn.ini
Act_PlayerCanDock = false
Act_SetOffer = 021878
Act_ActTrig = ms3_launch_create_wilham
Act_ActTrig = ms3_launch_complete
Act_SetNNObj = ms3_02_launch_to_space

Act_DeActTrig = ms3_first_message_in_space
Act_DeActTrig = ms3_first_message_not_in_space
Act_DeActTrig = ms3_first_message_on_planet
Act_DeActTrig = ms3_first_dock_on_Bizmark
;------------------------------------

[NPC] 
nickname = npc_wilham
affiliation = rh_grp
npc_ship_arch = ms3_wilham_ship
space_costume = rh_wilham_head, rh_wilham_body, comm_rh_wilham
individual_name = 216033

[MsnShip]
nickname = ms3_wilham
NPC = npc_wilham
jumper = true
label = ms3_ally
rel_pos = 20, Player, 20, -50

[MsnShip]
nickname = ms3_wilham_form
NPC = npc_wilham
jumper = true
label = ms3_ally
;===
[ObjList]
nickname = wilham_follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 150, -70, 50, -100, 50000 

;-------------------------

[Trigger]
nickname = ms3_launch_create_wilham
Cnd_InSpace = true
Act_SpawnShip = ms3_wilham
Act_CallThorn = missions\m03\m03_survivor2.thn, ms3_wilham
;THORN TEST
;Act_CallThorn = missions\m03\m03_survivor3.thn, Player 

;Act_Invulnerable = ms2_wilham, true, false, 0.590000
[;
m03_rfighter_encounter.thn   ;Справа сзади
m03_rfighter_end.thn  ;тож самое
m03_rfighter_response.thn ;чуть дальше - слева спереди 
m03_survivor1.thn ;спереди справа сверху
m03_survivor2.thn ;слева сзади - коротко
m03_survivor3.thn ;морда корабля - оч близко - коротко

[Trigger]
nickname = ms3_launch_complete
Cnd_LaunchComplete = Player
Act_GiveObjList = ms3_wilham, wilham_follow_player
Act_MarkObj = ms3_wilham, 1
Act_SetVibeLblToShip = ms3_ally, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, ms3_ally, REP_FRIEND_THRESHOLD
Act_ActTrig = ms3_after_launch_revert

[Trigger]
nickname = ms3_after_launch_revert
Cnd_Timer = 2.5
Act_RevertCam = no_params
Act_ActTrig = ms3_first_launch_comm_wilham_01

[Trigger]
nickname = ms3_first_launch_comm_wilham_01
Cnd_Timer = 3
Act_EtherComm = echo, 024976, Player, DX_M01_1111_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = ms3_first_launch_popup_wilham_01

[Trigger]
nickname = ms3_first_launch_popup_wilham_01
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_03_jump_to_sig8
Act_PlayerCanDock = false, biz_to_sig8
Act_ActTrig = ms3_welcome_to_sigma8

;-------------------

;------<HASSLER>
[NPC] 
nickname = npc_hassler
affiliation = rh_grp
npc_ship_arch = ms3_hassler_ship
individual_name = 216049

[MsnShip]
nickname = ms3_hassler
NPC = npc_hassler
jumper = true
label = wing
position = -25560, -250, -21180

;------<WINGMAN ELITE>

[NPC] 
nickname = npc_wingman_re01
affiliation = rh_grp
npc_ship_arch = ms3_wingman_elite
individual_name = 217115

[NPC] 
nickname = npc_wingman_re02
affiliation = rh_grp
npc_ship_arch = ms3_wingman_elite
individual_name = 217116

[NPC] ;ROLAND
nickname = npc_wingman_re03
affiliation = rh_grp
npc_ship_arch = ms3_wingman_elite
individual_name = 217117

[MsnShip]
nickname = wingman_re01
NPC = npc_wingman_re01
jumper = true
label = wing

[MsnShip]
nickname = wingman_re02
NPC = npc_wingman_re02
jumper = true
label = wing

[MsnShip] ;ROLAND
nickname = wingman_re03
NPC = npc_wingman_re03
jumper = true
label = wing

[MsnShip] ;ROLAND
nickname = wingman_re03_msn3
NPC = npc_wingman_re03
jumper = true
label = wing

;------<WINGMAN FIGHTER>

[NPC] 
nickname = npc_wingman_rf01
affiliation = rh_grp
npc_ship_arch = ms3_wingman_fighter
individual_name = 217118

[NPC] 
nickname = npc_wingman_rf02
affiliation = rh_grp
npc_ship_arch = ms3_wingman_fighter
individual_name = 217119

[MsnShip]
nickname = wingman_rf01
NPC = npc_wingman_rf01
jumper = true
label = wing

[MsnShip]
nickname = wingman_rf02
NPC = npc_wingman_rf02
jumper = true
label = wing

;------<WINGMAN GUNBOAT>

[NPC]
nickname = rh_gunboat_m3
affiliation = rh_grp
npc_ship_arch = ms3_rh_gunship
space_costume = rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
individual_name = 216060
voice = pilot_f_mil_m01

[MsnShip]
nickname = wingman_gb_msn3
NPC = rh_gunboat_m3
jumper = true
label = wing

;--------------------------

[MsnFormation]
nickname = ms3_hasslerwing
position = -25160, -300, -21180
orientation = 0.0, 0.0, 180.0
formation = ms3_rh_wing01
ship = ms3_hassler
ship = wingman_re01
ship = wingman_re02
ship = wingman_rf01
ship = wingman_rf02

[MsnFormation]
nickname = ms3_wilhamwing
position = -24160, -460, -20770
orientation = 0.0, 0.0, 180.0
formation = ms3_rh_wing02
ship = wingman_gb
ship = wingman_re03




[ObjList]
nickname = join_rh_wing_formation
Delay = 1
;MakeNewFormation = wingman_gb, ms3_rh_wing02
Break_formation = no_params
follow = wingman_gb, 50, 0, -160, 0, 50000 

;---------------------------

[Trigger]
nickname = ms3_welcome_to_sigma8
Cnd_SystemEnter = sig8
Act_RandomPop = false

Act_ActTrig = ms3_around_starke01_create_wing
Act_ActTrig = ms3_around_starke02
Act_ActTrig = ms3_init_waiting_AFP

[Trigger]
nickname = ms3_init_waiting_AFP
Cnd_DistShip = inside, Player, ms3_wilham, 5000
Act_GiveObjList = ms3_wilham, wilham_follow_player
Act_ActTrig = ms3_sig8_first_comm

[Trigger]
nickname = ms3_sig8_first_comm
Cnd_timer = 2
Act_EtherComm = echo, 024977, Player, DX_M01_1111_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = init_getting_msn_fly_to_starke

[Trigger]
nickname = init_getting_msn_fly_to_starke
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_04_go_to_large_station

[Trigger]
nickname = ms3_around_starke01_create_wing
Cnd_DistShip = inside, Player, sig8_01, 10000
Act_SpawnFormation = ms3_hasslerwing
Act_SpawnFormation = ms3_wilhamwing

[Trigger]
nickname = ms3_around_starke02
Cnd_DistShip = inside, Player, sig8_01, 2000
Act_MarkObj = ms3_hassler, 1
;HASSLER ECHO
Act_EtherComm = echo, 024978, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Act_EtherComm = echo, 024977, Player, DX_M01_1111_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = ms3_starke_hassler_ends_comm

[Trigger]
nickname = ms3_starke_hassler_ends_comm
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = ms3_if_player_join_form
Act_SetNNObj = ms3_05_join_hassler_formation
Act_ActTrig = ms3_starke_if_player_join_formation

[Trigger]
nickname = ms3_starke_if_player_join_formation
Cnd_PlayerManeuver = Formation, ms3_hassler
;HASSLER ECHO
Act_EtherComm = echo, 024979, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_LockManeuvers = true
Act_SetNNObj = ms3_06_follow_hassler
Act_GiveObjList = ms3_hassler, hasslar_and_go_to_point_A
Act_GiveObjList = wingman_gb, hasslar_and_go_to_point_B
Act_GiveObjList = ms3_wilham, join_rh_wing_formation
Act_ActTrig = ms3_starke_reichman_words_on_way
Act_ActTrig = ms3_pointA_in_point
Act_SetVibeLblToShip = wing, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, wing, REP_FRIEND_THRESHOLD

[ObjList]
nickname = hasslar_and_go_to_point_A
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 33200, 0, -18200, 100, true
	
[ObjList]
nickname = hasslar_and_go_to_point_B
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 33200, 0, -17900, 100, true

[ObjList]
nickname = hassler_and_go_to_point_B ;to trader
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 33200, -5000, -25000, 100, true

[ObjList]
nickname = hassler_and_go_to_point_B_slow ;to trader
SetPriority = ALWAYS_EXECUTE
GotoVec = goto, 33200, -5000, -25000, 100, true

[Trigger]
nickname = ms3_starke_reichman_words_on_way
Cnd_Timer = 50
;REICHMAN ECHO
Act_EtherComm = echo, 024980, Player, DX_M01_0000_ECHO, -1, rh_reichman_head, rh_reichman_body 
;HASSLER ECHO
Act_EtherComm = echo, 024981, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[Trigger]
nickname = ms3_pointA_in_point
Cnd_DistVec = inside, Player,  33200, 0, -18500, 500 
;HASSLER ECHO
Act_EtherComm = echo, 024982, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;ROLAND ECHO
Act_EtherComm = echo, 024983, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_pointA_first_echo_ends

[Trigger]
nickname = ms3_pointA_first_echo_ends
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = ms3_pointA_second_echo

[Trigger]
nickname = ms3_pointA_second_echo
Cnd_Timer = 1
;TRADER ECHO
Act_EtherComm = echo_female, 024984, Player, DX_M01_1111_ECHO, -1, br_kaitlyn_head, sc_female1_body
Act_ActTrig = ms3_pointA_living_echo
;umark wilham
Act_MarkObj = ms3_wilham, 0

[Trigger]
nickname = ms3_pointA_living_echo
Cnd_CommComplete = DX_M01_1111_ECHO
;HASSLER ECHO
Act_EtherComm = echo, 024985, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;HASSLER ECHO
Act_EtherComm = echo, 024986, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_SetNNObj = ms3_07_find_trader
Act_GiveObjList = ms3_hassler, hassler_and_go_to_point_B
Act_ActTrig = ms3_pointB_around
Act_SpawnShip = ms3_trader

[Trigger]
nickname = ms3_pointB_around
Cnd_DistShip = inside, Player, ms3_trader, 5000
;Cnd_DistVec = inside, Player, 33200, -5000, -25000, 6000 
Act_SpawnShip = ms3_corsairA01
Act_SpawnShip = ms3_corsairA02
Act_SpawnShip = ms3_corsairA03
Act_SpawnShip = ms3_corsairA04
Act_SpawnShip = ms3_corsairA05
Act_LockManeuvers = false
;TRADER ECHO
Act_EtherComm = echo_female, 024987, Player, DX_M01_0000_ECHO, -1, br_kaitlyn_head, sc_female1_body
;HASSLER ECHO
Act_EtherComm = echo, 024988, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;CORSAIR ECHO
Act_EtherComm = echo, 024989, Player, DX_M01_1111_ECHO, -1, br_quigly_head, pi_pirate4_body, comm_pi_pirate
Act_SetNNObj = ms3_08_defend_trader
Act_ActTrig = ms3_pointB_corsairs_destroyed
Act_ActTrig = ms3_pointB_init_battle
;mark pointB objects
Act_MarkObj = ms3_trader, 1
Act_MarkObj = ms3_corsairA01, 1
Act_MarkObj = ms3_corsairA02, 1
Act_MarkObj = ms3_corsairA03, 1
Act_MarkObj = ms3_corsairA04, 1
Act_MarkObj = ms3_corsairA05, 1

[Trigger]
nickname = ms3_pointB_init_battle
Cnd_DistShip = inside, Player, ms3_trader, 2800
Act_GiveObjList = ms3_hassler, unform
Act_GiveObjList = Player, unform
Act_GiveObjList = Player, force_stop


[;
- LOADOUTS <
- GO TO STARKE
- SAYS WITH HASSLER
- FOLLOW HASSLER

;TRANSPORTS

[NPC] 
nickname = npc_trader_main
affiliation = tr_grp
npc_ship_arch = ms3_ally_transport
individual_name = 216061

[MsnShip]
nickname = ms3_trader
NPC = npc_trader_main
jumper = false
label = trader
position = 33200, -5000, -25000

[NPC] 
nickname = npc_ms3_corsairA01
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairA02
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairA03
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairA04
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy
individual_name = 216061

[NPC] 
nickname = npc_ms3_corsairA05
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[MsnShip]
nickname = ms3_corsairA01
NPC = npc_ms3_corsairA01
label = co_assault
random_name = true
rel_pos = 75, ms3_trader, 1500

[MsnShip]
nickname = ms3_corsairA02
NPC = npc_ms3_corsairA02
label = co_assault
random_name = true
rel_pos = 120, ms3_trader, 1500

[MsnShip]
nickname = ms3_corsairA03
NPC = npc_ms3_corsairA03
label = co_assault
random_name = true
rel_pos = 180, ms3_trader, 1500

[MsnShip]
nickname = ms3_corsairA04
NPC = npc_ms3_corsairA04
label = co_assault
random_name = true
rel_pos = 240, ms3_trader, 1500

[MsnShip]
nickname = ms3_corsairA05
NPC = npc_ms3_corsairA05
label = co_assault
random_name = true
rel_pos = 290, ms3_trader, 1500

[Trigger]
nickname = ms3_pointB_corsairs_destroyed
Cnd_Destroyed = co_assault, 5
;TRADER ECHO
Act_EtherComm = echo_female, 024990, Player, DX_M01_0000_ECHO, -1, br_kaitlyn_head, sc_female1_body
Act_ActTrig = ms3_pointB_joinform_objective

;HASSLER ECHO
Act_EtherComm = echo, 024991, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_pointB_wait_for_end_comms

[Trigger]
nickname = ms3_pointB_joinform_objective
Cnd_CommComplete = DX_M01_0000_ECHO
Act_SetNNObj = ms3_05_join_hassler_formation
Act_ActTrig = ms3_pointB_form_joined

[Trigger]
nickname = ms3_pointB_form_joined
Cnd_PlayerManeuver = Formation, ms3_hassler
Act_LockManeuvers = true
Act_ActTrig = ms3_pointB_wait_for_end_comms

[Trigger]
nickname = ms3_pointB_wait_for_end_comms
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_09_find_corsair_path_1
Act_GiveObjList = ms3_hassler, hassler_and_go_on_path_1
Act_ActTrig = ms3_end_path_1
;unmark pointB objects
Act_MarkObj = ms3_trader, 0

;;;Cnd_DistVec = inside, Player,  33200, 0, -18500, 500 
;---objlist

[ObjList]
nickname = hassler_and_go_on_path_1
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 55500, 0, -23250, 100, true

[ObjList]
nickname = hassler_and_go_on_path_2
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 54800, -7000, -45000, 100, true

[ObjList]
nickname = hassler_and_go_on_path_3
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 33700, -12500, -42000, 100, true	

[ObjList]
nickname = hassler_and_go_to_co_jumphole
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 33200, -20000, -50000, 700, true	

;---

[Trigger]
nickname = ms3_end_path_1
Cnd_DistVec = inside, ms3_hassler, 55500, 0, -23250, 1000
;HASSLER ECHO
Act_EtherComm = echo, 024992, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;ROLAND ECHO
Act_EtherComm = echo, 024993, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_end_path_1_wait_end_echo

[Trigger]
nickname = ms3_end_path_1_wait_end_echo
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_10_find_corsair_path_2
Act_GiveObjList = ms3_hassler, hassler_and_go_on_path_2
Act_ActTrig = ms3_end_path_2

[Trigger]
nickname = ms3_end_path_2
Cnd_DistVec = inside, ms3_hassler, 54800, -7000, -45000, 1000
;ROLAND ECHO
Act_EtherComm = echo, 024994, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_end_path_2_wait_end_echo

[Trigger]
nickname = ms3_end_path_2_wait_end_echo
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_11_find_corsair_path_3
Act_GiveObjList = ms3_hassler, hassler_and_go_on_path_3
Act_ActTrig = ms3_end_path_3

[Trigger]
nickname = ms3_end_path_3
Cnd_DistVec = inside, ms3_hassler, 33700, -12500, -42000, 1000
;HASSLER ECHO
Act_EtherComm = echo, 024995, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;ROLAND ECHO
Act_EtherComm = echo, 024996, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_end_path_3_wait_end_echo

[Trigger]
nickname = ms3_end_path_3_wait_end_echo
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_12_find_corsair_jumphole
Act_GiveObjList = ms3_hassler, hassler_and_go_to_co_jumphole
Act_ActTrig = ms3_around_co_jumphole

[Trigger]
nickname = ms3_around_co_jumphole
Cnd_DistVec = inside, ms3_hassler, 33200, -20000, -50000, 1200
;HASSLER ECHO
Act_EtherComm = echo, 024997, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_co_jump_end_first_comm

[Trigger]
nickname = ms3_co_jump_end_first_comm
Cnd_CommComplete = DX_M01_1111_ECHO
Act_GiveObjList = wingman_re01, unform
Act_GiveObjList = wingman_re02, unform
Act_GiveObjList = wingman_rf01, unform
Act_GiveObjList = wingman_rf02, unform
Act_GiveObjList = ms3_hassler, unform
Act_GiveObjList = Player, unform
Act_EnableManeuver = formation, false
Act_LockManeuvers = false
Act_ActTrig = ms3_co_jump_init_fx
;fix NPC JUMP problem
Act_Jumper = ms3_wilham, false
Act_Jumper = wingman_gb, false
Act_Jumper = wingman_re03, false
Act_Jumper = ms3_trader, false

[Trigger]
nickname = ms3_co_jump_init_fx
Cnd_Timer = 5
;RUN FX
Act_LightFuse = SIG8_TO_SP1, msn03_co_jumphole_initiation
;RH_GUARD ECHO
Act_EtherComm = echo, 024999, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;HASSLER ECHO
Act_EtherComm = echo, 025000, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_sig8_more_fx
Act_ActTrig = ms3_sig8_end_last_dlg

[Trigger]
nickname = ms3_sig8_more_fx
Cnd_CommComplete = DX_M01_0000_ECHO
Act_LightFuse = SIG8_TO_SP1, msn03_co_jumphole_initiation

[Trigger]
nickname = ms3_sig8_end_last_dlg
Cnd_CommComplete = DX_M01_1111_ECHO
Act_PlayerCanDock = false, SIG8_TO_SP1
Act_ActTrig = ms3_jump_to_msn3_sys
Act_ActTrig = ms3_welcome_to_kenigsberg

[Trigger]
nickname = ms3_jump_to_msn3_sys
Cnd_Timer = 1
Act_GiveObjList = Player, ms3_do_jump

;---objective list

[ObjList] 
nickname = ms3_do_jump
BreakFormation = no_params
Dock = SIG8_TO_SP1
;--

;---enemy around jumpgate

[NPC] 
nickname = npc_ms3_corsairB01
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairB02
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairB03
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[NPC] 
nickname = npc_ms3_corsairB04
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy
individual_name = 216061

[NPC] 
nickname = npc_ms3_corsairB05
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_easy

[MsnShip]
nickname = ms3_corsairB01
NPC = npc_ms3_corsairB01
label = co_welcome
random_name = true
rel_pos = 75, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB02
NPC = npc_ms3_corsairB02
label = co_welcome
random_name = true
rel_pos = 120, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB03
NPC = npc_ms3_corsairB03
label = co_welcome
random_name = true
rel_pos = 180, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB04
NPC = npc_ms3_corsairB04
label = co_welcome
random_name = true
rel_pos = 240, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB05
NPC = npc_ms3_corsairB05
label = co_welcome
random_name = true
rel_pos = 290, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB11
NPC = npc_ms3_corsairB01
label = co_welcome
random_name = true
rel_pos = 75, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB12
NPC = npc_ms3_corsairB02
label = co_welcome
random_name = true
rel_pos = 120, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB13
NPC = npc_ms3_corsairB03
label = co_welcome
random_name = true
rel_pos = 180, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB14
NPC = npc_ms3_corsairB04
label = co_welcome
random_name = true
rel_pos = 240, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairB15
NPC = npc_ms3_corsairB05
label = co_welcome
random_name = true
rel_pos = 290, ms3_hassler, 1500

[MsnShip]
nickname = ms3_corsairC01
NPC = npc_ms3_corsairB01
label = co_generator
random_name = true
position = 24500, -19750, -27450
orientation = 1, 0, 1, 0

[MsnShip]
nickname = ms3_corsairC02
NPC = npc_ms3_corsairB02
label = co_generator
random_name = true
position = 23500, -19250, -27450
orientation = 1, 0, 1, 0

[MsnShip]
nickname = ms3_corsairC03
NPC = npc_ms3_corsairB03
label = co_generator
random_name = true
position = 25500, -20250, -27450
orientation = 1, 0, 1, 0

[MsnShip]
nickname = ms3_corsairC04
NPC = npc_ms3_corsairB04
label = co_generator
random_name = true
position = 23800, -19750, -27450
orientation = 1, 0, 1, 0

[MsnShip]
nickname = ms3_corsairC05
NPC = npc_ms3_corsairB05
label = co_generator
random_name = true
position = 25200, -19750, -27450
orientation = 1, 0, 1, 0

[MsnShip]
nickname = ms3_corsairCReinf01
NPC = npc_ms3_corsairB01
label = co_generator
random_name = true
rel_pos = 180, Player, 2000

[MsnShip]
nickname = ms3_corsairCReinf02
NPC = npc_ms3_corsairB01
label = co_generator
random_name = true
rel_pos = -180, Player, 2000


;-----------

[Trigger]
nickname = ms3_welcome_to_kenigsberg
Cnd_SystemEnter = msn3_sys
Act_ActTrig = ms3_kgb_wait_for_player

[Trigger]
nickname = ms3_kgb_wait_for_player
Cnd_DistShip = inside, Player, ms3_hassler, 5000
Act_ActTrig = ms3_sys_spawn_first_enemies
Act_ActTrig = ms3_sys_hassler_message

[Trigger]
nickname = ms3_sys_spawn_first_enemies
system = msn3_sys
Cnd_Timer = 1.5
Act_SpawnShip = ms3_corsairB01
Act_SpawnShip = ms3_corsairB02
Act_SpawnShip = ms3_corsairB03
Act_SpawnShip = ms3_corsairB04
Act_SpawnShip = ms3_corsairB05
Act_MarkObj = ms3_corsairB01, 1
Act_MarkObj = ms3_corsairB02, 1
Act_MarkObj = ms3_corsairB03, 1
Act_MarkObj = ms3_corsairB04, 1
Act_MarkObj = ms3_corsairB05, 1

[Trigger]
nickname = ms3_sys_hassler_message
Cnd_Timer = 2
Act_SetNNObj = ms3_13_destroy_corsairs
Act_SpawnSolar = m3_generator
Act_SpawnSolar = SP01_Freeport
;HASSLER ECHO
Act_EtherComm = echo, 025001, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;CORSAIR ECHO
Act_EtherComm = echo, 025002, Player, DX_M01_1111_ECHO, -1, br_quigly_head, pi_pirate4_body, comm_pi_pirate
Act_ActTrig = ms3_welcome_corsairs_destroyed


[Trigger]
nickname = ms3_welcome_corsairs_destroyed
Cnd_Destroyed = co_welcome, -1, ALL_IGNORE_LANDING
Act_SetNNObj = null, OBJECTIVE_HISTORY
;RH_GUARD ECHO
Act_EtherComm = echo, 025003, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;HASSLER ECHO
Act_EtherComm = echo, 025004, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;HASSLER ECHO
Act_EtherComm = echo, 025005, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_welcome_regroup

;--- join hassler formation

[ObjList]
nickname = wingman_follow_hassler
SetPriority = ALWAYS_EXECUTE
follow = ms3_hassler

[ObjList]
nickname = hassler_remake_formation
SetPriority = ALWAYS_EXECUTE
MakeNewFormation = ms3_rh_wing01

[ObjList]
nickname = hassler_travel_to_co_cruiser
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 30000, -17000, -14000, 1000, true

[ObjList]
nickname = hassler_travel_to_generators
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 25000, -20260, -24820, 1500, true

;---

[Trigger]
nickname = ms3_welcome_regroup
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_05_join_hassler_formation
Act_GiveObjList = ms3_hassler, hassler_remake_formation
Act_GiveObjList = wingman_re01, wingman_follow_hassler
Act_GiveObjList = wingman_re02, wingman_follow_hassler
Act_GiveObjList = wingman_rf01, wingman_follow_hassler
Act_GiveObjList = wingman_rf02, wingman_follow_hassler
Act_EnableManeuver = formation, true
Act_EnableManeuver = dock, true
Act_ActTrig = ms3_welcome_player_join_formation
Act_SetNNObj = ms3_05_join_hassler_formation

[Trigger]
nickname = ms3_welcome_player_join_formation
Cnd_PlayerManeuver = Formation, ms3_hassler
;RH_GUARD ECHO
Act_EtherComm = echo, 025006, Player, DX_M01_1111_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
Act_SetNNObj = ms3_14_find_communications
Act_GiveObjList = ms3_hassler, hassler_travel_to_co_cruiser
Act_ActTrig = ms3_what_is_this_system
Act_ActTrig = ms3_around_co_comsat

[Trigger] 
nickname = ms3_what_is_this_system
Cnd_Timer = 10
;Player: what is this system
Act_EtherComm = echo, 025008, Player, DX_M01_0000_ECHO, -1, pi_pirate5_head_beta, pl_male2_journeyman_body, prop_shades_03, prop_cigarette
;Hassler: it is Koenigsber
Act_EtherComm = echo, 025009, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Guardian: but out forces is not there
Act_EtherComm = echo, 025010, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;Hassler: don't panic, everything okay
Act_EtherComm = echo, 025011, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Guardian: i find communication satellite
Act_EtherComm = echo, 025012, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;Hassler: well done! We going to com sat now
Act_EtherComm = echo, 025013, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[Trigger]
nickname = ms3_around_co_comsat
Cnd_DistShip = inside, Player, SP01_radar_center, 5000
Act_SpawnShip = ms3_corsairB01
Act_SpawnShip = ms3_corsairB02
Act_SpawnShip = ms3_corsairB03
Act_SpawnShip = ms3_corsairB04
Act_SpawnShip = ms3_corsairB05
;Corsair: Warning! Invaders!
Act_EtherComm = echo, 025014, Player, DX_M01_0000_ECHO, -1, br_quigly_head, pi_pirate4_body, comm_pi_pirate
;Corsair: What???
Act_EtherComm = echo, 025015, Player, DX_M01_1111_ECHO, -1, li_scrote_head, pi_pirate2_body, comm_ge_generic1
Act_ActTrig = ms3_comsat_scan_complete
;Act_ActTrig = ms3_comsat_spawn_reinforcement


[Trigger]
nickname = ms3_comsat_spawn_reinforcements
Cnd_Timer = 40
Act_EnableEnc = corsair_attack_Enc

[Trigger]
nickname = ms3_comsat_scan_complete
Cnd_Timer = 20 ;80
Act_DisableEnc = corsair_attack_Enc
;Ullrich: scan complete
Act_EtherComm = echo, 025016, Player, DX_M01_0000_ECHO, -1, rh_captain_head, rh_male_elite_body, prop_hat_male_rh_elite
;Hassler: well done!
Act_EtherComm = echo, 025017, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_comsat_wait_for_comm_ends

[MsnRandEnc]
nickname = corsair_attack_Enc
encounter_type = SP_Attack
attacker_rep_name = co_grp
target_ship_name = Player
activation_type = time, 2, 3
formation = fighter_basic, 2, 2, 2, msn3_patroller, 300
num_forms = 1, 1
label = badguy

[Trigger]
nickname = ms3_comsat_wait_for_comm_ends
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_15_destroy_corsairs
Act_ActTrig = ms3_comsat_roland_dialog

[Trigger]
nickname = ms3_comsat_roland_dialog
Cnd_Timer = 7
;Roland: we find wormhole
Act_EtherComm = echo, 025020, Player, DX_M01_0000_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
;Hassler: good, but now we need destroy generators
Act_EtherComm = echo, 025021, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_generators_get_mission

[Trigger]
nickname = ms3_comsat_roland_dialog_end
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = ms3_generators_get_mission

;Act_Save = ms3_save_before_generators, 032310

[Trigger]
nickname = ms3_save_before_generators
Cnd_SpaceEnter = no_params
Act_ActTrig = ms3_generators_get_mission

[Trigger]
nickname = ms3_generators_get_mission
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_16_find_generators
Act_ActTrig = ms3_around_generators
Act_GiveObjList = ms3_hassler, hassler_travel_to_generators
;Guardian: what???
Act_EtherComm = echo, 025022, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;Hassler: we can defeat generators, everything okay
Act_EtherComm = echo, 025023, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[Trigger]
nickname = ms3_around_generators
Cnd_DistShip = inside, Player, m3_generator, 6000
Act_SpawnShip = ms3_corsairC01
Act_SpawnShip = ms3_corsairC02
Act_SpawnShip = ms3_corsairC03
Act_SpawnShip = ms3_corsairC04
Act_SpawnShip = ms3_corsairC05
Act_SetNNObj = ms3_17_destroy_generators

Act_ActTrig = ms3_Gen_destroy_defend
Act_ActTrig = ms3_Gen_destroy_defend_status
Act_ActTrig = ms3_around_FP7Gen_first_dlg
Act_ActTrig = ms3_destroy_generators

[Trigger]
nickname = ms3_around_FP7Gen_first_dlg
Cnd_Timer = 4
;Corsair: what a hell, rheinlands?
Act_EtherComm = echo, 025025, Player, DX_M01_0000_ECHO, -1, br_quigly_head, pi_pirate4_body, comm_pi_pirate
;Hassler: trent, destroy generators
Act_EtherComm = echo, 025026, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[Trigger]
nickname = ms3_Gen_destroy_defend
Cnd_Destroyed = co_generator, -1, ALL_IGNORE_LANDING
Act_DeactTrig = ms3_Gen_destroy_defend_status

[Trigger]
nickname = ms3_Gen_destroy_defend_status
Cnd_DistVec = inside, Player,  0, 50000, 0, 500 
Act_DeActTrig = ms3_Gen_destroy_defend

[Trigger]
nickname = ms3_destroy_generators
Cnd_Destroyed = m3_generator, 1, EXPLODE
Act_ActTrig = ms3_generator_wait_for_destroy

[Trigger]
nickname = ms3_generator_wait_for_destroy
Cnd_Timer = 2
Act_ActTrig = ms3_destroy_FP7Gen_laser_fx
Act_StaticCam = 25800, -20550, -30200, 1.0, 0.025, 0.2, 0

[Trigger]
nickname = ms3_destroy_FP7Gen_laser_fx
Cnd_Timer = 2
Act_Destroy = m3_generator_LASER, Silent
Act_ActTrig = ms3_destroy_MAIN_shieldgen_fx

[Trigger]
nickname = ms3_destroy_MAIN_shieldgen_fx
Cnd_Timer = 1
Act_Destroy = SP01_FP7_SHIELDGEN, Silent
Act_Destroy = m3_generator_Ind01, Silent
Act_Destroy = m3_generator_Ind02, Silent
Act_Destroy = m3_generator_Ind03, Silent
Act_Destroy = m3_generator_Ind04, Silent
Act_Destroy = m3_generator_Ind05, Silent
Act_Destroy = m3_generator_Ring01, Silent
Act_Destroy = m3_generator_Ring02, Silent
Act_Destroy = m3_generator_Ring03, Silent
Act_Destroy = m3_generator_Panel01, Silent
Act_Destroy = m3_generator_Panel02, Silent
Act_Destroy = m3_generator_Girder01, Silent
Act_Destroy = m3_generator_Girder02, Silent
Act_Destroy = m3_generator_Girder03, Silent
Act_Destroy = m3_generator_Girder04, Silent
Act_Destroy = m3_generator_Girder05, Silent
Act_Destroy = m3_generator_Girder06, Silent
Act_Destroy = m3_generator_Girder07, Silent
Act_Destroy = m3_generator_Girder08, Silent
Act_Destroy = m3_generator_ROOT, Silent
Act_ActTrig = ms3_destroy_MAIN_shield_fx

[Trigger]
nickname = ms3_destroy_MAIN_shield_fx
Cnd_Timer = 1
Act_Destroy = SP01_FP7_SHIELD, Silent
Act_ActTrig = ms3_spawn_shield01

[Trigger]
nickname = ms3_spawn_shield01
Cnd_Timer = 1
Act_SpawnSolar = m3_shield01
Act_ActTrig = ms3_destroy_shield01

[Trigger]
nickname = ms3_destroy_shield01
Cnd_Timer = 1
Act_Destroy = m3_shield01, Silent
Act_ActTrig = ms3_destroy_shield_stopcam
Act_MovePlayer = 25000, -20260, -24820

[Trigger]
nickname = ms3_destroy_shield_stopcam
Cnd_Timer = 3
Act_RevertCam = no_params
Act_ActTrig = ms3_destroy_shield_trent_dlg

[Trigger]
nickname = ms3_destroy_shield_trent_dlg
Cnd_Timer = 1
;Player: generator destroyed
Act_EtherComm = echo, 025027, Player, DX_M01_0000_ECHO, -1, pi_pirate5_head_beta, pl_male2_journeyman_body, prop_shades_03, prop_cigarette
;Act_ActTrig = ms3_watch_defend_destroyed
;Act_ActTrig = ms3_watch_defend_NOT_destroyed
Act_SpawnShip = ms3_corsairCReinf01
Act_SpawnShip = ms3_corsairCReinf02
Act_ActTrig = ms3_generator_reinforce_let_s_destroy


; MODERN VERSION

[Trigger]
nickname = ms3_generator_reinforce_let_s_destroy
Cnd_CommComplete = DX_M01_0000_ECHO
;Hassler: good, destroy the corsairs
Act_EtherComm = echo, 025028, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_SetNNObj = ms3_15_destroy_corsairs
Act_ActTrig = ms3_final_destroy_of_ALL_corsairs_around_gen

[Trigger]
nickname = ms3_final_destroy_of_ALL_corsairs_around_gen
Cnd_Destroyed = co_generator, -1, ALL_IGNORE_LANDING
Act_ActTrig = ms3_Roland_back_in_action

; ABSOLETE TRIGGERS 

[Trigger]
nickname = ms3_watch_defend_NOT_destroyed
Cnd_WatchTrigger  = ms3_Gen_destroy_defend_status, ON
;Hassler: good, destroy the corsairs
Act_EtherComm = echo, 025028, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_SetNNObj = ms3_15_destroy_corsairs
Act_DeactTrig = ms3_Gen_destroy_defend
Act_ActTrig = ms3_Gen_afterdeath_destroy_defend

[Trigger]
nickname = ms3_Gen_afterdeath_destroy_defend
Cnd_Destroyed = m3_generator, 1, EXPLODE
Act_ActTrig = ms3_Roland_back_in_action

[Trigger]
nickname = ms3_watch_defend_destroyed
Cnd_WatchTrigger  = ms3_Gen_destroy_defend_status, OFF
;Hassler: good, destroy the corsairs
Act_EtherComm = echo, 025029, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_watch_defend_destroyed_end

[Trigger]
nickname = ms3_watch_defend_destroyed_end
Cnd_CommComplete = DX_M01_1111_ECHO
Act_ActTrig = ms3_Roland_back_in_action



;-----------------------------

[MsnSolar]
nickname = m3_shield01
faction = co_grp
system = msn3_sys
position = 25000, -20000, -40000
orientation = 1, 0, 0, 0
archetype = sw_center_10
loadout = trading_outpost_shield_fx
base = sig8_01_base
label = storage
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = m3_generator
faction = co_grp
system = msn3_sys
position = 25000, -20260, -24820
orientation = 1, 1, 0, 0
archetype = dyson_generator
loadout = dyson_generator_msn3
base = sig8_01_base
label = generator
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = SP01_Freeport
faction = co_grp
system = msn3_sys
position = 25000, -20000, -40000
orientation = 1, 0, 1, 0
archetype = space_small_control_tower
loadout = trading_outpost_core_shieldgen
base = sig8_01_base
label = freeport
radius = 0
string_id = 217134
visit = UNKNOWABLE

[MsnSolar]
nickname = SP01_FP7_dockA_msn
faction = co_grp
system = msn3_sys
position = 24500, -19998, -40000
orientation = 1, 0, 1, 0
archetype = freeport7
base = sig8_01_base
label = freeport
radius = 0
string_id = 217134
visit = UNKNOWABLE

[MsnSolar]
nickname = ms3_platform_01
string_id = 216121
faction = co_grp
system = msn3_sys
position = 26000, -20000, -40000
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = ms3_platform_02
string_id = 216121
faction = co_grp
system = msn3_sys
position = 24000, -20000, -40000
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = ms3_platform_03
string_id = 216121
faction = co_grp
system = msn3_sys
position = 25000, -20000, -41000
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = ms3_platform_04
string_id = 216121
faction = co_grp
system = msn3_sys
position = 25000, -20000, -39000
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
radius = 0
visit = UNKNOWABLE





[MsnFormation]
nickname = ms3_wilhamwing_new
position = 22000, -20260, -28820
orientation = 1.0, 0.0, 0.5, 0
formation = ms3_rh_wing02
ship = wingman_gb_msn3
ship = wingman_re03_msn3


[ObjList]
nickname = hassler_travel_to_co_msn3_gunboat_pos
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise,22000, -20260, -28820, 500, true

[ObjList]
nickname = rh_army_attack_freeport
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, 25000, -20000, -40000, 1000, true

;-----------------------------

[Trigger]
nickname = ms3_Roland_back_in_action
Cnd_Timer = 3
Act_SpawnFormation = ms3_wilhamwing_new
;Roland: we are around you
Act_EtherComm = echo, 025030, Player, DX_M01_0000_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
;Hassler: good, we are going to you
Act_EtherComm = echo, 025031, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_hassler_go_to_roland_in_msn3_sys

[Trigger]
nickname = ms3_hassler_go_to_roland_in_msn3_sys
Cnd_CommComplete = DX_M01_1111_ECHO
Act_GiveObjList = ms3_hassler, hassler_travel_to_co_msn3_gunboat_pos
Act_SetNNObj = ms3_18_goto_gunship
Act_ActTrig = ms3_sp1_around_roland

[Trigger]
nickname = ms3_sp1_around_roland
Cnd_DistShip = inside, Player, wingman_re03_msn3, 5000
;Roland: what is a plan
Act_EtherComm = echo, 025032, Player, DX_M01_0000_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
;Hassler: we need do help for incoming cruisers
Act_EtherComm = echo, 025033, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Wilham: so do it
Act_EtherComm = echo, 025034, Player, DX_M01_1111_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = ms3_sp1_ar_roland_end_dialog
Act_SpawnSolar = ms3_platform_01
Act_SpawnSolar = ms3_platform_02
Act_SpawnSolar = ms3_platform_03
Act_SpawnSolar = ms3_platform_04

[Trigger]
nickname = ms3_sp1_ar_roland_end_dialog
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_19_attack_freeport
Act_GiveObjList = ms3_hassler, rh_army_attack_freeport
Act_GiveObjList = wingman_gb_msn3, rh_army_attack_freeport
Act_ActTrig = ms3_army_around_freeport

[Trigger]
nickname = ms3_army_around_freeport
Cnd_DistShip = inside, Player, SP01_Freeport, 6000
Act_SpawnShip = ms3_KNG_fighterA01
Act_SpawnShip = ms3_KNG_fighterA02
Act_SpawnShip = ms3_KNG_fighterA03
Act_SpawnShip = ms3_KNG_fighterA04
Act_SpawnShip = ms3_KNG_eliteA01
Act_SpawnShip = ms3_KNG_eliteA02
Act_SpawnShip = ms3_KNG_eliteA03
Act_SetNNObj = ms3_15_destroy_corsairs
;Hassler: begin attack
Act_EtherComm = echo, 025036, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Roland: i try to use torpedoes
Act_EtherComm = echo, 025037, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_fp7_co_reinforcements
Act_ActTrig = ms3_fp7_player_destroy_1_platforms
Act_ActTrig = ms3_fp7_init_battle_hassler_breakform
Act_ActTrig = ms3_fp7_init_battle_roland_breakform



[Trigger]
nickname = ms3_fp7_init_battle_hassler_breakform
Cnd_DistShip = inside, ms3_hassler, SP01_Freeport, 6000
Act_GiveObjList = ms3_hassler, unform

[Trigger]
nickname = ms3_fp7_init_battle_roland_breakform
Cnd_DistShip = inside, wingman_gb_msn3, SP01_Freeport, 6000
Act_GiveObjList = wingman_gb_msn3, unform

[Trigger]
nickname = ms3_fp7_co_reinforcements
Cnd_Destroyed = KNG_defend01, 5, ALL_IGNORE_LANDING
Act_SpawnShip = ms3_KNG_fighterB01
Act_SpawnShip = ms3_KNG_fighterB02
Act_SpawnShip = ms3_KNG_eliteB01
Act_SpawnShip = ms3_KNG_eliteB02
Act_SpawnShip = ms3_KNG_eliteB03
Act_SpawnShip = ms3_KNG_eliteB04
;Guardian: where is cruisers?
;Act_EtherComm = echo, 025039, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;Act_ActTrig = ms3_fp7_reihman_here

[Trigger]
nickname = ms3_fp7_reihman_here
Cnd_Timer = 20 ;100

;---------------------- CORSAIR WARRIORS

;FIRST DEFEND

[NPC] 
nickname = npc_ms3_mainbase_corsair_fighter
affiliation = co_grp
npc_ship_arch = ms3_corsair_fighter_hard

[NPC] 
nickname = npc_ms3_mainbase_corsair_elite
affiliation = co_grp
npc_ship_arch = ms3_corsair_elite_main

[MsnShip]
nickname = ms3_KNG_fighterA01
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
position = 25300, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_fighterA02
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
position = 25000, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_fighterA03
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
position = 24700, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_fighterA04
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
position = 24400, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_eliteA01
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
position = 25600, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_eliteA02
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
position = 25900, -19700, -39600
orientation = 1, 0, 4, 0

[MsnShip]
nickname = ms3_KNG_eliteA03
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
position = 24100, -19700, -39600
orientation = 1, 0, 4, 0

;DEFEND REINFORCEMENTS

[MsnShip]
nickname = ms3_KNG_fighterB01
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
rel_pos = 180, Player, 2500

[MsnShip]
nickname = ms3_KNG_fighterB02
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_defend01
random_name = true
rel_pos = 90, Player, 2500

[MsnShip]
nickname = ms3_KNG_eliteB01
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
rel_pos = 240, Player, 2500

[MsnShip]
nickname = ms3_KNG_eliteB02
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
rel_pos = 300, Player, 2500

[MsnShip]
nickname = ms3_KNG_eliteB03
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
rel_pos = 30, Player, 2500

[MsnShip]
nickname = ms3_KNG_eliteB04
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_defend01
random_name = true
rel_pos = -40, Player, 2500

;IT'S-A-TRAPPERS

[MsnShip]
nickname = ms3_KNG_fighterC01
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 180, Player, 4000

[MsnShip]
nickname = ms3_KNG_fighterC02
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 120, Player, 4000

[MsnShip]
nickname = ms3_KNG_fighterC03
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 90, Player, 4000

[MsnShip]
nickname = ms3_KNG_fighterC04
NPC = npc_ms3_mainbase_corsair_fighter
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 50, Player, 4000

[MsnShip]
nickname = ms3_KNG_eliteC01
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 240, Player, 4000

[MsnShip]
nickname = ms3_KNG_eliteC02
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 300, Player, 4000

[MsnShip]
nickname = ms3_KNG_eliteC03
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_it-s-a-trapper
random_name = true
rel_pos = 30, Player, 4000

[MsnShip]
nickname = ms3_KNG_eliteC04
NPC = npc_ms3_mainbase_corsair_elite
label = KNG_it-s-a-trapper
random_name = true
rel_pos = -40, Player, 4000

;THE BATTLE


[Trigger]
nickname = ms3_fp7_player_destroy_1_platforms
Cnd_Destroyed = corsair_platform, 1, ALL
;Act_SpawnSolar = SP01_FP7_dockA_msn
;Act_ActTrig = ms3_fp7_epic_death_Debug
;ROLAND: 1 is destroyed
Act_EtherComm = echo, 025039, Player, DX_M01_0000_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_fp7_player_destroy_2_platforms

[Trigger]
nickname = ms3_fp7_player_destroy_2_platforms
Cnd_Destroyed = corsair_platform, 1, ALL
;WILHAM: 2 is destroyed
Act_EtherComm = echo, 025040, Player, DX_M01_0000_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = ms3_fp7_player_destroy_3_platforms

[Trigger]
nickname = ms3_fp7_player_destroy_3_platforms
Cnd_Destroyed = corsair_platform, 1, ALL
;RH_GUARD: how long...
Act_EtherComm = echo, 025041, Player, DX_M01_0000_ECHO, -1, br_sales_head, rh_male_guard_body, prop_hat_male_rh_guard
;WILHAM: don't stop it!
Act_EtherComm = echo, 025042, Player, DX_M01_0000_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
Act_ActTrig = ms3_fp7_player_destroy_all_platforms

[Trigger]
nickname = ms3_fp7_player_destroy_all_platforms
Cnd_Destroyed = corsair_platform, 1, ALL
;ROLAND: people, fly avay
Act_EtherComm = echo, 025043, Player, DX_M01_1111_ECHO, -1, rh_sales_head, rh_male_guard_body, prop_hat_male_rh_elite_visor
Act_ActTrig = ms3_fp7_epic_death

;RELEASE
[Trigger]
nickname = ms3_fp7_epic_death
Cnd_CommComplete = DX_M01_1111_ECHO
;[Trigger]
;nickname = ms3_fp7_epic_death_Debug
;Cnd_Timer = 1
Act_StaticCam = 26110, -20235, -40945, 1.0, 0.70, 2.4, 0.0
Act_MovePlayer = 50000, 50000, 50000, 1
Act_LightFuse = SP01_FP7_dockA, freeport7_main_fuse1
Act_LightFuse = SP01_FP7_dockB, freeport7_main_fuse1
;Act_LightFuse = SP01_FP7_dockA_msn, freeport7_main_fuse1

Act_ActTrig = ms3_fp_epic_death_destroy_shields_fx

[Trigger]
nickname = ms3_fp_epic_death_destroy_shields_fx
Cnd_Timer = 8
Act_LightFuse = SP01_FP7_destroy_FX, msn03_SP01_Freeport_core_explode
Act_ActTrig = ms3_fp_epic_death_destroy_shields

[Trigger]
nickname = ms3_fp_epic_death_destroy_shields
Cnd_Timer = 1
Act_StaticCam = 24180, -19425, -39575, 1.0, -0.42, -0.5, 0.0
Act_Destroy = SP01_FP7_NRGgird03, SILENT
Act_Destroy = SP01_FP7_NRGgird04, SILENT
Act_Destroy = SP01_FP7_NRGgird05, SILENT
Act_Destroy = SP01_FP7_NRGgird06, SILENT
Act_Destroy = SP01_FP7_NRGgird07, SILENT
Act_Destroy = SP01_FP7_NRGgird08, SILENT
Act_Destroy = SP01_FP7_NRGgird09, SILENT
Act_Destroy = SP01_FP7_NRGgird10, SILENT
Act_Destroy = SP01_FP7_NRGgird11, SILENT
Act_Destroy = SP01_FP7_NRGgird12, SILENT
Act_Destroy = SP01_FP7_NRGgird13, SILENT
Act_Destroy = SP01_FP7_NRGgird14, SILENT
Act_Destroy = SP01_FP7_NRGgird15, SILENT
Act_Destroy = SP01_FP7_NRGgird16, SILENT
Act_Destroy = SP01_FP7_NRGgird17, SILENT
Act_Destroy = SP01_FP7_NRGgird18, SILENT
Act_Destroy = SP01_Freeport, SILENT
Act_ActTrig = ms3_fp_epic_death_final_accord

[Trigger]
nickname = ms3_fp_epic_death_final_accord
Cnd_Timer = 8
Act_Destroy = SP01_FP7_dockA, EXPLODE
Act_Destroy = SP01_FP7_dockB, EXPLODE
Act_ActTrig = ms3_fp_epic_death_final_cam

[Trigger]
nickname = ms3_fp_epic_death_final_cam
Cnd_Timer = 1
Act_StaticCam = 25515, -19300, -41915, 1, -3.0, 7.0, .0
Act_ActTrig = ms3_fp_epic_death_player_back

[Trigger]
nickname = ms3_fp_epic_death_player_back
Cnd_Timer = 8
Act_RelocateShip = Player, 25000, -20000, -38000, 1, 0.1, 0.2, 0
Act_ActTrig = ms3_fp_epic_death_stop_cam


[Trigger]
nickname = ms3_fp_epic_death_stop_cam
Cnd_Timer = 1
Act_Destroy = ms3_KNG_fighterA01, SILENT
Act_Destroy = ms3_KNG_fighterA02, SILENT
Act_Destroy = ms3_KNG_fighterA03, SILENT
Act_Destroy = ms3_KNG_fighterA04, SILENT
Act_Destroy = ms3_KNG_eliteA01, SILENT
Act_Destroy = ms3_KNG_eliteA02, SILENT
Act_Destroy = ms3_KNG_eliteA03, SILENT
Act_Destroy = ms3_KNG_fighterB01, SILENT
Act_Destroy = ms3_KNG_fighterB02, SILENT
Act_Destroy = ms3_KNG_eliteB01, SILENT
Act_Destroy = ms3_KNG_eliteB02, SILENT
Act_Destroy = ms3_KNG_eliteB03, SILENT
Act_Destroy = ms3_KNG_eliteB04, SILENT
Act_RevertCam = no_params
Act_ActTrig = ms3_fp_clear_dlg

[Trigger]
nickname = ms3_fp_clear_dlg
Cnd_Timer = 2
;Wilham: we did it
Act_EtherComm = echo, 025045, Player, DX_M01_0000_ECHO, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham
;Hassler: yes, i think too
Act_EtherComm = echo, 025046, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
;Hassler: everything is bad
Act_EtherComm = echo, 025047, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_fp7_it_s_a_trap

;-------------------

[NPC] 
nickname = npc_ms3_co_cruiser
affiliation = co_grp
npc_ship_arch = ms3_hispaniola_as_npc

[MsnShip]
nickname = ms3_co_cruiser01
NPC = npc_ms3_co_cruiser
label = KNG_cruiser
random_name = true
position = 23050, -20620, -41500
orientation = 1, 0, 8, 0

[MsnShip]
nickname = ms3_co_cruiser02
NPC = npc_ms3_co_cruiser
label = KNG_cruiser
random_name = true
position = 23550, -20620, -41500
orientation = 1, 0, 10, 0

[NPC]
nickname = ms3_rockford_npc
affiliation = bh_grp
npc_ship_arch = ms3_rockford
space_costume = pl_male8_head_hat, pi_pirate4_body, comm_li_elite
individual_name = 216002
voice = pilot_f_mil_m02

[MsnShip]
nickname = rockford
NPC = ms3_rockford_npc
;position = 18525, 5000, -33025
;orientation = 1, 0, 0, 0
jumper = false
label = m3_who_is_it
rel_pos = 180, Player, 250

;----------------------

[Trigger]
nickname = ms3_fp7_it_s_a_trap
Cnd_CommComplete = DX_M01_1111_ECHO
Act_GiveObjList = wingman_gb_msn3, force_stop
Act_RelocateShip = wingman_gb_msn3, 23210, -20530, -40510, 1, 0, 0, 0
Act_MovePlayer = 50000, 50000, 50000, 1
Act_SpawnShip = ms3_co_cruiser01
Act_SpawnShip = ms3_co_cruiser02
Act_StaticCam = 23525, -20616, -41650, 1, 0, 9, 0
Act_ActTrig = ms3_fp_it_s_a_trap_cloak
Act_ActTrig = ms3_fp_it_s_a_trap_bubuuum

[Trigger]
nickname = ms3_fp_it_s_a_trap_cloak
Cnd_Timer = 1
Act_Cloak = ms3_co_cruiser01, false
Act_Cloak = ms3_co_cruiser02, false

[Trigger]
nickname = ms3_fp_it_s_a_trap_bubuuum
Cnd_Timer = 6
Act_LightFuse = wingman_gb_msn3, rh_gunship_body_fuse
Act_StaticCam = 23030, -20650, -40630, 1, 1, -1, 0
Act_RelocateShip = Player, 23000, -20000, -38500, 1, 0.1, 0.2, 0
Act_ActTrig = ms3_fp_destroyed_all_stopcam

[Trigger]
nickname = ms3_fp_destroyed_all_stopcam
Cnd_Timer = 10
Act_RevertCam = no_params
Act_ActTrig = ms3_fp_trap_fly_away
Act_SpawnShip = ms3_KNG_fighterC01
Act_SpawnShip = ms3_KNG_fighterC02
Act_SpawnShip = ms3_KNG_fighterC03
Act_SpawnShip = ms3_KNG_fighterC04
Act_SpawnShip = ms3_KNG_eliteC01
Act_SpawnShip = ms3_KNG_eliteC02
Act_SpawnShip = ms3_KNG_eliteC03
Act_SpawnShip = ms3_KNG_eliteC04

[Trigger]
nickname = ms3_fp_trap_fly_away
Cnd_Timer = 2
;Hassler: trent, fly away, NOW!
Act_EtherComm = echo, 025050, Player, DX_M01_0000_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_SetNNObj = ms3_20_escape_from_battle
Act_GiveObjList = ms3_hassler, wilham_follow_player
Act_ActTrig = ms3_fp_trap_admiral
Act_ActTrig = ms3_first_escape_point

[Trigger]
nickname = ms3_fp_trap_admiral
Cnd_CommComplete = DX_M01_0000_ECHO
;Admiral: You loose, Hassler
Act_EtherComm = echo, 025048, Player, DX_M01_0000_ECHO, -1, rh_deidrich_head, rh_deidrich_body

[Trigger]
nickname = ms3_first_escape_point
Cnd_DistVec = inside, Player,  14000, -20000, -40000, 1000 
;Player: nobody on scanner
Act_EtherComm = echo, 025051, Player, DX_M01_0000_ECHO, -1, pi_pirate5_head_beta, pl_male2_journeyman_body, prop_shades_03, prop_cigarette
;Hassler: i think too, but... hm...
Act_EtherComm = echo, 025052, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_second_escape_point
Act_ActTrig = ms3_set_second_escape_objective

[Trigger]
nickname = ms3_set_second_escape_objective
Cnd_CommComplete = DX_M01_1111_ECHO
Act_SetNNObj = ms3_22_jump_to_munchen

[Trigger]
nickname = ms3_second_escape_point
Cnd_DistVec = inside, Player, -15000, -23000, -40000, 2000 
;Hassler: we are dead..
Act_EtherComm = echo, 025054, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_second_escape_comm_complete

[Trigger]
nickname = ms3_second_escape_comm_complete
Cnd_CommComplete = DX_M01_1111_ECHO
Act_GiveObjList = Player, force_stop
Act_ActTrig = ms3_spawn_and_show_rockford

[Trigger]
nickname = ms3_spawn_and_show_rockford
Cnd_Timer = 1
;Act_LockManeuvers = true
;Act_EtherComm = echo, 025055, Player, DX_M01_1111_ECHO, -1, syd_head, sh_male1_body
Act_SpawnShip = rockford
Act_ActTrig = rockford_decloak

[Trigger]
nickname = rockford_decloak
Cnd_Timer = 0.5
Act_Cloak = rockford, false
Act_CallThorn = missions\m03\m03_survivor2.thn, rockford
Act_ActTrig = rockford_stopcam

[Trigger]
nickname = rockford_stopcam
Cnd_Timer = 2
Act_RevertCam = no_params
Act_ActTrig = ms3_run_rockford_dlg

[Trigger]
nickname = ms3_run_rockford_dlg
Cnd_Timer = 1
Act_ActTrig = M3_RDLG_01

;ROCKFORD DLG SETS

[Trigger]
nickname = comm_rockford
Cnd_True = no_params
Act_EtherComm = king, 216053, Player, DX_M01_0000_MOD, -1, syd_head, sh_male1_body

[Trigger]
nickname = comm_hassler
Cnd_True = no_params
Act_EtherComm = king, 216053, Player, DX_M01_0000_MOD, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;END

;ROCKFORD DLG

[Trigger]
nickname = M3_RDLG_01
Cnd_True = no_params
Act_ActTrig = comm_rockford
Act_ActTrig = M3_RDLG_01_popup

[Trigger]
nickname = M3_RDLG_01_popup
Cnd_Timer = 2
Act_Popupdialog = 216054, 025055, CLOSE
Act_ActTrig = M3_RDLG_02
;-------------------------
[Trigger]
nickname = M3_RDLG_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_hassler
Act_ActTrig = M3_RDLG_02_popup

[Trigger]
nickname = M3_RDLG_02_popup
Cnd_Timer = 2
Act_Popupdialog = 216050, 025056, CLOSE
Act_ActTrig = M3_RDLG_03
;-------------------------
[Trigger]
nickname = M3_RDLG_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_rockford
Act_ActTrig = M3_RDLG_03_popup

[Trigger]
nickname = M3_RDLG_03_popup
Cnd_Timer = 2
Act_Popupdialog = 216054, 025057, CLOSE
Act_ActTrig = M3_RDLG_04
;-------------------------
[Trigger]
nickname = M3_RDLG_04
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_hassler
Act_ActTrig = M3_RDLG_04_popup

[Trigger]
nickname = M3_RDLG_04_popup
Cnd_Timer = 2
Act_Popupdialog = 216050, 025058, CLOSE
Act_ActTrig = M3_RDLG_05
;-------------------------
[Trigger]
nickname = M3_RDLG_05
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_rockford
Act_ActTrig = M3_RDLG_05_popup

[Trigger]
nickname = M3_RDLG_05_popup
Cnd_Timer = 2
Act_Popupdialog = 216054, 025059, CLOSE
Act_ActTrig = M3_RDLG_06
;-------------------------
[Trigger]
nickname = M3_RDLG_05
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_rockford
Act_ActTrig = M3_RDLG_05_popup

[Trigger]
nickname = M3_RDLG_05_popup
Cnd_Timer = 2
Act_Popupdialog = 216054, 025059, CLOSE
Act_ActTrig = M3_RDLG_06
;-------------------------
[Trigger]
nickname = M3_RDLG_06
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_hassler
Act_ActTrig = M3_RDLG_06_popup

[Trigger]
nickname = M3_RDLG_06_popup
Cnd_Timer = 2
Act_Popupdialog = 216050, 025060, CLOSE
Act_ActTrig = M3_RDLG_end

;END

[Trigger]
nickname = M3_RDLG_end
Cnd_True = no_params
;Act_LockManeuvers = false
Act_PlayerCanDock = false, SIG8_TO_MNH
Act_SetNNObj = ms3_22_jump_to_munchen
Act_ActTrig = ms3_welcome_munchen
Act_RandomPop = true

;----------------------MUNCHEN

[Trigger]
nickname = ms3_welcome_munchen
Cnd_SystemEnter = rh_mnh
Act_RandomPop = true
Act_ActTrig = ms3_munchen_hassler_words

[Trigger]
nickname = ms3_munchen_hassler_words
System = rh_mnh
Cnd_Timer = 3
Act_EtherComm = echo, 025068, Player, DX_M01_1111_ECHO, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman
Act_ActTrig = ms3_hassler_fly_away

[Trigger]
nickname = ms3_hassler_fly_away
Cnd_CommComplete = DX_M01_1111_ECHO
Act_GiveObjList = hassler_fly_away_in_another_worlds
Act_ActTrig = destroy_hassler_if_is_around
Act_ActTrig = ms3_player_in_astbase
Act_PlayerCanDock = false, rh_mnh_03
Act_SetNNObj = ms3_23_dock_on_outcast_astbase

[ObjList]
nickname = hassler_fly_away_in_another_worlds
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, -50000, 0, 50000, 100, true

[Trigger]
nickname = destroy_hassler_if_is_around
Cnd_DistShip = outside, Player, ms3_hassler, 10000
Act_Destroy = ms3_hassler, SILENT

[Trigger]
nickname = ms3_player_around_astbase
System = rh_mnh
Cnd_True = no_params





[Trigger]
nickname = ms3_player_in_astbase
system = rh_mnh
Cnd_LocEnter = Deck, rh_mnh_03_Base
Act_ActTrig = ms3_player_in_astbase_Bar

[Trigger]
nickname = ms3_player_in_astbase_Bar
Cnd_LocEnter = Bar, rh_mnh_03_Base
Act_AddRTC = missions\m03\ms3_outcast_nrml.ini
Act_ActTrig = ms3_outcast_delay

[Trigger]
nickname = ms3_outcast_delay
Cnd_Timer = 0.5
Act_AddRTC = missions\M03\ms3_outcast_msn.ini
Act_ActTrig = ms3_outcast_accept
repeatable = true

[Trigger]
nickname = ms3_outcast_accept
system = rh_mnh
Cnd_MsnResponse = accept
Act_DeActTrig = ms3_outcast_delay
Act_RemoveRTC = missions\M03\ms3_outcast_msn.ini
Act_RemoveRTC = missions\M03\ms3_outcast_nrml.ini
Act_AdjAcct = 50000
Act_PlayerCanDock = true
Act_ChangeState = SUCCEED








[;
nickname = ms3_20_escape_from_battle
nickname = ms3_21_follow_rockford
nickname = ms3_22_jump_to_munchen
nickname = ms3_23_dock_on_outcast_astbase
nickname = ms3_24_find_outcast_informer

216049 - Hassler small
216050 - Hassler big
216053 - Rockford small
216054 - Rockford big


;-END DIALOG

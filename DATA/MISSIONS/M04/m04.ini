[Mission]
npc_ship_file = missions\m04\npcships.ini

;--------------------------------

[NPC]
nickname = npc_nnvoice
affiliation = li_n_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = NNVoice

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[ObjList]
nickname = force_stop
Idle = no_params

[ObjList]
nickname = unform
BreakFormation = no_params

[ObjList]
nickname = unform_n_stop
BreakFormation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 1500, -100, 50, -200

[Trigger]
nickname = Jacobo_Armor
Cnd_Timer = 1
Act_Invulnerable = jacobo, true, false, 0.500000

[Trigger]
nickname = Friend_Armor
Cnd_Timer = 1
Act_Invulnerable = jacobo, true, false, 0.500000
Act_Invulnerable = hassler, true, false, 0.500000
Act_Invulnerable = alaric, true, false, 0.500000

[Trigger]
nickname = Friend_Setrep
Cnd_Timer = 0.1
Act_SetVibeLblToShip = friend, Player, REP_FRIEND_MAXIMUM
Act_SetVibeShipToLbl = Player, friend, REP_FRIEND_MAXIMUM

;--------------------------------


[NPC]
nickname = npc_jacobo
npc_ship_arch = m04_jacobo
affiliation = fc_uk_grp
individual_name = 33665
space_costume = pl_male1_head, pi_pirate2_body, comm_br_guard
voice = pilot_f_mil_m01

[MsnShip]
nickname = jacobo
NPC = npc_jacobo
jumper = true
label = friend

[NPC]
nickname = npc_hassler
npc_ship_arch = m04_hassler
affiliation = fc_uk_grp
individual_name = 33666
space_costume = rh_hassler_head, rh_male_elite_body, comm_rh_reichman

[MsnShip]
nickname = hassler
NPC = npc_hassler
jumper = true
label = friend
label = friend_fighter

[NPC]
nickname = npc_alaric
npc_ship_arch = m04_alaric
affiliation = fc_uk_grp
individual_name = 33667
space_costume = rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric
voice = pilot_f_mil_m01

[MsnShip]
nickname = alaric
NPC = npc_alaric
jumper = true
label = friend
label = friend_fighter

[NPC]
nickname = npc_officer_leader
npc_ship_arch = m04_officer_leader
affiliation = rh_grp
individual_name = 33668
space_costume = rh_captain_head, rh_male_elite_body, comm_rh_elite

[MsnShip]
nickname = officer_leader
NPC = npc_officer_leader
label = officer
label = rheinland

[NPC]
nickname = npc_officer_wing
npc_ship_arch = m04_officer_wing
affiliation = rh_grp

[MsnShip]
nickname = officer_wing1
NPC = npc_officer_wing
random_name = true
label = officer
label = rheinland

[MsnShip]
nickname = officer_wing2
NPC = npc_officer_wing
random_name = true
label = officer
label = rheinland

[MsnShip]
nickname = officer_wing3
NPC = npc_officer_wing
random_name = true
label = officer
label = rheinland

[MsnShip]
nickname = officer_wing4
NPC = npc_officer_wing
random_name = true
label = officer
label = rheinland

[NPC]
nickname = npc_keln_reinforcement
npc_ship_arch = m04_keln_reinforcement
affiliation = fc_uk_grp

[MsnShip]
nickname = keln_reinforcement1
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 233, Player, 1500
label = keln
label = rheinland

[MsnShip]
nickname = keln_reinforcement2
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 293, Player, 1500
label = keln
label = rheinland

[MsnShip]
nickname = keln_reinforcement3
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 353, Player, 1500
label = keln
label = rheinland

[MsnShip]
nickname = keln_reinforcement4
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 53, Player, 1500
label = keln
label = rheinland

[MsnShip]
nickname = keln_reinforcement5
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 113, Player, 1500
label = keln
label = rheinland

[MsnShip]
nickname = keln_reinforcement6
NPC = npc_keln_reinforcement
random_name = true
rel_pos = 173, Player, 1500
label = keln
label = rheinland

[NPC]
nickname = npc_ms4_f1
npc_ship_arch = m04_ms4_f1
affiliation = rh_grp

[MsnShip]
nickname = ms4_f11
NPC = npc_ms4_f1
random_name = true
label = fleet
label = fleet_fighter

[MsnShip]
nickname = ms4_f12
NPC = npc_ms4_f1
random_name = true
label = fleet
label = fleet_fighter

[MsnShip]
nickname = ms4_f13
NPC = npc_ms4_f1
random_name = true
label = fleet
label = fleet_fighter

[NPC]
nickname = npc_ms4_f2
npc_ship_arch = m04_ms4_f2
affiliation = rh_grp

[MsnShip]
nickname = ms4_f21
NPC = npc_ms4_f2
random_name = true
label = fleet
label = fleet_fighter

[MsnShip]
nickname = ms4_f22
NPC = npc_ms4_f2
random_name = true
label = fleet
label = fleet_fighter

[MsnShip]
nickname = ms4_f23
NPC = npc_ms4_f2
random_name = true
label = fleet
label = fleet_fighter

[NPC]
nickname = npc_s8_reinforcement
npc_ship_arch = m04_s8_reinforcement
affiliation = rh_grp

[MsnShip]
nickname = s8_reinforcement1
NPC = npc_s8_reinforcement
random_name = true
rel_pos = 147, Player, 2000
label = fleet
label = fleet_fighter

[MsnShip]
nickname = s8_reinforcement2
NPC = npc_s8_reinforcement
random_name = true
rel_pos = 267, Player, 2000
label = fleet
label = fleet_fighter

[MsnShip]
nickname = s8_reinforcement3
NPC = npc_s8_reinforcement
random_name = true
rel_pos = 27, Player, 2000
label = fleet
label = fleet_fighter

[NPC]
nickname = npc_corsair
npc_ship_arch = m04_corsair
affiliation = co_grp

[MsnShip]
nickname = corsair1
NPC = npc_corsair
random_name = true
rel_pos = 254, Player, 2300
label = corsairs
label = enemy

[MsnShip]
nickname = corsair2
NPC = npc_corsair
random_name = true
rel_pos = 314, Player, 2300
label = corsairs
label = enemy

[MsnShip]
nickname = corsair3
NPC = npc_corsair
random_name = true
rel_pos = 14, Player, 2300
label = corsairs
label = enemy

[MsnShip]
nickname = corsair4
NPC = npc_corsair
random_name = true
rel_pos = 74, Player, 2300
label = corsairs
label = enemy

[MsnShip]
nickname = corsair5
NPC = npc_corsair
random_name = true
rel_pos = 134, Player, 2300
label = corsairs
label = enemy

[MsnShip]
nickname = corsair6
NPC = npc_corsair
random_name = true
rel_pos = 194, Player, 2300
label = corsairs
label = enemy

[NPC]
nickname = npc_cr1
affiliation = rh_grp
npc_ship_arch = ms4_rh_cruiser_ship
individual_name = 33669

[MsnShip]
nickname = cr1
NPC = npc_cr1
label = keln_capship

[NPC]
nickname = npc_cr2
affiliation = rh_grp
npc_ship_arch = ms4_rh_cruiser_ship
individual_name = 33670

[MsnShip]
nickname = cr2
NPC = npc_cr2
label = keln_capship

[NPC]
nickname = npc_gb1
affiliation = rh_grp
npc_ship_arch = ms4_rh_gunboat_ship
individual_name = 33671

[MsnShip]
nickname = gb1
NPC = npc_gb1
label = keln_capship

[NPC]
nickname = npc_gb2
affiliation = rh_grp
npc_ship_arch = ms4_rh_gunboat_ship
individual_name = 33672

[MsnShip]
nickname = gb2
NPC = npc_gb2
label = keln_capship

[NPC]
nickname = npc_s8_cruiser
affiliation = rh_grp
npc_ship_arch = ms4_rh_cruiser_ship
individual_name = 33673

[MsnShip]
nickname = s8_cruiser
NPC = npc_s8_cruiser
label = s8_cap
label = fleet

[MsnSolar]
nickname = bs
position = -15000.00, 0.00, -23600.00
orientation = 0.71, 0.00, 0.71, 0.00
archetype = rh_battleship_ms4_solar
string_id = 33628
radius = 0
faction = rh_grp
loadout = rh_battleship_01_no_guns
label = keln_capship
[MsnSolar]
nickname = bs_reactor
position = -14762.00, -25.00, -23545.00
orientation = 0.71, 0.00, 0.71, 0.00
archetype = msn4_rh_battleship_shield
string_id = 33629
radius = 0
faction = rh_grp


;-------------------------------------
;waypoints

[NNObjective]
nickname = nn_meet_vendor
state = HIDDEN
type = rep_inst, rh_mnh, 33635, 33635, 5000.0, 0.0, 25000.0, rh_mnh_01

[NNObjective]
nickname = nn_launch
state = HIDDEN
type = ids, 33636

[NNObjective]
nickname = nn_mnh_tlr_1
state = HIDDEN
type = rep_inst, rh_mnh, 33637, 33637, 8000, 0, 24000, RH_MNH_F_Trade_Lane_Ring_B04

[NNObjective]
nickname = nn_mnh_tlr_2
state = HIDDEN
type = rep_inst, rh_mnh, 33638, 33638, 28000, 0, 2000, RH_MNH_F_Trade_Lane_Ring_A01

[NNObjective]
nickname = nn_mnh_to_biz
state = HIDDEN
type = rep_inst, rh_mnh, 33639, 33639, 50000.0, 0.0, -5000.0, rh_mnh_jg_to_rh_biz

[NNObjective]
nickname = nn_follow_officer
state = HIDDEN
type = ids, 33640

[NNObjective]
nickname = nn_destroy_keln_enemy
state = HIDDEN
type = ids, 33641

[NNObjective]
nickname = nn_destroy_reactor
state = HIDDEN
type = rep_inst, rh_biz, 33642, 33642, -14762.0, -25.0, -23545.0, bs_reactor

[NNObjective]
nickname = nn_biz_to_sig8_fly
state = HIDDEN
type = rep_inst, rh_biz, 33643, 33643, -12000.0, 0.0, -62000.0, rh_biz_jh_to_sig8

[NNObjective]
nickname = nn_biz_to_sig8
state = HIDDEN
type = rep_inst, rh_biz, 33644, 33644, -12000.0, 0.0, -62000.0, rh_biz_jh_to_sig8

[NNObjective]
nickname = nn_attack_cruiser
state = HIDDEN
type = ids, 33645

[NNObjective]
nickname = nn_destroy_fighters
state = HIDDEN
type = ids, 33646

[NNObjective]
nickname = nn_goto_escape_point1
state = HIDDEN
type = navmarker, sig8, 33647, 33647, -10000.0, 0.0, 30000.0

[NNObjective]
nickname = nn_goto_escape_point2
state = HIDDEN
type = navmarker, sig8, 33648, 33648, 5000.0, 0.0, 15000.0

[NNObjective]
nickname = nn_goto_escape_point3
state = HIDDEN
type = navmarker, sig8, 33649, 33649, 25000.0, 0.0, 25000.0

[NNObjective]
nickname = nn_destroy_corsairs
state = HIDDEN
type = ids, 33650

[NNObjective]
nickname = nn_sig8_to_for_fly
state = HIDDEN
type = rep_inst, sig8, 33651, 33651, 45000.0, 0.0, 35000.0, sig8_jh_to_li_for

[NNObjective]
nickname = nn_sig8_to_for
state = HIDDEN
type = rep_inst, sig8, 33652, 33652, 45000.0, 0.0, 35000.0, sig8_jh_to_li_for

[NNObjective]
nickname = nn_wait_for_activation
state = HIDDEN
type = ids, 33653

[NNObjective]
nickname = nn_shipyard
state = HIDDEN
type = rep_inst, li_for, 33654, 33654, 40000.0, 0.0, 25000.0, li_for_02

[NNObjective]
nickname = nn_for_tlr_1
state = HIDDEN
type = rep_inst, li_for, 33655, 33655, 39800, 0, 24000, LI_FOR_F_Trade_Lane_Ring_B07

[NNObjective]
nickname = nn_final_planet
state = HIDDEN
type = rep_inst, li_for, 33656, 33656, 32000.0, 0.0, -25000.0, li_for_01

;--------------------------------

[Trigger]
nickname = init_ms4
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms4_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever


[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = rh_mnh_01_dock

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;Vendor: Greetings, Freelancer
Act_EtherComm = echo_m04, 150195, Player, dx_m04_0000_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b




[Trigger]
nickname = init_objective
Cnd_True = no_params
Act_NNPath = 33635, 33635, rh_mnh_01, rh_mnh

[Trigger]
nickname = ms4_create_vendor
system = rh_mnh
Cnd_LocEnter = Bar, rh_mnh_01_base
Act_AddRTC = missions\m04\vendor_msn.ini
Act_ActTrig = ms4_do_accept
repeatable = true

[Trigger]
nickname = ms4_do_accept
system = rh_mnh
Cnd_MsnResponse = accept
Act_DeactTrig = ms4_create_vendor
Act_RemoveRTC = missions\m04\vendor_msn.ini
Act_PlayerCanDock = false
Act_RandomPop = false

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

Act_SetNNObj = nn_launch

Act_SetTitle = 094301
Act_SetOffer = 094302
Act_ActTrig = ms4_launch

Act_ActTrig = MSN_REP_BEFORE

;debug
;Act_SetShipAndLoadout = rh_fighter, lod_m04_player

;------------ NPCS


[Trigger]
nickname = ms4_launch
Cnd_InSpace = true
Act_SpawnShip = jacobo, no_ol, 4700.00, 0.00, 24500.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = ms4_launch_complete

[Trigger]
nickname = ms4_launch_complete
Cnd_LaunchComplete = Player
Act_MarkObj = jacobo, 1
Act_ActTrig = Jacobo_Armor
Act_ActTrig = Friend_Setrep
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice

Act_ActTrig = ms4_space_msg_hello
Act_EnableManeuver = formation, false

[Trigger]
nickname = ms4_space_msg_hello
Cnd_Timer = 2

Act_ActTrig = munchen_welcome_dialog

Act_GiveObjList = jacobo, follow_player

Act_SetNNObj = nn_mnh_tlr_1
Act_PlayerCanTradelane = false, RH_MNH_F_Trade_Lane_Ring_B04, RH_MNH_F_Trade_Lane_Ring_B03
Act_NagDistLeaving = nn_mnh_tlr_1, nag_voice, RH_MNH_F_Trade_Lane_Ring_B04, 90000, 100, NAG_ALWAYS

Act_ActTrig = mnh_tlr_1_inside

[Trigger]
nickname = mnh_tlr_1_inside
Cnd_TLEntered = Player, RH_MNH_F_Trade_Lane_Ring_B04, RH_MNH_F_Trade_Lane_Ring_B03
Act_LockManeuvers = true
Act_NagOff = nn_mnh_tlr_1
Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_ActTrig = mnh_tlr_1_exit
Act_ActTrig = munchen_careful_dialog

[Trigger]
nickname = mnh_tlr_1_exit
Cnd_TLExited = Player, RH_MNH_F_Trade_Lane_Ring_B01
Act_LockManeuvers = false
Act_PlayerCanTradelane = false
Act_SetNNObj = nn_mnh_tlr_2
Act_PlayerCanTradelane = false, RH_MNH_F_Trade_Lane_Ring_A01, RH_MNH_F_Trade_Lane_Ring_A02
Act_NagDistLeaving = nn_mnh_tlr_2, nag_voice, RH_MNH_F_Trade_Lane_Ring_A01, 90000, 100, NAG_ALWAYS
Act_ActTrig = mnh_tlr_2_inside

Act_ActTrig = munchen_why_not_kusari_dialog

[Trigger]
nickname = mnh_tlr_2_inside
Cnd_TLEntered = Player, RH_MNH_F_Trade_Lane_Ring_A01, RH_MNH_F_Trade_Lane_Ring_A02
Act_LockManeuvers = true
Act_NagOff = nn_mnh_tlr_2
Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_ActTrig = mnh_tlr_2_exit
Act_ActTrig = munchen_not_logical_dialog

[Trigger]
nickname = mnh_tlr_2_exit
Cnd_TLExited = Player, RH_MNH_F_Trade_Lane_Ring_A03
Act_LockManeuvers = false
Act_PlayerCanTradelane = false
Act_SetNNObj = nn_mnh_to_biz
Act_PlayerCanDock = false, rh_mnh_jg_to_rh_biz
Act_NagDistLeaving = nn_mnh_to_biz, nag_voice, rh_mnh_jg_to_rh_biz, 90003, 1000, NAG_ALWAYS

Act_ActTrig = welcome_to_bizmark
;---


[Trigger]
nickname = munchen_welcome_dialog
Cnd_True = no_params

;Trent: Dromader? Are you insane?
Act_EtherComm = echo_m04_player, 150196, Player, dx_m04_0010_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: This is best ship
Act_EtherComm = echo_m04, 150197, Player, dx_m04_0020_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b


[Trigger]
nickname = munchen_careful_dialog
Cnd_True = no_params


;Trent: You can die
Act_EtherComm = echo_m04_player, 150198, Player, dx_m04_0030_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Ok, we need to create a copy
Act_EtherComm = echo_m04, 150199, Player, dx_m04_0040_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

[Trigger]
nickname = munchen_why_not_kusari_dialog
Cnd_True = no_params

;Trent: Done. How we get to Liberty?
Act_EtherComm = echo_m04_player, 150200, Player, dx_m04_0050_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Not from Kusari
Act_EtherComm = echo_m04, 150201, Player, dx_m04_0060_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

;Jacobo: We need going to Bizmark
Act_EtherComm = echo_m04, 150202, Player, dx_m04_0070_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

[Trigger]
nickname = munchen_not_logical_dialog
Cnd_True = no_params

;Trent: That's not logical
Act_EtherComm = echo_m04_player, 150203, Player, dx_m04_0080_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Jacobo: Another ideas?
Act_EtherComm = echo_m04, 150204, Player, dx_m04_0090_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

;Trent: No one
Act_EtherComm = echo_m04_player, 150205, Player, dx_m04_0100_trent, -1, pi_pirate5_head, player_body, player_commhelmet



;---


[Trigger]
nickname = welcome_to_bizmark
Cnd_NPCSystemEnter = rh_biz, jacobo, Player
Act_NagOff = nn_mnh_to_biz
Act_ActTrig = bizmark_welcome_complete
Act_RandomPop = False

[Trigger]
nickname = bizmark_welcome_complete
Cnd_Timer = 1
Act_GiveObjList = jacobo, unform_n_stop
Act_PlayMusic = none, none, none, music_danger
Act_ActTrig = BEGIN_OFFICER_SCENE

;-----------RH_FLEET_POINT_1------------

[MsnFormation]
nickname = ms4_bizgate_formation
formation = ms4_officer_wing
ship = officer_leader
ship = officer_wing1
ship = officer_wing2
ship = officer_wing3
ship = officer_wing4

[ObjList]
nickname = officer_goto_player
avoidance = false
GotoVec = goto_no_cruise, -44200.00, 0.00, -29800.00, 100, false

[ObjList]
nickname = officer_goto_player_real
avoidance = false
GotoShip = goto_no_cruise, Player, 100, false

[Trigger]
nickname = officer_scene_setrep
Cnd_True = no_params
Act_SetVibeLbl = ally, officer, REP_NEUTRAL
Act_SetVibeLbl = officer, ally, REP_NEUTRAL
Act_SetVibeLblToShip = officer, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, officer, REP_NEUTRAL

[Trigger]
nickname = officer_scene_setrep_enemy
Cnd_True = no_params
Act_SetVibeLbl = ally, officer, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = officer, ally, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = officer, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, officer, REP_HOSTILE_MAXIMUM

;-------======================---------

[Trigger]
nickname = BEGIN_OFFICER_SCENE
Cnd_True = no_params
Act_Pobjidle = no_params
Act_SpawnFormation = ms4_bizgate_formation, -43000.00, 0.00, -29590.00, 0.77, 0.00, 0.64, 0.00
Act_CallThorn = scripts\mod\m04_officer_scene01.thn, officer_leader
Act_GiveObjList = jacobo, unform_n_stop
Act_GiveObjList = Player, force_stop
Act_GiveObjList = officer_leader, officer_goto_player
Act_ActTrig = officer_scene_setrep
Act_ActTrig = OFFICER_DIALOG_BEFORE_CHOICE
Act_ActTrig = BIZ_JUMP_PLAYER_POINT
Act_EnableManeuver = formation, false

[Trigger]
nickname = BIZ_JUMP_PLAYER_POINT
Cnd_Timer = 1
Act_Pobjidle = no_params
Act_RelocateShip = Player, -44200.00, 0.00, -29800.00, 0.77, 0.00, -0.64, 0.00
Act_RelocateShip = jacobo, -44240.00, 0.00, -29830.00, 0.77, 0.00, -0.64, 0.00
Act_GiveObjList = officer_leader, officer_goto_player_real


[Trigger]
nickname = OFFICER_DIALOG_BEFORE_CHOICE
Cnd_Timer = 12
Act_CallThorn = scripts\mod\m04_officer_scene02.thn, officer_leader
;Officer: Stay on your positions! Right now!
Act_EtherComm = echo_m04, 150206, Player, dx_m04_0110_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite

;Officer: (2)
Act_EtherComm = echo_m04, 150207, Player, dx_m04_0120_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite


Act_ActTrig = OFFICER_DIALOG_DONE



[ObjList]
nickname = ol_pl_follow_officer
SetPriority = ALWAYS_EXECUTE
Follow = officer_leader, 3000, -20, -15, 200

[Trigger]
nickname = OFFICER_DIALOG_DONE
Cnd_CommComplete = dx_m04_0120_officer
Act_ActTrig = INIT_TRAP_CHOICE

[Trigger]
nickname = INIT_TRAP_CHOICE
Cnd_Timer = 1
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_GiveObjList = Player, ol_pl_follow_officer
Act_EnableManeuver = formation, true
Act_ActTrig = player_lock_maneuvers_delay

[Trigger]
nickname = player_lock_maneuvers_delay
Cnd_Timer = 0.1
Act_LockManeuvers = true
Act_ActTrig = TRAP_CHOICE_FORMATION

[Trigger]
nickname = TRAP_CHOICE_FORMATION
Cnd_Timer = 1
Act_SetNNObj = nn_follow_officer

Act_GiveObjList = jacobo, follow_player
Act_DeActTrig = OFFICER_SCENE_WRONG_LEAVING
Act_DeActTrig = TRAP_CHOICE_TIMER_SOFT
Act_DeActTrig = TRAP_CHOICE_TIMER_HARD
Act_ActTrig = TRAP_LETSGO_DIALOG

[Trigger]
nickname = TRAP_LETSGO_DIALOG
Cnd_True = no_params
;Trent: Ok. We surrender
Act_EtherComm = echo_m04_player, 150208, Player, dx_m04_0130_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = ROAD_TO_KELN

;-------======================---------

[ObjList]
nickname = officer_goto_keln_first_point
SetPriority = ALWAYS_EXECUTE
avoidance = false
GotoVec = goto_cruise, -16500.00, 0.00, -23100.00, 100, false

[ObjList]
nickname = officer_goto_keln_second_point
SetPriority = ALWAYS_EXECUTE
avoidance = false
GotoVec = goto_no_cruise, -15100.00, 0.00, -23100.00, 100, false








[Trigger]
nickname = SPAWN_KELN_SHIPS
Cnd_True = no_params
Act_SpawnSolar = bs
Act_SpawnShip = cr1, no_ol, -14600.00, 0.00, -23000.00, 1.00, 0.00, 0.00, 0.00
Act_Invulnerable = cr1, true, true
Act_SpawnShip = cr2, no_ol, -14500.00, 0.00, -23400.00, 1.00, 0.00, 0.00, 0.00
Act_Invulnerable = cr2, true, true
Act_SpawnShip = gb1, no_ol, -14800.00, 0.00, -22900.00, 1.00, 0.00, 0.00, 0.00
Act_Invulnerable = gb1, true, true
Act_SpawnShip = gb2, no_ol, -15000.00, 0.00, -22890.00, 1.00, 0.00, 0.00, 0.00
Act_Invulnerable = gb2, true, true

[Trigger]
nickname = keln_ships_setrep
Cnd_Timer = 0.1
Act_SetVibeLbl = ally, keln, REP_NEUTRAL
Act_SetVibeLbl = keln, ally, REP_NEUTRAL
Act_SetVibeLblToShip = keln, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, keln, REP_NEUTRAL
Act_SetVibeLblToShip = keln_capship, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, keln_capship, REP_NEUTRAL

[Trigger]
nickname = keln_ships_setrep_enemy
Cnd_Timer = 0.1
Act_SetVibeLbl = ally, keln, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = keln, ally, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = keln, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, keln, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = keln_capship, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, keln_capship, REP_HOSTILE_MAXIMUM
;-------======================---------


[Trigger]
nickname = ROAD_TO_KELN
Cnd_Timer = 2
Act_GiveObjList = officer_leader, officer_goto_keln_first_point
Act_ActTrig = ROAD_TO_KELN_DIALOG
Act_ActTrig = NEAR_KELN_POINT_1
Act_ActTrig = NEAR_KELN_POINT_2
Act_ActTrig = NEAR_KELN_SPAWN_SHIPS

[Trigger]
nickname = NEAR_KELN_SPAWN_SHIPS
Cnd_Timer = 5
Act_ActTrig = SPAWN_KELN_SHIPS
Act_ActTrig = keln_ships_setrep

[Trigger]
nickname = ROAD_TO_KELN_DIALOG
Cnd_Timer = 2
;Officer: Go with us to Keln station
Act_EtherComm = echo_m04, 150209, Player, dx_m04_0140_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite

;Jacobo: That's impossible!
Act_EtherComm = echo_m04, 150210, Player, dx_m04_0150_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

;Officer: You want to die?
Act_EtherComm = echo_m04, 150211, Player, dx_m04_0160_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite

;Trent: Calm down, Jacobo
Act_EtherComm = echo_m04_player, 150212, Player, dx_m04_0170_trent, -1, pi_pirate5_head, player_body, player_commhelmet


[Trigger]
nickname = NEAR_KELN_POINT_1
Cnd_DistVec = inside, officer_leader, -16500.00, 0.00, -23100.00, 500   ;; near first
Act_GiveObjList = p1_rh_elite_1, officer_goto_keln_second_point

[Trigger]
nickname = NEAR_KELN_POINT_2
Cnd_DistVec = inside, officer_leader, -16500.00, 0.00, -23100.00, 500  ;; near second
Act_ActTrig = NEAR_KELN_DIALOG
Act_ActTrig = NEAR_KELN

;SAVE THERE

[Trigger]
nickname = NEAR_KELN
Cnd_True = no_params
Act_GiveObjList = officer_leader, force_stop

[Trigger]
nickname = NEAR_KELN_DIALOG
Cnd_Timer = 1
;Reichman: Good job, officer
Act_EtherComm = echo_m04, 150213, Player, dx_m04_0180_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Reichman: Destroy the Freelancer
Act_EtherComm = echo_m04, 150214, Player, dx_m04_0190_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Officer: Why?...
Act_EtherComm = echo_m04, 150215, Player, dx_m04_0200_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite

;Reichman: Do it NOW!
Act_EtherComm = echo_m04, 150216, Player, dx_m04_0210_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

Act_ActTrig = BEFORE_KELN_BATTLE

[Trigger]
nickname = BEFORE_KELN_BATTLE
Cnd_CommComplete = dx_m04_0210_reichman
Act_ActTrig = INIT_KELN_BATTLE

Act_Save = save_state_keln, 33661

[Trigger]
nickname = save_state_keln
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_keln

[Trigger]
nickname = init_the_save_state_keln
Cnd_Timer = 0.3

Act_RelocateShip = Player, -15400.00, 30.00, -23100.00, 0.71, 0.00, -0.71, 0.00
Act_SpawnShip = jacobo, no_ol, -15400.00, 30.00, -23150.00, 0.71, 0.00, -0.71, 0.00
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_ActTrig = Jacobo_Armor
Act_SpawnFormation = ms4_bizgate_formation, -15300.00, 0.00, -23100.00, 0.71, 0.00, -0.71, 0.00
Act_ActTrig = SPAWN_KELN_SHIPS
Act_ActTrig = officer_scene_setrep
Act_ActTrig = keln_ships_setrep
Act_ActTrig = INIT_KELN_BATTLE

[Trigger]
nickname = INIT_KELN_BATTLE
Cnd_Timer = 0.1
Act_SpawnShip = hassler, ol_KELN_BATTLE_join_player, -12200.00, 100.00, -23500.00, 0.64, 0.00, 0.77, 0.00
Act_SpawnShip = alaric, ol_KELN_BATTLE_join_player, -12240.00, 110.00, -23520.00, 0.64, 0.00, 0.77, 0.00
Act_ActTrig = Friend_Armor
Act_ActTrig = Friend_Setrep
Act_MarkObj = hassler, 1
Act_MarkObj = alaric, 1
Act_MarkObj = jacobo, 1
Act_ActTrig = FRIEND_ARRIVE
Act_GiveObjList = officer_wing1, unform
Act_GiveObjList = officer_wing2, unform
Act_GiveObjList = officer_wing3, unform
Act_GiveObjList = officer_wing4, unform
Act_GiveObjList = Player, unform
Act_LockManeuvers = False
Act_EnableManeuver = formation, false
Act_ActTrig = KELN_BATTLE_jacobo_reform
Act_PlayMusic = none, none, none, music_danger

[Trigger]
nickname = KELN_BATTLE_jacobo_reform
Cnd_Timer = 0.1
Act_GiveObjList = jacobo, follow_player

[Trigger]
nickname = FRIEND_ARRIVE
Cnd_Timer = 1
Act_PlayMusic = none, none, none, music_reveal_enemy_position_of_strength
Act_CallThorn = scripts\mod\m04_friends_arrive_hassler.thn, hassler
Act_ActTrig = FRIEND_ARRIVE_hassler_dialog

Act_Pobjidle = no_params
Act_RelocateShip = Player, -15400.00, 30.00, -23100.00, 0.71, 0.00, -0.71, 0.00
Act_RelocateShip = jacobo, -15400.00, 30.00, -23150.00, 0.71, 0.00, -0.71, 0.00

[Trigger]
nickname = FRIEND_ARRIVE_hassler_dialog
Cnd_Timer = 1
;Hassler: Stop it right now!
Act_EtherComm = echo_m04, 150217, Player, dx_m04_0220_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = FRIEND_ARRIVE_hassler_dialog_done

[Trigger]
nickname = FRIEND_ARRIVE_hassler_dialog_done
Cnd_CommComplete = dx_m04_0220_hassler
Act_ActTrig = FRIEND_ARRIVE_alaric_dialog

[Trigger]
nickname = FRIEND_ARRIVE_alaric_dialog
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m04_friends_arrive_alaric.thn, alaric
;Alaric: Launch torpedoes
Act_EtherComm = echo_m04, 150218, Player, dx_m04_0230_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

Act_ActTrig = FRIEND_ARRIVE_alaric_dialog_done

[Trigger]
nickname = FRIEND_ARRIVE_alaric_dialog_done
Cnd_CommComplete = dx_m04_0230_alaric
Act_ActTrig = FRIEND_ARRIVE_torpedo_launched
Act_PlaySoundEffect = fire_torpedo
Act_LightFuse = alaric, fuse_msn4_alaric_torpedo_Fire

[Trigger]
nickname = FRIEND_ARRIVE_torpedo_launched
Cnd_Timer = 1
Act_ActTrig = FRIEND_ARRIVE_Camera_Force_Revert

[Trigger]
nickname = FRIEND_ARRIVE_Camera_Force_Revert
Cnd_True = no_params
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = KELN_BATTLE_first_dialog
Act_ActTrig = DESTROY_BIZ_CRUISERS
Act_ActTrig = Hassler_understanding_the_hit
Act_SetVibeLbl = friend_fighter, keln, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = friend_fighter, officer, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = Hassler_understanding_the_hit
Cnd_Timer = 1
Act_SetVibeLbl = keln, friend_fighter, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = officer, friend_fighter, REP_HOSTILE_MAXIMUM
Act_GiveObjList = officer_wing1, unform
Act_GiveObjList = officer_wing2, unform
Act_GiveObjList = officer_wing3, unform
Act_GiveObjList = officer_wing4, unform

[Trigger]
nickname = DESTROY_BIZ_CRUISERS
Cnd_True = no_params
Act_LightFuse = cr2, rh_cruiser_body_fuse
Act_ActTrig = DESTROY_BIZ_CRUISER_2

[Trigger]
nickname = DESTROY_BIZ_CRUISER_2
Cnd_Timer = 1
Act_LightFuse = cr1, rh_cruiser_body_fuse

[ObjList]
nickname = ol_KELN_BATTLE_join_player
avoidance = false
GotoShip = goto_no_cruise, Player, 500, true

[Trigger]
nickname = KELN_BATTLE_first_dialog
Cnd_Timer = 1
Act_NagDistLeaving = keln_battle, nag_voice, hassler, 90002, 6000

;Reichman: Alarm!
Act_EtherComm = echo_m04, 150219, Player, dx_m04_0240_reichman, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A_right

;Officer: Attack!
Act_EtherComm = echo_m04, 150220, Player, dx_m04_0250_officer, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite


Act_ActTrig = KELN_BATTLE_invite_trent

[Trigger]
nickname = KELN_BATTLE_invite_trent
Cnd_CommComplete = dx_m04_0250_officer
Act_SetNNObj = nn_destroy_keln_enemy
Act_NagOff = keln_battle
Act_MarkObj = officer_wing1, 1
Act_MarkObj = officer_wing2, 1
Act_MarkObj = officer_wing3, 1
Act_MarkObj = officer_wing4, 1
Act_ActTrig = keln_ships_setrep_enemy
Act_ActTrig = officer_scene_setrep_enemy
Act_ActTrig = KELN_BATTLE_learn_objectives
Act_ActTrig = KELN_BATTLE_generator_boom
Act_ActTrig = KELN_BATTLE_reinforce

[Trigger]
nickname = KELN_BATTLE_reinforce
Cnd_Destroyed = officer, -1, ALL_IGNORE_LANDING
Act_SpawnShip = keln_reinforcement1, no_ol
Act_SpawnShip = keln_reinforcement2, no_ol
Act_SpawnShip = keln_reinforcement3, no_ol
Act_SpawnShip = keln_reinforcement4, no_ol
Act_SpawnShip = keln_reinforcement5, no_ol
Act_SpawnShip = keln_reinforcement6, no_ol
Act_ActTrig = keln_ships_setrep_enemy
Act_ActTrig = officer_scene_setrep_enemy

[Trigger]
nickname = KELN_BATTLE_learn_objectives
Cnd_Timer = 10
;Trent: Let's leave
Act_EtherComm = echo_m04_player, 150221, Player, dx_m04_0260_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler: We can't
Act_EtherComm = echo_m04, 150222, Player, dx_m04_0270_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Hassler: We can't
Act_EtherComm = echo_m04, 150223, Player, dx_m04_0280_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = KELN_BATTLE_jacobo_warnings_end

[Trigger]
nickname = KELN_BATTLE_jacobo_warnings_end
Cnd_CommComplete = dx_m04_0280_hassler
Act_ActTrig = KELN_BATTLE_init_REACTOR

[Trigger]
nickname = KELN_BATTLE_init_REACTOR
Cnd_Timer = 5
Act_ActTrig = REACTOR_init

;----------------------



;----------------------


[Trigger]
nickname = REACTOR_init
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_dangerous_chase
Act_CallThorn = scripts\mod\m04_reactor_fx.thn, Player
Act_SpawnSolar = bs_reactor
Act_Invulnerable = bs_reactor, true
Act_LightFuse = bs, rbs_port_shield_damage_silent
Act_SetVibe = bs_reactor, Player, REP_HOSTILE_MAXIMUM
Act_SetVibe = Player, bs_reactor, REP_HOSTILE_MAXIMUM
Act_ActTrig = REACTOR_THE_MISSILE

[Trigger]
nickname = REACTOR_THE_MISSILE
Cnd_True = no_params
Act_LightFuse = bs, rbs_star_shield_missile
Act_PlaySoundEffect = mod_impact_torpedo
Act_ActTrig = REACTOR_THE_BOOM

[Trigger]
nickname = REACTOR_THE_BOOM
Cnd_Timer = 0.3
Act_LightFuse = bs, rbs_star_shield_damage
Act_PlaySoundEffect = csx_large02
Act_ActTrig = REACTOR_init_mission

[Trigger]
nickname = REACTOR_init_mission
Cnd_Timer = 4
Act_RevertCam = no_params
Act_Invulnerable = bs_reactor, false
Act_ActTrig = REACTOR_after_boom_dialog
Act_ActTrig = REACTOR_destroyed

[Trigger]
nickname = REACTOR_after_boom_dialog
Cnd_Timer = 0.5
;Hassler: I hit BS
Act_EtherComm = echo_m04, 150224, Player, dx_m04_0290_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = REACTOR_init_objective

[Trigger]
nickname = REACTOR_init_objective
Cnd_CommComplete = dx_m04_0290_hassler
;Hassler: I hit BS (2)
Act_EtherComm = echo_m04, 150225, Player, dx_m04_0300_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_MarkObj = officer_wing1, 0
Act_MarkObj = officer_wing2, 0
Act_MarkObj = officer_wing3, 0
Act_MarkObj = officer_wing4, 0
Act_SetNNObj = nn_destroy_reactor

[Trigger]
nickname = REACTOR_destroyed
Cnd_Destroyed = bs_reactor
Act_LightFuse = bs, r_battleship_body_fuse
Act_ActTrig = REACTOR_finally_destroyed

[Trigger]
nickname = REACTOR_finally_destroyed
Cnd_Destroyed = bs
Act_NagOff = keln_battle

;Hassler: We need to leave
Act_EtherComm = echo_m04, 150226, Player, dx_m04_0310_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Alaric: Go!
Act_EtherComm = echo_m04, 150227, Player, dx_m04_0320_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric


Act_ActTrig = REACTOR_complete_dialog
Act_ActTrig = init_FLY_TO_SIG8

[Trigger]
nickname = init_FLY_TO_SIG8
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_anticipation_more_forboding
Act_ActTrig = officer_scene_setrep
Act_ActTrig = keln_ships_setrep
Act_SetNNObj = nn_biz_to_sig8_fly
Act_NagDistTowards = OBJ, nn_biz_to_sig8_fly, nag_voice, rh_biz_jh_to_sig8, 90001, 4000, NAG_ALWAYS
Act_GiveObjList = Player, command_follow_player
Act_ActTrig = FLY_TO_SIG8_make_enemy_again
Act_ActTrig = FLY_TO_SIG8_remove_keln_enemy
Act_ActTrig = FLY_TO_SIG8_fly_away_dialog
Act_DeActTrig = KELN_BATTLE_reinforce

[ObjList]
nickname = command_follow_player
SetPriority = NORMAL
FollowPlayer = fighter_basic, jacobo, hassler, alaric

[Trigger]
nickname = FLY_TO_SIG8_make_enemy_again
Cnd_Timer = 30
Act_ActTrig = keln_ships_setrep_enemy
Act_ActTrig = officer_scene_setrep_enemy

[Trigger]
nickname = FLY_TO_SIG8_remove_keln_enemy
Cnd_DistShip = outside, Player, rh_biz_05, 10000
Act_Destroy = keln_reinforcement1, SILENT
Act_Destroy = keln_reinforcement2, SILENT
Act_Destroy = keln_reinforcement3, SILENT
Act_Destroy = keln_reinforcement4, SILENT
Act_Destroy = keln_reinforcement5, SILENT
Act_Destroy = keln_reinforcement6, SILENT
Act_Destroy = officer_wing1, SILENT
Act_Destroy = officer_wing2, SILENT
Act_Destroy = officer_wing3, SILENT
Act_Destroy = officer_wing4, SILENT
Act_Destroy = cr1, SILENT
Act_Destroy = cr2, SILENT
Act_Destroy = gb1, SILENT
Act_Destroy = gb2, SILENT




[Trigger]
nickname = FLY_TO_SIG8_fly_away_dialog
Cnd_DistShip = outside, Player, rh_biz_05, 3500

;Trent:
Act_EtherComm = echo_m04_player, 150228, Player, dx_m04_0330_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150229, Player, dx_m04_0340_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150230, Player, dx_m04_0350_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150231, Player, dx_m04_0360_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Hassler:
Act_EtherComm = echo_m04, 150232, Player, dx_m04_0410_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Hassler:
Act_EtherComm = echo_m04, 150233, Player, dx_m04_0420_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = MID_LINE_ENDS

[Trigger]
nickname = MID_LINE_ENDS
Cnd_CommComplete = dx_m04_0420_hassler

;Hassler:
Act_EtherComm = echo_m04, 150234, Player, dx_m04_0560_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Jacobo:
Act_EtherComm = echo_m04, 150235, Player, dx_m04_0570_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

;Trent:
Act_EtherComm = echo_m04_player, 150236, Player, dx_m04_0590_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150237, Player, dx_m04_0600_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Jacobo:
Act_EtherComm = echo_m04, 150238, Player, dx_m04_0610_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

;Hassler:
Act_EtherComm = echo_m04, 150239, Player, dx_m04_0620_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = FLY_TO_SIG8_fly_away_dialog_done

[Trigger]
nickname = FLY_TO_SIG8_fly_away_dialog_done
Cnd_CommComplete = dx_m04_0620_hassler
Act_ActTrig = around_SIG8_gate

[Trigger]
nickname = around_SIG8_gate
Cnd_DistShip = inside, Player, rh_biz_jh_to_sig8, 3000
Act_SetNNObj = nn_biz_to_sig8
Act_PlayerCanDock = false, rh_biz_jh_to_sig8
Act_NagOff = nn_biz_to_sig8_fly
Act_NagDistLeaving = nn_biz_to_sig8, nag_voice, rh_biz_jh_to_sig8, 90003, 1000, NAG_ALWAYS
Act_ActTrig = welcome_to_sig8

;---

[ObjList]
nickname = follow_hassler
SetPriority = ALWAYS_EXECUTE
follow = hassler

;---

[Trigger]
nickname = welcome_to_sig8
Cnd_NPCSystemEnter = sig8, jacobo, hassler, alaric, Player
Act_NagOff = nn_biz_to_sig8
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_ActTrig = SIG8_BATTLE_init

[Trigger]
nickname = SIG8_BATTLE_init
Cnd_True = no_params
Act_PlayerEnemyClamp = 1, 3
Act_SpawnShip = s8_cruiser, no_ol, -28500.00, 0.00, 44000.00, 0.26, 0.00, -0.97, 0.00
Act_Invulnerable = s8_cruiser, true, true
Act_SpawnShip = ms4_f11, no_ol, -27600.0, 150.0, 44500.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = ms4_f12, no_ol, -27650.0, 150.0, 44450.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = ms4_f13, no_ol, -27700.0, 150.0, 44400.0, 0.7071067811865476, 0.0, 0.7071067811865475, 0.0
Act_SpawnShip = ms4_f21, no_ol, -28800.0, 200.0, 43300.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = ms4_f22, no_ol, -28850.0, 200.0, 43250.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_SpawnShip = ms4_f23, no_ol, -28900.0, 200.0, 43200.0, 6.123031769111886e-17, 0.0, 1.0, 0.0
Act_PlayMusic = none, none, none, music_rh_battle
Act_SetNNObj = nn_attack_cruiser


Act_ActTrig = sigma8_welcome_setrep_enemy

Act_ActTRig = SIG8_BATTLE_alaric_return_to_hassler
Act_GiveObjList = jacobo, follow_player
Act_MarkObj = jacobo, 1
Act_MarkObj = hassler, 1
Act_MarkObj = alaric, 1
Act_ActTrig = Friend_Armor
Act_ActTrig = Friend_Setrep
Act_ActTrig = SIG8_BATTLE_dialog

[ObjList]
nickname = alaric_goto_hassler
avoidance = false
GotoShip = goto_no_cruise, hassler, 300, false

[Trigger]
nickname = SIG8_BATTLE_alaric_return_to_hassler
Cnd_DistShip = outside, alaric, hassler, 2000
Act_GiveObjList = alaric, alaric_goto_hassler
Act_ActTrig = SIG8_BATTLE_alaric_return_to_hassler_reset

[Trigger]
nickname = SIG8_BATTLE_alaric_return_to_hassler_reset
Cnd_DistShip = inside, alaric, hassler, 1800
Act_ActTrig = SIG8_BATTLE_alaric_return_to_hassler

[Trigger]
nickname = SIG8_BATTLE_alaric_return_to_hassler_turn_off
Cnd_True = no_params
Act_DeActTrig = SIG8_BATTLE_alaric_return_to_hassler
Act_DeActTrig = SIG8_BATTLE_alaric_return_to_hassler_reset


[Trigger]
nickname = SIG8_BATTLE_dialog
Cnd_Timer = 0.5
;Hassler: How they did find us
Act_EtherComm = echo_m04, 150240, Player, dx_m04_0630_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_EtherComm = echo_m04, 150241, Player, dx_m04_9150_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

Act_MarkObj = s8_cruiser, 1
Act_ActTrig = SIG8_CRUISER_destroyed

Act_ActTrig = SIG8_critical_point_info

[Trigger]
nickname = SIG8_critical_point_info
Cnd_CommComplete = dx_m04_9150_alaric
Act_Popupdialog = 33663, 33664, CLOSE

[Trigger]
nickname = SIG8_CRUISER_destroyed
Cnd_Destroyed = s8_cruiser
Act_SpawnShip = s8_reinforcement1, no_ol
Act_SpawnShip = s8_reinforcement2, no_ol
Act_SpawnShip = s8_reinforcement3, no_ol
Act_ActTrig = sigma8_welcome_setrep_enemy
Act_GiveObjList = jacobo, jacobo_goto_sun
;Jacobo: I am damaged!
Act_EtherComm = echo_m04, 150243, Player, dx_m04_0640_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b

Act_LightFuse = jacobo, intermed_damage_smallship01
Act_LightFuse = jacobo, intermed_damage_smallship02
Act_LightFuse = jacobo, intermed_damage_smallship03
Act_ActTrig = SIG8_JACOBO_DESTROYING_scene

[Trigger]
nickname = SIG8_JACOBO_DESTROYING_scene
Cnd_CommComplete = dx_m04_0640_jacobo
Act_ActTrig = SIG_JACOBO_DESTROYING_wait

[Trigger]
nickname = SIG_JACOBO_DESTROYING_wait
Cnd_Timer = 2
Act_CallThorn = scripts\mod\m04_jacobo_death.thn, jacobo
Act_ActTrig = SIG8_JACOBO_THE_DESTROY
Act_ActTrig = SIG8_JACOBO_death_sound

[Trigger]
nickname = SIG8_JACOBO_death_sound
Cnd_Timer = 1.5
;Jacobo: Aarrrgghhhh....
Act_EtherComm = echo_m04, 150244, Player, dx_m04_0650_jacobo, -1, pl_male1_head, pi_pirate2_body, prop_neuralnet_b


[Trigger]
nickname = SIG8_JACOBO_THE_DESTROY
Cnd_Timer = 2
Act_Destroy = jacobo
Act_PlayMusic = none, none, none, music_solemn_and_grave
Act_ActTrig = SIG8_JACOBO_scene_ends
Act_ActTrig = SIG8_JACOBO_scene_change_music

[Trigger]
nickname = SIG8_JACOBO_scene_change_music
Cnd_Timer = 21
Act_PlayMusic = none, none, none, music_rh_battle

[Trigger]
nickname = SIG8_JACOBO_scene_ends
Cnd_Timer = 2
Act_PlayerEnemyClamp = 2, 4
Act_RevertCam = no_params
Act_ActTrig = SIG8_FIGHTERS_DEFEATED
Act_ActTrig = SIG8_JACOBO_dead_sad_dialog

[ObjList]
nickname = jacobo_goto_sun
BreakFormation = no_params
GotoShip = goto_no_cruise, sig8_sun, 200, false

[Trigger]
nickname = sigma8_welcome_setrep_neutral
Cnd_True = no_params
Act_SetVibeLbl = ally, fleet, REP_NEUTRAL
Act_SetVibeLbl = fleet, ally, REP_NEUTRAL
Act_SetVibeLblToShip = fleet, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, fleet, REP_NEUTRAL

[Trigger]
nickname = sigma8_welcome_setrep_enemy
Cnd_True = no_params

Act_SetVibeLbl = friend_fighter, fleet, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = fleet, friend_fighter, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = fleet, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, fleet, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = SIG8_JACOBO_dead_sad_dialog
Cnd_Timer = 2
;Trent: Damn!
Act_EtherComm = echo_m04_player, 150245, Player, dx_m04_0660_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_SetNNObj = nn_destroy_fighters

Act_MarkObj = ms4_f11, 1
Act_MarkObj = ms4_f12, 1
Act_MarkObj = ms4_f13, 1
Act_MarkObj = ms4_f21, 1
Act_MarkObj = ms4_f22, 1
Act_MarkObj = ms4_f23, 1
Act_MarkObj = s8_reinforcement1, 1
Act_MarkObj = s8_reinforcement2, 1
Act_MarkObj = s8_reinforcement3, 1


[Trigger]
nickname = SIG8_FIGHTERS_DEFEATED
Cnd_Destroyed = fleet_fighter, -1, ALL_IGNORE_LANDING
;Hassler: Completed! Go to waypoint
Act_EtherComm = echo_m04, 150246, Player, dx_m04_9300_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = SIG8_BATTLE_alaric_return_to_hassler_turn_off
Act_ActTrig = SIG8_FLY_init

[ObjList]
nickname = small_command_follow_player
SetPriority = NORMAL
FollowPlayer = fighter_basic, hassler, alaric

[Trigger]
nickname = SIG8_FLY_init
Cnd_True = no_params
Act_PlayMusic = none, none, none, music_reveal_and_exposition
Act_GiveObjList = Player, small_command_follow_player
Act_ActTrig = SIG8_OUTPOST_WP_progress_dialog

Act_ActTrig = SIG8_OUTPOST_fly_objective

[Trigger]
nickname = SIG8_OUTPOST_WP_progress_dialog
Cnd_Timer = 5
;Hassler:
Act_EtherComm = echo_m04, 150247, Player, dx_m04_0670_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150248, Player, dx_m04_0680_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150249, Player, dx_m04_0690_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Hassler:
Act_EtherComm = echo_m04, 150250, Player, dx_m04_0700_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150251, Player, dx_m04_0710_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = SIG8_OUTPOST_WP_progress_dialog_pack2

[Trigger]
nickname = SIG8_OUTPOST_WP_progress_dialog_pack2
Cnd_CommComplete = dx_m04_0710_trent
;Hassler:
Act_EtherComm = echo_m04, 150252, Player, dx_m04_0720_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150253, Player, dx_m04_0730_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150254, Player, dx_m04_0740_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Alaric:
Act_EtherComm = echo_m04, 150255, Player, dx_m04_0750_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Hassler:
Act_EtherComm = echo_m04, 150256, Player, dx_m04_0760_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = SIG8_OUTPOST_WP_progress_dialog_pack3

[Trigger]
nickname = SIG8_OUTPOST_WP_progress_dialog_pack3
Cnd_CommComplete = dx_m04_0760_hassler
;Trent:
Act_EtherComm = echo_m04_player, 150257, Player, dx_m04_0770_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150258, Player, dx_m04_0780_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150259, Player, dx_m04_0790_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150260, Player, dx_m04_0800_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150261, Player, dx_m04_0810_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = SIG8_OUTPOST_WP_progress_dialog_pack4

[Trigger]
nickname = SIG8_OUTPOST_WP_progress_dialog_pack4
Cnd_CommComplete = dx_m04_0810_trent
;Hassler:
Act_EtherComm = echo_m04, 150262, Player, dx_m04_0820_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150263, Player, dx_m04_0830_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150264, Player, dx_m04_0840_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150265, Player, dx_m04_0850_trent, -1, pi_pirate5_head, player_body, player_commhelmet

[Trigger]
nickname = SIG8_OUTPOST_fly_objective
Cnd_True = no_params
Act_SetNNObj = nn_goto_escape_point1
Act_NagDistTowards = POS, nn_goto_escape_point1, nag_voice, -10000.0, 0.0, 30000.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = REACH_nn_goto_escape_point1

[Trigger]
nickname = REACH_nn_goto_escape_point1
Cnd_DistVec = inside, Player, -10000.00, 0.00, 30000.00, 2000
Act_SetNNObj = nn_goto_escape_point2
Act_NagOff = nn_goto_escape_point1
Act_NagDistTowards = POS, nn_goto_escape_point2, nag_voice, 5000.0, 0.0, 15000.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = REACH_nn_goto_escape_point2

[Trigger]
nickname = REACH_nn_goto_escape_point2
Cnd_DistVec = inside, Player, 5000.00, 0.00, 15000.00, 2000
Act_ActTrig = SIG8_FORBES_WP_outpost_dialog
Act_SetNNObj = nn_goto_escape_point3
Act_NagOff = nn_goto_escape_point2
Act_NagDistTowards = POS, nn_goto_escape_point3, nag_voice, 25000.0, 0.0, 25000.0, 90001, 4000, NAG_ALWAYS
Act_ActTrig = REACH_nn_goto_escape_point3

[Trigger]
nickname = REACH_nn_goto_escape_point3
Cnd_DistVec = inside, Player, 25000.00, 0.00, 25000.00, 2000
Act_SetNNObj = nn_sig8_to_for_fly
Act_NagOff = nn_goto_escape_point3
Act_NagDistTowards = OBJ, nn_sig8_to_for_fly, nag_voice, sig8_jh_to_li_for, 90001, 4000, NAG_ALWAYS
Act_ActTrig = SIG8_GOTO_JUMP_near_HOLE
Act_ActTrig = SIG8_FORBES_OBJECTIVE_dialog

[Trigger]
nickname = SIG8_FORBES_WP_outpost_dialog
Cnd_Timer = 5
;Outpost:
Act_EtherComm = echo_m04_female, 150266, Player, dx_m04_0900_outpost, -1, rh_newscaster_head_gen_hat, rh_female_elite_body, prop_hat_female_rh_elite

;Hassler:
Act_EtherComm = echo_m04, 150267, Player, dx_m04_0910_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Outpost:
Act_EtherComm = echo_m04_female, 150268, Player, dx_m04_0920_outpost, -1, rh_newscaster_head_gen_hat, rh_female_elite_body, prop_hat_female_rh_elite

;Trent:
Act_EtherComm = echo_m04_player, 150269, Player, dx_m04_0930_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Alaric:
Act_EtherComm = echo_m04, 150270, Player, dx_m04_0940_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Hassler:
Act_EtherComm = echo_m04, 150271, Player, dx_m04_0950_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman



[Trigger]
nickname = SIG8_FORBES_OBJECTIVE_dialog
Cnd_Timer = 10
;Hassler:
Act_EtherComm = echo_m04, 150272, Player, dx_m04_0860_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Alaric:
Act_EtherComm = echo_m04, 150273, Player, dx_m04_0870_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Hassler:
Act_EtherComm = echo_m04, 150274, Player, dx_m04_0875_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Trent:
Act_EtherComm = echo_m04_player, 150275, Player, dx_m04_0880_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150276, Player, dx_m04_0890_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman


[Trigger]
nickname = SIG8_GOTO_JUMP_near_HOLE
Cnd_DistVec = inside, Player, 45000.00, 0.00, 35000.00, 1000
Act_NagOff = sig8_goto_jump
Act_Pobjidle = no_params
Act_ActTrig = INIT_JUMPHOLE_activation

Act_Save = save_state_forbes_jh, 33662

[Trigger]
nickname = save_state_forbes_jh
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = init_the_save_state_forbes_jh

[Trigger]
nickname = init_the_save_state_forbes_jh
Cnd_Timer = 0.3

Act_RelocateShip = Player, 44000.00, 0.00, 35500.00, 0.82, 0.00, -0.57, 0.00
Act_SpawnShip = alaric, no_ol, 44050.00, 0.00, 35600.00, 0.82, 0.00, -0.57, 0.00
Act_SpawnShip = hassler, no_ol, 43960.00, 0.00, 35400.00, 0.82, 0.00, -0.57, 0.00
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_ActTrig = Friend_Armor
Act_ActTrig = Friend_Setrep
Act_ActTrig = INIT_JUMPHOLE_activation

[Trigger]
nickname = INIT_JUMPHOLE_activation
Cnd_Timer = 0.2
Act_PlayMusic = no_params
;Hassler: We are there. Beginning activation...
Act_EtherComm = echo_m04, 150277, Player, dx_m04_0960_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_SetNNObj = nn_wait_for_activation
Act_NagOff = nn_sig8_to_for_fly
Act_Jumper = hassler, false
Act_GiveObjList = hassler, unform
Act_GiveObjList = alaric, unform
Act_GiveObjList = Player, unform
Act_ActTrig = INIT_JUMPHOLE_first_waiting

[Trigger]
nickname = INIT_JUMPHOLE_first_waiting
Cnd_CommComplete = dx_m04_0960_hassler
Act_ActTrig = INIT_JUMPHOLE_the_corsairs

[Trigger]
nickname = INIT_JUMPHOLE_spawn_corsairs
Cnd_True = no_params
Act_SpawnShip = corsair1, no_ol
Act_SpawnShip = corsair2, no_ol
Act_SpawnShip = corsair3, no_ol
Act_SpawnShip = corsair4, no_ol
Act_SpawnShip = corsair5, no_ol
Act_SpawnShip = corsair6, no_ol

[Trigger]
nickname = corsairs_setrep_enemy
Cnd_True = no_params
Act_SetVibeLbl = friend_fighter, corsairs, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = corsairs, friend_fighter, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = corsairs, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, corsairs, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = INIT_JUMPHOLE_the_corsairs
Cnd_Timer = 2
Act_ActTrig = INIT_JUMPHOLE_spawn_corsairs
;Alaric:
Act_EtherComm = echo_m04, 150278, Player, dx_m04_0970_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Trent:
Act_EtherComm = echo_m04_player, 150279, Player, dx_m04_0980_trent, -1, pi_pirate5_head, player_body, player_commhelmet

Act_ActTrig = INIT_JUMPHOLE_corsairs_destroyed
Act_ActTrig = INIT_JUMPHOLE_set_nn_kill_corsairs

[Trigger]
nickname = INIT_JUMPHOLE_set_nn_kill_corsairs
Cnd_CommComplete = dx_m04_0970_alaric
Act_ActTrig = corsairs_setrep_enemy
Act_SetNNObj = nn_destroy_corsairs

Act_MarkObj = corsair1, 1
Act_MarkObj = corsair2, 1
Act_MarkObj = corsair3, 1
Act_MarkObj = corsair4, 1
Act_MarkObj = corsair5, 1
Act_MarkObj = corsair6, 1

[Trigger]
nickname = INIT_JUMPHOLE_corsairs_destroyed
Cnd_Destroyed = corsairs, -1, ALL
;Hassler: Trying again
Act_EtherComm = echo_m04, 150280, Player, dx_m04_0990_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_GiveObjList = alaric, goto_forbes_jumphole
Act_GiveObjList = hassler, goto_forbes_jumphole
Act_ActTrig = JUMPHOLE_ACTIVATED

[Trigger]
nickname = JUMPHOLE_ACTIVATED
Cnd_CommComplete = dx_m04_0990_hassler
Act_CallThorn = scripts\mod\m04_jumphole.thn, sig8_jh_to_li_for
Act_LightFuse = sig8_jh_to_li_for, msn03_jumphole_init
Act_ActTrig = JUMPHOLE_ACTIVATED_revert_camera

[Trigger]
nickname = JUMPHOLE_ACTIVATED_revert_camera
Cnd_Timer = 4
Act_RevertCam = no_params
Act_ActTrig = JUMPHOLE_ACTIVATED_init_mission

[Trigger]
nickname = JUMPHOLE_ACTIVATED_init_mission
Cnd_Timer = 1

Act_ActTrig = JUMPHOLE_ACTIVATED_bye_bye


[Trigger]
nickname = JUMPHOLE_ACTIVATED_bye_bye
Cnd_True = no_params
;Hassler: Jumphole activated!
Act_EtherComm = echo_m04, 150281, Player, dx_m04_0995_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

;Alaric:
Act_EtherComm = echo_m04, 150282, Player, dx_m04_1000_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Trent:
Act_EtherComm = echo_m04_player, 150283, Player, dx_m04_1010_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hassler:
Act_EtherComm = echo_m04, 150284, Player, dx_m04_1020_hassler, -1, rh_hassler_head, rh_male_elite_body, comm_rh_reichman

Act_ActTrig = JUMPHOLE_ACTIVATED_alaric_dock
Act_ActTrig = JUMPHOLE_ACTIVATED_bye_bye_ends

[Trigger]
nickname = JUMPHOLE_ACTIVATED_alaric_dock
Cnd_CommComplete = dx_m04_1000_alaric
Act_GiveObjList = alaric, do_forbes_jump

[Trigger]
nickname = JUMPHOLE_ACTIVATED_bye_bye_ends
Cnd_CommComplete = dx_m04_1020_hassler
Act_ActTrig = JUMPHOLE_ACTIVATED_timelimit
Act_ActTrig = JUMPHOLE_ACTIVATED_timelimit_off
;TODO: nagdist
;Act_SetNNObj = ms4_16_use_jumphole
Act_LockDock = Player, sig8_jh_to_li_for, unlock
Act_EnableManeuver = dock, true
Act_SetNNObj = nn_sig8_to_for
Act_PlayerCanDock = false, sig8_jh_to_li_for
Act_NagDistLeaving = nn_sig8_to_for, nag_voice, sig8_jh_to_li_for, 90003, 1000, NAG_ALWAYS
Act_ActTrig = welcome_to_forbes

[Trigger]
nickname = JUMPHOLE_ACTIVATED_timelimit
Cnd_Timer = 200
Act_ChangeState = FAIL, 094103 ; not activated jumphole failure

[Trigger]
nickname = JUMPHOLE_ACTIVATED_timelimit_off
Cnd_SystemExit = sig8
Act_DeActTrig = JUMPHOLE_ACTIVATED_timelimit


;---

[ObjList]
nickname = goto_forbes_jumphole
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_no_cruise, SIG8_TO_FOR, 300, false

[ObjList]
nickname = do_forbes_jump
SetPriority = ALWAYS_EXECUTE
Dock = sig8_to_for

;----

[Trigger]
nickname = welcome_to_forbes
Cnd_NPCSystemEnter = li_for, alaric, Player
Act_DeActTrig = JUMPHOLE_ACTIVATED_timelimit
Act_DEActTrig = JUMPHOLE_ACTIVATED_timelimit_off
Act_Destroy = nag_voice, SILENT
Act_SpawnShip = nag_voice
Act_GiveObjList = alaric, follow_player

;Alaric:
Act_EtherComm = echo_m04, 150285, Player, dx_m04_1030_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

;Trent:
Act_EtherComm = echo_m04_player, 150286, Player, dx_m04_1040_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Trent:
Act_EtherComm = echo_m04_player, 150287, Player, dx_m04_1050_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Alaric:
Act_EtherComm = echo_m04, 150288, Player, dx_m04_1060_alaric, -1, rh_alaric_head_hat, pi_pirate6_body, comm_rh_alaric

Act_ActTrig = FORBES_LETS_GO

[Trigger]
nickname = FORBES_LETS_GO
Cnd_CommComplete = dx_m04_1050_trent
Act_SetNNObj = nn_shipyard
Act_PlayerCanDock = false, li_for_02
Act_NagOff = nn_sig8_to_for
Act_NagDistLeaving = nn_shipyard, nag_voice, li_for_02, 90004, 4000, NAG_ALWAYS
Act_ActTrig = HATCHER_FIRST_MESSAGES

[Trigger]
nickname = HATCHER_FIRST_MESSAGES
Cnd_DistVec = inside, Player, 40000.00, 0.00, 25000.00, 6000.0
;Hatcher:
Act_EtherComm = echo_m04_female, 150289, Player, dx_m04_1070_hatcher, -1, li_hatcher_head, li_hatcher_body, new_fem_glasses

;Trent:
Act_EtherComm = echo_m04_player, 150290, Player, dx_m04_1080_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hatcher:
Act_EtherComm = echo_m04_female, 150291, Player, dx_m04_1090_hatcher, -1, li_hatcher_head, li_hatcher_body, new_fem_glasses

;Trent:
Act_EtherComm = echo_m04_player, 150292, Player, dx_m04_1100_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Trent:
Act_EtherComm = echo_m04_player, 150293, Player, dx_m04_1110_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hatcher:
Act_EtherComm = echo_m04_female, 150294, Player, dx_m04_1120_hatcher, -1, li_hatcher_head, li_hatcher_body, new_fem_glasses

;Trent:
Act_EtherComm = echo_m04_player, 150295, Player, dx_m04_1130_trent, -1, pi_pirate5_head, player_body, player_commhelmet

;Hatcher:
Act_EtherComm = echo_m04_female, 150296, Player, dx_m04_1140_hatcher, -1, li_hatcher_head, li_hatcher_body, new_fem_glasses

Act_ActTrig = GOTO_PLANET_init

[Trigger]
nickname = GOTO_PLANET_init
Cnd_CommComplete = dx_m04_1130_trent
Act_ActTrig = GOTO_PLANET_near_shipyard

[Trigger]
nickname = GOTO_PLANET_near_shipyard
Cnd_DistVec = inside, Player, 40000.00, 0.00, 25000.00, 2500.0
Act_SetNNObj = nn_for_tlr_1
Act_PlayerCanTradelane = false, LI_FOR_F_Trade_Lane_Ring_B07, LI_FOR_F_Trade_Lane_Ring_B06
Act_NagOff = nn_shipyard
Act_NagDistLeaving = nn_for_tlr_1, nag_voice, LI_FOR_F_Trade_Lane_Ring_B07, 90000, 100, NAG_ALWAYS
Act_ActTrig = GOTO_PLANET_in_TLR







[Trigger]
nickname = GOTO_PLANET_in_TLR
Cnd_TLEntered = Player, LI_FOR_F_Trade_Lane_Ring_B07, LI_FOR_F_Trade_Lane_Ring_B06
Act_LockManeuvers = true
Act_NagOff = nn_for_tlr_1
Act_SetNNObj = null, OBJECTIVE_HISTORY
Act_ActTrig = FOR_TLR_EXIT

[Trigger]
nickname = FOR_TLR_EXIT
Cnd_TLExited = Player, LI_FOR_F_Trade_Lane_Ring_B01
Act_LockManeuvers = false
Act_PlayerCanTradelane = false

Act_PlayMusic = music_li_space, music_li_danger, music_li_battle, music_victory, 1, true
Act_SetNNObj = nn_final_planet
Act_PlayerCanDock = false, li_for_01
Act_NagDistLeaving = nn_final_planet, nag_voice, li_for_01, 90004, 4000, NAG_ALWAYS
Act_ActTrig = player_on_planet_forbes
Act_ActTrig = TLR_EXIT_alaric_dock_on_forbes

[Trigger]
nickname = TLR_EXIT_alaric_dock_on_forbes
Cnd_Timer = 3
Act_GiveObjList = alaric, dock_on_forbes


;----
[ObjList]
nickname = dock_on_forbes
BreakFormation = no_params
Dock = Li_for_dock_ring
;----

[Trigger]
nickname = player_on_planet_forbes
system = li_for
Cnd_BaseEnter = li_for_01_base
Act_AddRTC = missions\m04\hatcher_bar_rtc.ini
Act_ActTrig = loc_enter_Cityscape
Act_NagOff = forbes_planet
repeatable = true

[Trigger]
nickname = loc_enter_Cityscape
Cnd_LocEnter = Cityscape, li_for_01_base
Act_AdjAcct = 17500
Act_AddRTC = missions\m04\cityscape_rtc.ini
Act_ActTrig = final_cutscene_done
repeatable = true

[Trigger]
nickname = final_cutscene_done
Cnd_RTCDone = missions\m04\cityscape_rtc.ini
Act_ActTrig = MSN_REP_AFTER
Act_ChangeState = SUCCEED



;----

[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, rh_grp, 0
Act_SetRep = Player, rc_grp, 0
Act_SetRep = Player, rx_grp, -0.3
Act_SetRep = Player, co_grp, -0.9
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, rh_grp, -0.65
Act_SetRep = Player, rc_grp, -0.65
Act_SetRep = Player, rx_grp, -0.65
Act_SetRep = Player, bh_grp, 0
Act_SetRep = Player, li_grp, 0.3
Act_SetRep = Player, lc_grp, 0.3
Act_SetRep = Player, lx_grp, -0.3
Act_ActTrig = REP_HOTFIX

[Trigger]
nickname = REP_HOTFIX
Cnd_True = no_params
Act_SetRep = Player, fc_lr_grp, -0.8

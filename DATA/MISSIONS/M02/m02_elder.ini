[; 
Доработать:
1. улетание за пределы боя
2. формация после прилёта в систему
3. допилить битву против базы корсар


[Mission]
npc_ship_file = missions\m02\npcships.ini
mission_title = 021877
mission_offer = 021876


;--------------------------------

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
Break_formation = no_params
;---------------------------------

[NNObjective]
nickname = ms2_00_dock_on_battleship
state = HIDDEN
type = rep_inst, rh_biz, 021851, 021851, -25800, -9000, 18500, rh_biz_03

[NNObjective]
nickname = ms2_01_find_wilham_in_bar
state = HIDDEN
type = ids, 021852

[NNObjective]
nickname = ms2_02_launch_to_space
state = HIDDEN
type = ids, 021853

[NNObjective]
nickname = ms2_03_jump_to_rh_mnh
state = HIDDEN
type = rep_inst, rh_biz, 021854, 021854, -35000, 1000, -27000, BIZ_TO_MNH

[NNObjective]
nickname = ms2_04_go_to_depot
state = HIDDEN
type = rep_inst, rh_mnh, 021855, 021855, 11500, 0, 28500, rh_mnh_02

[NNObjective]
nickname = ms2_05_find_ship
state = HIDDEN
type = rep_inst, rh_mnh, 021856, 021856, -45000, 2000, -10000, ms2_top_secret

[NNObjective]
nickname = ms2_06_destoy_junkers
state = HIDDEN
type = ids, 021857

[NNObjective]
nickname = ms2_07_find_ramon
state = HIDDEN
type = navmarker, rh_mnh, 021858, 021858, -25000, 0, -77000

[NNObjective]
nickname = ms2_08_go_to_depot
state = HIDDEN
type = rep_inst, rh_mnh, 021859, 021859, 11500, 0, 28500, rh_mnh_02

[NNObjective]
nickname = ms2_09_jump_to_biz
state = HIDDEN
type = rep_inst, rh_mnh, 021860, 021860, 43000, 2000, 12000, mnh_to_biz

[NNObjective]
nickname = ms2_10_go_to_battleship_after_munchen
state = HIDDEN
type = rep_inst, rh_biz, 021861, 021861, -25800, -9000, 18500, rh_biz_03

[NNObjective]
nickname = ms2_11_jump_to_om15
state = HIDDEN
type = rep_inst, rh_biz, 021862, 021862, 5000, -7000, 38000, BIZ_TO_OM15

[NNObjective]
nickname = ms2_12_find_com_sat
state = HIDDEN
type = rep_inst, om15, 021863, 021863, -25000, 0, -77000. ms2_sattelite

[NNObjective]
nickname = ms2_13_destroy_defend
state = HIDDEN
type = ids, 021864

[NNObjective]
nickname = ms2_14_destroy_com_sat
state = HIDDEN
;type = ids, 021865 ;OLD VERSION
type = rep_inst, om15, 021865, 021865, -25000, 0, -77000, ms2_sattelite


[NNObjective]
nickname = ms2_15_find_corsair_base
state = HIDDEN
type = navmarker, om15, 021866, 021866, 0, 20000, -80000

[NNObjective]
nickname = ms2_16_destroy_defend
state = HIDDEN
type = ids, 021867

[NNObjective]
nickname = ms2_17_destroy_all_turrets
state = HIDDEN
type = ids, 021868

[NNObjective]
nickname = ms2_18_destroy_all_enemy
state = HIDDEN
type = ids, 021869

[NNObjective]
nickname = ms2_19_jump_to_biz
state = HIDDEN
type = rep_inst, om15, 021870, 021870, 25000, 0, -25000, OM15_to_BIZ

[NNObjective]
nickname = ms2_20_go_to_battleship_after_omega15
state = HIDDEN
type = rep_inst, rh_biz, 021871, 021871, -25800, -9000, 18500, rh_biz_03

[NNObjective]
nickname = ms2_21_dock_on_battleship_final
state = HIDDEN
type = rep_inst, rh_biz, 021872, 021872, -25800, -9000, 18500, rh_biz_03

[NNObjective]
nickname = ms2_23_find_reichman
state = HIDDEN
type = ids, 021873


;---------------------------------

[Trigger]
nickname = comm_wilham_vendor
Cnd_True = no_params
Act_EtherComm = king, 216033, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body

[Trigger]
nickname = comm_wilham
Cnd_True = no_params
Act_EtherComm = king, 216033, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, comm_rh_wilham

[Trigger]
nickname = comm_reichman
Cnd_True = no_params
Act_EtherComm = king, 216031, Player, DX_M01_0000_MOD, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A

[Trigger]
nickname = comm_punisher_a
Cnd_True = no_params
Act_EtherComm = king, 217106, Player, DX_M01_0000_MOD, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A

[Trigger]
nickname = comm_punisher_b
Cnd_True = no_params
Act_EtherComm = king, 217110, Player, DX_M01_0000_MOD, -1, rh_reichman_head, rh_reichman_body, prop_neuralnet_A


[Trigger]
nickname = comm_moric
Cnd_True = no_params
Act_EtherComm = king, 216035, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, prop_neuralnet_C

[Trigger]
nickname = comm_billy
Cnd_True = no_params
Act_EtherComm = king, 216041, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, comm_br_darcy

[Trigger]
nickname = comm_colman
Cnd_True = no_params
Act_EtherComm = king, 216037, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, comm_li_elite


[Trigger]
nickname = comm_sabas
Cnd_True = no_params
Act_EtherComm = king, 216039, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, prop_neuralnet_F_combo

[Trigger]
nickname = comm_ramon
Cnd_True = no_params
Act_EtherComm = king, 216041, Player, DX_M01_0000_MOD, -1, rh_wilham_head, rh_wilham_body, comm_br_darcy


[Trigger]
nickname = comm_aleio
Cnd_True = no_params
Act_EtherComm = king, 216045, Player, DX_M01_0000_MOD, -1, rh_alaric_head, rh_wilham_body, comm_br_darcy

[Trigger]
nickname = comm_jacobo
Cnd_True = no_params
Act_EtherComm = king, 216047, Player, DX_M01_0000_MOD, -1, rh_alaric_head, rh_wilham_body, comm_br_darcy

;------------------------------------

[Trigger]
nickname = init_ms2
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = ms2_first_message_in_space
Act_ActTrig = ms2_first_message_not_in_space
Act_ActTrig = ms2_first_message_on_planet
Act_ActTrig = ms2_battleship_open_together
Act_ActTrig = ms2_first_dock_on_fortran
Act_SetNNObj = ms2_00_dock_on_battleship


[Trigger]
nickname = ms2_first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = ms2_first_message_in_space

[Trigger]
nickname = ms2_first_message_in_space
Cnd_InSpace = true
Act_ActTrig = comm_wilham_vendor
Act_ActTrig = ms2_fist_popup_dialog
Act_DeActTrig = ms2_first_message_on_planet

[Trigger]
nickname = ms2_first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = comm_wilham_vendor
Act_ActTrig = ms2_fist_popup_dialog
Act_DeActTrig = ms2_first_message_in_space

[Trigger]
nickname = ms2_battleship_open_together
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = rh_biz_03

[Trigger]
nickname = ms2_fist_popup_dialog
Cnd_Timer = 2
Act_Popupdialog = 216034, 024899, CLOSE
Act_SpawnSolar = ms2_top_secret

;-------------------------

[Trigger]
nickname = ms2_first_dock_on_fortran
Cnd_LocEnter = Deck, rh_biz_03_base
Act_SetNNObj = ms2_01_find_wilham_in_bar
Act_ActTrig = ms2_create_wilham_vendor

;---msn02_vendor

[Trigger]
nickname = ms2_create_wilham_vendor
system = rh_biz
Cnd_LocEnter = Bar, rh_biz_03_base
Act_AddRTC = missions\m02\wilham.ini
Act_ActTrig = ms2_create_wilham_msn

[Trigger]
nickname = ms2_create_wilham_msn
system = rh_biz
Cnd_Timer = 0.7
Act_AddRTC = missions\m02\wilham_msn.ini
Act_ActTrig = ms2_do_accept
repeatable = true

[Trigger]
nickname = ms2_do_accept
system = rh_biz
Cnd_MsnResponse = accept
Act_NNIds = 030112, HISTORY
Act_DeactTrig = ms2_create_wilham_vendor
Act_DeactTrig = ms2_create_wilham_msn
Act_RemoveRTC = missions\m02\wilham.ini
Act_RemoveRTC = missions\m02\wilham_msn.ini
Act_PlayerCanDock = false
Act_SetOffer = 021878
Act_ActTrig = ms2_launch_create_wilham
Act_ActTrig = ms2_launch_complete
Act_SetNNObj = ms2_02_launch_to_space

Act_DeActTrig = ms2_first_message_in_space
Act_DeActTrig = ms2_first_message_not_in_space
Act_DeActTrig = ms2_first_message_on_planet
Act_DeActTrig = ms2_battleship_open_together
;------------------------------------

[NPC] 
nickname = npc_wilham
affiliation = rh_grp
npc_ship_arch = ms2_wilham
space_costume = rh_wilham_head, rh_wilham_body, comm_rh_wilham
individual_name = 216033

[MsnShip]
nickname = ms2_wilham
NPC = npc_wilham
jumper = true
label = ms2_ally
rel_pos = 0, Player, 10

;------------------------------------

[ObjList]
nickname = wilham_follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 150, -70, 50, -100, 50000 

;------------------------------------

[Trigger]
nickname = ms2_launch_create_wilham
Cnd_InSpace = true
Act_SpawnShip = ms2_wilham
Act_CallThorn = missions\m02\m02_cosmo_01.thn, Player 

Act_Invulnerable = ms2_wilham, true, false, 0.590000

;Act_ActTrig = TEST_THORN_SCRIPT

[Trigger] ;OFF BY DEFAULT
nickname = TEST_THORN_SCRIPT
Cnd_Timer = 1
Act_CallThorn = missions\m02\M02_Chase.thn, Player



[Trigger]
nickname = ms2_launch_complete
Cnd_LaunchComplete = Player
Act_GiveObjList = ms2_wilham, wilham_follow_player
Act_CallThorn = missions\m02\m02_king_01.thn, Player
Act_ActTrig = ms2_first_launch_revert
Act_MarkObj = ms2_wilham, 1
Act_SetVibeLblToShip = ms2_ally, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, ms2_ally, REP_FRIEND_THRESHOLD

[Trigger]
nickname = ms2_first_launch_revert
Cnd_Timer = 5
Act_RevertCam = no_params
Act_ActTrig = ms2_first_launch_comm_wilham

[Trigger]
nickname = ms2_first_launch_comm_wilham
Cnd_Timer = 1
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_first_launch_popup_wilham

[Trigger]
nickname = ms2_first_launch_popup_wilham
Cnd_Timer = 2
Act_Popupdialog = 216034, 024898, CLOSE
Act_SetNNObj = ms2_03_jump_to_rh_mnh
Act_PlayerCanDock = false, biz_to_mnh
Act_ActTrig = ms2_welcome_to_munchen

;------------------------------

[Trigger]
nickname = ms2_welcome_to_munchen
Cnd_SystemExit = ANY
Act_RandomPop = false
Act_SetNNObj = ms2_04_go_to_depot
Act_ActTrig = ms2_first_around_depot
Act_Save = ms2_welcome_munchen_autosave

;---------------------------------ABSOLETE - begin
;Act_ActTrig = ms2_wlc_mnh_comm_wilham_01

[Trigger]
nickname = ms2_wlc_mnh_comm_wilham_01
Cnd_DistShip = outside, Player, mnh_to_biz, 5000
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_wlc_mnh_popup_wilham_01

[Trigger]
nickname = ms2_wlc_mnh_popup_wilham_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024901, CLOSE

;---------------------------------ABSOLETE - end

[Trigger]
nickname = ms2_welcome_munchen_autosave
Cnd_True = no_params
Act_GiveObjList = ms2_wilham, wilham_follow_player
Act_ActTrig = ms2_first_around_depot


[Trigger]
nickname = ms2_welcome_munchen_formations
Cnd_Timer = 1
Act_GiveObjList = ms2_wilham, wilham_follow_player

[Trigger]
nickname = ms2_first_around_depot
Cnd_DistShip = inside, Player, rh_mnh_02, 1500
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_wlc_depot_popup_wilham_01
Act_SpawnSolar = ms2_top_secret
Act_EnableManeuvers = formation, false

[Trigger]
nickname = ms2_wlc_depot_popup_wilham_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024902, CLOSE
Act_SetNNObj = ms2_05_find_ship
Act_LightFuse = ms2_top_secret, fuse_suprise_rh_elite
Act_ActTrig = ms2_around_ship
Act_GiveObjList = ms2_wilham, unform
Act_GiveObjList = ms2_wilham, force_stop
Act_MarkObj = ms2_wilham, 0

;-------------------------------------

[MsnSolar]
nickname = ms2_top_secret
string_id = 217112
system = rh_mnh
position = -45000, 2000, -10000
orientation = 1, 0, 0, 0
archetype = suprise_rh_elite_ms2
label = ms2_secret
radius = 0
loadout = ms2_top_secret

;Act_LightFuse = ms2_top_secret, fuse_suprise_rh_elite

[NPC] 
nickname = npc_csv
affiliation = pi_grp
npc_ship_arch = ms2_moric
individual_name = 216035

[NPC] 
nickname = npc_titan
affiliation = pi_grp
npc_ship_arch = ms2_billy
individual_name = 216041

[NPC] 
nickname = npc_sabre
affiliation = pi_grp
npc_ship_arch = ms2_colman
individual_name = 216037

[MsnShip]
nickname = ms2_moric
NPC = npc_csv
jumper = false
label = ms2_junker
rel_pos = 15, Player, 500

[MsnShip]
nickname = ms2_billy
NPC = npc_titan
jumper = false
label = ms2_junker
rel_pos = 60, Player, 500

[MsnShip]
nickname = ms2_colman
NPC = npc_sabre
jumper = false
label = ms2_junker
rel_pos = -60, Player, 500
;------------------------------------

[Trigger]
nickname = ms2_around_ship
Cnd_DistShip = inside, Player, ms2_top_secret, 250
Act_GiveObjList = Player, force_stop
;Act_LightFuse = ms2_top_secret, fuse_suprise_rh_elite
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_around_ship_popup_wilham_01

[Trigger]
nickname = ms2_around_ship_popup_wilham_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024903, CLOSE
Act_SpawnShip = ms2_moric
Act_SpawnShip = ms2_billy
Act_SpawnShip = ms2_colman
Act_SetVibeLblToShip = ms2_junker, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, ms2_junker, REP_NEUTRAL
Act_ActTrig = ms2_around_ship_camera

[Trigger]
nickname = ms2_around_ship_camera
Cnd_Timer = 0.2
Act_CallThorn = missions\m02\m02_king_01.thn, ms2_moric
Act_ActTrig = ms2_around_ship_camera_revert

[Trigger]
nickname = ms2_around_ship_camera_revert
Cnd_Timer = 5
Act_RevertCam = no_params
Act_ActTrig = ms2_around_ship_comm_moric_01

[Trigger]
nickname = ms2_around_ship_comm_moric_01
Cnd_Timer = 1
Act_ActTrig = comm_moric
Act_ActTrig = ms2_around_ship_popup_moric_01

[Trigger]
nickname = ms2_around_ship_popup_moric_01
Cnd_Timer = 2
Act_Popupdialog = 216036, 024904, CLOSE
Act_ActTrig = ms2_around_ship_comm_colman_02

[Trigger]
nickname = ms2_around_ship_comm_colman_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_colman
Act_ActTrig = ms2_around_ship_popup_colman_02

[Trigger]
nickname = ms2_around_ship_popup_colman_02
Cnd_Timer = 2
Act_Popupdialog = 216038, 024905, CLOSE
Act_ActTrig = ms2_init_battle

;--------------------------------

[ObjList]
nickname = junkers_attack_player
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_no_cruise, Player, 75, true
StayInRange = ms2_top_secret, 5000

;--------------------------------------

[Trigger]
nickname = ms2_init_battle
Cnd_Timer = 1
Act_SetVibeLblToShip = ms2_junker, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, ms2_junker, REP_HOSTILE_MAXIMUM
Act_SetNNObj = ms2_06_destoy_junkers
Act_GiveObjList = ms2_moric, junkers_attack_player
Act_GiveObjList = ms2_billy, junkers_attack_player
Act_GiveObjList = ms2_colman, junkers_attack_player
;Act_MarkObj = ms2_moric, 1
Act_MarkObj = ms2_billy, 1
Act_MarkObj = ms2_colman, 1
Act_ActTrig = ms2_moric_must_be_live
Act_ActTrig = ms2_around_ship_comm_wilham_04
Act_ActTrig = ms2_junkers_destroyed
Act_ActTrig = ms2_fade_away_around_ship

[Trigger]
nickname = ms2_around_ship_comm_wilham_04
Cnd_Timer = 5
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_around_ship_popup_wilham_04

[Trigger]
nickname = ms2_around_ship_popup_wilham_04
Cnd_Timer = 2
Act_Popupdialog = 216034, 024906, CLOSE

[Trigger]
nickname = ms2_moric_must_be_live
Cnd_Destroyed = ms2_moric, 1, EXPLODE
Act_ChangeState = FAIL, 024897

[Trigger]
nickname = ms2_fade_away_around_ship
Cnd_DistShip = outside, Player, ms2_top_secret, 7000, 5, TICK_AWAY
Act_Popupdialog = 216004, 024958, CLOSE
Act_ActTrig = ms2_fade_away_around_ship_fail

[Trigger]
nickname = ms2_fade_away_around_ship_fail
Cnd_DistShip = outside, Player, ms2_top_secret, 7000, 20, TICK_AWAY
Act_ChangeState = FAIL, 024959

;-------------------------------

[Trigger]
nickname = ms2_junkers_destroyed
Cnd_Destroyed = ms2_junker, 2
Act_SetVibeLblToShip = ms2_junker, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, ms2_junker, REP_NEUTRAL
Act_GiveObjList = ms2_moric, force_stop
Act_DeActTrig = ms2_fade_away_around_ship
Act_DeActTrig = ms2_fade_away_around_ship_fail
Act_ActTrig = comm_moric
Act_ActTrig = ms2_around_ship_popup_moric_05

[Trigger]
nickname = ms2_around_ship_popup_moric_05
Cnd_Timer = 2
Act_Popupdialog = 216036, 024907, CLOSE
Act_ActTrig = ms2_around_ship_comm_wilham_06

[Trigger]
nickname = ms2_around_ship_comm_wilham_06
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_around_ship_popup_wilham_06

[Trigger]
nickname = ms2_around_ship_popup_wilham_06
Cnd_Timer = 2
Act_Popupdialog = 216034, 024908, CLOSE
Act_SetNNObj = ms2_07_find_ramon
Act_DeActTrig = ms2_moric_must_be_live
Act_ActTrig = ms2_lets_destroy_moric
Act_ActTrig = ms2_around_ramon

[Trigger]
nickname = ms2_lets_destroy_moric
Cnd_DistShip = outside, Player, ms2_moric, 4000
Act_Destroy = ms2_moric
Act_Destroy = ms2_billy
Act_Destroy = ms2_colman
Act_Destroy = ms2_top_secret

;--------------------------

[NPC] 
nickname = npc_ramon
affiliation = edv_grp
npc_ship_arch = ms2_ramon
individual_name = 216037

[MsnShip]
nickname = ms2_ramon
NPC = npc_ramon
jumper = false
label = ms2_outcast
rel_pos = 180, Player, 500

[NPC] 
nickname = npc_sabas
affiliation = edv_grp
npc_ship_arch = ms2_sabas
individual_name = 216037

[MsnShip]
nickname = ms2_sabas
NPC = npc_sabas
jumper = false
label = ms2_outcast
rel_pos = 180, Player, 500

;------------------------------

[ObjList]
nickname = outcasts_go_to_player
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_no_cruise, Player, 25, true

;----------------------------

[Trigger]
nickname = ms2_around_ramon
Cnd_DistShip = inside, Player, rh_mnh_ms2_bship_debris_01, 500
Act_GiveObjList = Player, force_stop
;Act_CallThorn = missions\m02\m02_cosmo_01.thn, Player 
Act_CallThorn = missions\CAM\lock_on.thn, Player
Act_SpawnShip = ms2_sabas
Act_SpawnShip = ms2_ramon
Act_GiveObjList = ms2_sabas, outcasts_go_to_player
Act_GiveObjList = ms2_ramon, outcasts_go_to_player
Act_ActTrig = ms2_around_ramon_revert
Act_SetVibeLblToShip = ms2_outcast, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, ms2_outcast, REP_NEUTRAL

[Trigger]
nickname = ms2_around_ramon_revert
Cnd_Timer = 5
Act_RevertCam = no_params
Act_LockManeuvers = true
Act_ActTrig = ms2_around_ramon_comm_ramon_01

[Trigger]
nickname = ms2_around_ramon_comm_ramon_01
Cnd_Timer = 0.5
Act_ActTrig = comm_ramon
Act_ActTrig = ms2_around_ramon_popup_ramon_01

[Trigger]
nickname = ms2_around_ramon_popup_ramon_01
Cnd_Timer = 2
Act_Popupdialog = 216044, 024909, CLOSE
Act_ActTrig = ms2_around_ramon_comm_sabas_02

[Trigger]
nickname = ms2_around_ramon_comm_sabas_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_sabas
Act_ActTrig = ms2_around_ramon_popup_sabas_02

[Trigger]
nickname = ms2_around_ramon_popup_sabas_02
Cnd_Timer = 2
Act_Popupdialog = 216040, 024910, CLOSE
Act_ActTrig = ms2_around_ramon_comm_ramon_03

[Trigger]
nickname = ms2_around_ramon_comm_ramon_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_ramon
Act_ActTrig = ms2_around_ramon_popup_ramon_03

[Trigger]
nickname = ms2_around_ramon_popup_ramon_03
Cnd_Timer = 2
Act_Popupdialog = 216044, 024911, CLOSE
Act_SetNNObj = ms2_08_go_to_depot
Act_GiveObjList = ms2_sabas, force_stop
Act_GiveObjList = ms2_ramon, force_stop
Act_LockManeuvers = false
Act_ActTrig = ms2_lets_destroy_outcast
Act_ActTrig = ms2_new_around_depot


[Trigger]
nickname = ms2_lets_destroy_outcast
Cnd_DistShip = outside, Player, ms2_sabas, 4000
Act_Destroy = ms2_ramon
Act_Destroy = ms2_sabas



;------------------------------

[Trigger]
nickname = ms2_new_around_depot
Cnd_DistShip = inside, Player, rh_mnh_02, 2500
Act_RandomPop = true
Act_ActTrig = ms2_new_around_depot_player_stop
Act_GiveObjList = ms2_wilham, wilham_follow_player
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_new_around_depot_popup_wilham_01
Act_MarkObj = ms2_wilham, 1

[Trigger] 
nickname = ms2_new_around_depot_popup_wilham_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024912, CLOSE
Act_SetNNObj = ms2_09_jump_to_biz
Act_PlayerCanDock = false, mnh_to_biz
Act_ActTrig = ms2_welcome_to_bizmark_after_munchen

[Trigger]
nickname = ms2_new_around_depot_player_stop
Cnd_DistShip = inside, Player, rh_mnh_02, 750
Act_GiveObjList = Player, force_stop

;=============================

[NPC] 
nickname = npc_punisher_a01
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 217106

[NPC] 
nickname = npc_punisher_a02
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 217107

[NPC] 
nickname = npc_punisher_a03
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 217108

[NPC] 
nickname = npc_punisher_a04
affiliation = rh_grp
npc_ship_arch = ms2_punisher_a
individual_name = 217109

[NPC] 
nickname = npc_punisher_b05
affiliation = rh_grp
npc_ship_arch = ms2_punisher_b
individual_name = 217110

[MsnShip]
nickname = ms2_punisher_1
NPC = npc_punisher_a01
jumper = true
label = ms2_punisher_a

[MsnShip]
nickname = ms2_punisher_2
NPC = npc_punisher_a02
jumper = true
label = ms2_punisher_a

[MsnShip]
nickname = ms2_punisher_3
NPC = npc_punisher_a03
jumper = true
label = ms2_punisher_a

[MsnShip]
nickname = ms2_punisher_4
NPC = npc_punisher_a04
jumper = true
label = ms2_punisher_a

[MsnShip]
nickname = ms2_punisher_5
NPC = npc_punisher_b05
jumper = true
label = ms2_punisher_b

[MsnFormation]
nickname = ms2_PUNISHERS
position = -25500, -8900, 18500
formation = punishers
ship = ms2_punisher_1
ship = ms2_punisher_2
ship = ms2_punisher_3
ship = ms2_punisher_4
ship = ms2_punisher_5

;------------------------------
[Trigger]
nickname = ms2_welcome_to_bizmark_after_munchen
Cnd_SystemExit = RH_MNH
Act_RandomPop = true
Act_SetNNObj = ms2_10_go_to_battleship_after_munchen
Act_ActTrig = ms2_around_battleship_after_munchen
Act_ActTrig = ms2_on_way_to_bship_after_munchen

;-START DIALOG
[Trigger]
nickname = ms2_on_way_to_bship_after_munchen
system = rh_biz
Cnd_DistShip = inside, Player, rh_biz_03, 20000
Act_ActTrig = comm_reichman
Act_ActTrig = ms2_after_MNH_dlg_popup_01
Act_SpawnFormation = ms2_PUNISHERS
Act_Invulnerable = ms2_punisher_1, true, false, 0.590000
Act_Invulnerable = ms2_punisher_2, true, false, 0.590000
Act_Invulnerable = ms2_punisher_3, true, false, 0.590000
Act_Invulnerable = ms2_punisher_4, true, false, 0.590000
Act_Invulnerable = ms2_punisher_5, true, false, 0.590000
;----------------------CREATE PUNISHERS-----------------------

[Trigger]
nickname = ms2_after_MNH_dlg_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216032, 024913, CLOSE
Act_ActTrig = ms2_after_MNH_dlg_comm_02
;Act_GiveObjList = ms2_punisher_1, punishers_follow_player

[Trigger]
nickname = ms2_after_MNH_dlg_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_after_MNH_dlg_popup_02

[Trigger]
nickname = ms2_after_MNH_dlg_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216034, 024914, CLOSE
Act_ActTrig = ms2_after_MNH_dlg_comm_03

[Trigger]
nickname = ms2_after_MNH_dlg_comm_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_reichman
Act_ActTrig = ms2_after_MNH_dlg_popup_03

[Trigger]
nickname = ms2_after_MNH_dlg_popup_03
Cnd_Timer = 2
Act_Popupdialog = 216032, 024915, CLOSE
Act_ActTrig = ms2_around_bship_after_munchen
;-END DIALOG

[ObjList];maybe absolete
nickname = wilham_add_to_punishers
SetPriority = ALWAYS_EXECUTE
Follow = ms2_punisher_1, 150, 0, 30, 10, 50000

[ObjList]
nickname = punishers_follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player, 0, 0, 150, -100, 50000 

[ObjList]
nickname = punishers_regroup
SetPriority = ALWAYS_EXECUTE
follow = ms2_punisher_1

[Trigger]
nickname = ms2_around_bship_after_munchen
Cnd_DistShip = inside, Player, rh_biz_03, 1500
Act_GiveObjList = Player, force_stop
;Act_GiveObjList = ms2_wilham, wilham_add_to_punishers
Act_MarkObj = ms2_punisher_1, 1
Act_MarkObj = ms2_punisher_2, 1
Act_MarkObj = ms2_punisher_3, 1
Act_MarkObj = ms2_punisher_4, 1
Act_MarkObj = ms2_punisher_5, 1
Act_ActTrig = comm_punisher_a
Act_ActTrig = ms2_BIZ_punishers_dlg_popup_01

[Trigger]
nickname = ms2_BIZ_punishers_dlg_popup_01
Cnd_Timer = 2
Act_Popupdialog = 217111, 024916, CLOSE
Act_ActTrig = ms2_BIZ_punishers_dlg_comm_02

[Trigger]
nickname = ms2_BIZ_punishers_dlg_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_BIZ_punishers_dlg_popup_02

[Trigger]
nickname = ms2_BIZ_punishers_dlg_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216034, 024917, CLOSE

Act_GiveObjList = ms2_punisher_1, punishers_follow_player
Act_SetVibeLblToShip = ms2_punisher_a, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, ms2_punisher_a, REP_FRIEND_THRESHOLD
Act_SetVibeLblToShip = ms2_punisher_b, Player, REP_FRIEND_THRESHOLD
Act_SetVibeShipToLbl = Player, ms2_punisher_b, REP_FRIEND_THRESHOLD
Act_SetNNObj = ms2_11_jump_to_om15
Act_PlayerCanDock = false, biz_to_om15
Act_ActTrig = ms2_welcome_to_om15

;WELCOME TO OMEGA 15

[Trigger]
nickname = ms2_welcome_to_om15
Cnd_SystemExit = ANY
Act_RandomPop = true
Act_ActTrig = ms2_om15_first_objectives

;----SATTELITE INFORMATION
[MsnSolar]
nickname = ms2_sattelite
string_id = 217104
faction = co_grp
system = om15
position = -25000, 0, -77000
orientation = 1, 0, 0, 0
archetype = com_sat_ms2
label = ms2_satt
radius = 0
;---end

;---START DIALOG
[Trigger]
nickname = ms2_om15_first_objectives
Cnd_Timer = 5
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_wlc_om15_dlg_popup_01
Act_SpawnSolar = ms2_sattelite
Act_GiveObjList = ms2_punisher_1, punishers_follow_player
Act_GiveObjList = ms2_wilham, wilham_follow_player
;Act_Destroy = ms2_wilham, EXPLODE ;TEST TRIG ACTIVITY

Act_SetRep = Player, co_grp, -0.65

[Trigger]
nickname = ms2_wlc_om15_dlg_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024918, CLOSE
Act_ActTrig = ms2_wlc_om15_dlg_comm_02
Act_SetNNObj = ms2_12_find_com_sat

[Trigger]
nickname = ms2_wlc_om15_dlg_comm_02
Cnd_Timer = 10
Act_ActTrig = comm_punisher_a
Act_ActTrig = ms2_wlc_om15_dlg_popup_02

[Trigger]
nickname = ms2_wlc_om15_dlg_popup_02
Cnd_Timer = 2
Act_Popupdialog = 217111, 024919, CLOSE
Act_ActTrig = ms2_wlc_om15_dlg_comm_03

[Trigger]
nickname = ms2_wlc_om15_dlg_comm_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_wlc_om15_dlg_popup_03

[Trigger]
nickname = ms2_wlc_om15_dlg_popup_03
Cnd_Timer = 2
Act_Popupdialog = 216034, 024920, CLOSE
Act_ActTrig = ms2_player_around_com_sat

Act_SetVibeLblToShip = ms2_satt, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, ms2_satt, REP_NEUTRAL
Act_SetVibeLbl = ms2_satt, ms2_ally, REP_NEUTRAL
Act_SetVibeLbl = ms2_ally, ms2_satt, REP_NEUTRAL
Act_SetVibeLbl = ms2_satt, ms2_punisher_a, REP_NEUTRAL
Act_SetVibeLbl = ms2_punisher_a, ms2_satt, REP_NEUTRAL
Act_SetVibeLbl = ms2_satt, ms2_punisher_b, REP_NEUTRAL
Act_SetVibeLbl = ms2_punisher_b, ms2_satt, REP_NEUTRAL

;---end

;--CORSAIR SHIPS AROUND COMMSAT

[NPC]
nickname = npc_ms2_comm_def_cf_a01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_comm_def_cf_a02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_comm_def_cf_a03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_comm_def_cf_b01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_comm_def_cf_b02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_comm_def_cf_b03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true


[MsnShip]
nickname = ms2_comm_def_cf_a01
NPC = npc_ms2_comm_def_cf_a01
label = comm_defend
random_name = true
rel_pos = 30, Player, 2500

[MsnShip]
nickname = ms2_comm_def_cf_a02
NPC = npc_ms2_comm_def_cf_a02
label = comm_defend
random_name = true
rel_pos = 80, Player, 2500

[MsnShip]
nickname = ms2_comm_def_cf_a03
NPC = npc_ms2_comm_def_cf_a03
label = comm_defend
random_name = true
rel_pos = 120, Player, 2500

[MsnShip]
nickname = ms2_comm_def_cf_b01
NPC = npc_ms2_comm_def_cf_b01
label = comm_defend
random_name = true
rel_pos = 180, Player, 2500

[MsnShip]
nickname = ms2_comm_def_cf_b02
NPC = npc_ms2_comm_def_cf_b02
label = comm_defend
random_name = true
rel_pos = 220, Player, 2500

[MsnShip]
nickname = ms2_comm_def_cf_b03
NPC = npc_ms2_comm_def_cf_b03
label = comm_defend
random_name = true
rel_pos = 270, Player, 2500

;---help!

[NPC]
nickname = npc_ms2_comm_help_cf_b01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_comm_help_cf_b02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_comm_help_cf_b03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_comm_help_ce_a01
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[NPC]
nickname = npc_ms2_comm_help_ce_a02
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[NPC]
nickname = npc_ms2_aleio
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_hero
individual_name = 216045

[MsnShip]
nickname = ms2_comm_help_cf_b01
NPC = npc_ms2_comm_help_cf_b01
label = comm_help
random_name = true
rel_pos = 0, Player, 2500

[MsnShip]
nickname = ms2_comm_help_cf_b02
NPC = npc_ms2_comm_help_cf_b02
label = comm_help
random_name = true
rel_pos = 30, Player, 2500

[MsnShip]
nickname = ms2_comm_help_cf_b03
NPC = npc_ms2_comm_help_cf_b03
label = comm_help
random_name = true
rel_pos = 60, Player, 2500

[MsnShip]
nickname = ms2_comm_help_ce_a01
NPC = npc_ms2_comm_help_ce_a01
label = comm_help
random_name = true
rel_pos = 200, Player, 2500

[MsnShip]
nickname = ms2_comm_help_ce_a02
NPC = npc_ms2_comm_help_ce_a02
label = comm_help
random_name = true
rel_pos = 160, Player, 2500

[MsnShip]
nickname = ms2_aleio
NPC = npc_ms2_aleio
label = comm_help
rel_pos = 180, Player, 3500

;--end



[Trigger]
nickname = ms2_player_around_com_sat
Cnd_DistShip = inside, Player, ms2_sattelite, 1000
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_around_comsat_dlg_popup_01
Act_GiveObjList = player, force_stop

[Trigger]
nickname = ms2_around_comsat_dlg_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024921, CLOSE
Act_ActTrig = ms2_around_comsat_dlg_comm_02

[Trigger]
nickname = ms2_around_comsat_dlg_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_punisher_a
Act_SpawnShip = ms2_comm_def_cf_a01
Act_SpawnShip = ms2_comm_def_cf_a02
Act_SpawnShip = ms2_comm_def_cf_a03
Act_SpawnShip = ms2_comm_def_cf_b01
Act_SpawnShip = ms2_comm_def_cf_b02
Act_SpawnShip = ms2_comm_def_cf_b03
Act_ActTrig = ms2_around_comsat_dlg_popup_02

[Trigger]
nickname = ms2_around_comsat_dlg_popup_02
Cnd_Timer = 2
Act_Popupdialog = 217111, 024922, CLOSE
Act_ActTrig = ms2_comm_defend_destroyed
Act_GiveObjList = ms2_wilham, unform
Act_GiveObjList = ms2_punisher_1, unform
Act_GiveObjList = ms2_punisher_2, unform
Act_GiveObjList = ms2_punisher_3, unform
Act_GiveObjList = ms2_punisher_4, unform
Act_GiveObjList = ms2_punisher_5, unform
Act_SetVibeLblToShip = comm_defend, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, comm_defend, REP_HOSTILE_MAXIMUM
Act_SetNNObj = ms2_13_destroy_defend


[Trigger]
nickname = ms2_comm_defend_destroyed
Cnd_Destroyed = comm_defend, 6
Act_SpawnShip = ms2_comm_help_cf_b01
Act_SpawnShip = ms2_comm_help_cf_b02
Act_SpawnShip = ms2_comm_help_cf_b03
Act_SpawnShip = ms2_comm_help_ce_a01
Act_SpawnShip = ms2_comm_help_ce_a02
Act_SpawnShip = ms2_aleio
Act_ActTrig = ms2_help_defend_destroyed
Act_SetVibeLblToShip = comm_help, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, comm_help, REP_HOSTILE_MAXIMUM

;---
Act_ActTrig = comm_aleio
Act_ActTrig = ms2_comm_help_popup_01

[Trigger]
nickname = ms2_comm_help_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216045, 024923, CLOSE
Act_ActTrig = ms2_comm_help_comm_02

[Trigger]
nickname = ms2_comm_help_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_comm_help_popup_02

[Trigger]
nickname = ms2_comm_help_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216045, 024924, CLOSE

[Trigger]
nickname = ms2_help_defend_destroyed
Cnd_Destroyed = comm_help, 6
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_comsat_ends_popup_01

[Trigger]
nickname = ms2_comsat_ends_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024929, CLOSE
Act_ActTrig = ms2_comsat_ends_comm_02

[Trigger]
nickname = ms2_comsat_ends_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_punisher_b
Act_ActTrig = ms2_comsat_ends_popup_02

[Trigger]
nickname = ms2_comsat_ends_popup_02
Cnd_Timer = 2
Act_Popupdialog = 217112, 024930, CLOSE
Act_ActTrig = ms2_comsat_ends_comm_03

[Trigger]
nickname = ms2_comsat_ends_comm_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_comsat_ends_popup_03

[Trigger]
nickname = ms2_comsat_ends_popup_03
Cnd_Timer = 2
Act_Popupdialog = 216034, 024931, CLOSE
Act_SetNNObj = ms2_14_destroy_com_sat
Act_SetVibeLblToShip = ms2_satt, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, ms2_satt, REP_HOSTILE_MAXIMUM


Act_ActTrig = ms2_comsat_destroyed_legal


[Trigger]
nickname = ms2_comsat_destroyed_legal
Cnd_Destroyed = ms2_sattelite, 1, EXPLODE
Act_ActTrig = comm_punisher_b
Act_ActTrig = ms2_com_destroy_popup
Act_GiveObjList = ms2_punisher_2, punishers_regroup
Act_GiveObjList = ms2_punisher_3, punishers_regroup
Act_GiveObjList = ms2_punisher_4, punishers_regroup
Act_GiveObjList = ms2_punisher_5, punishers_regroup
Act_GiveObjList = ms2_punisher_1, punishers_follow_player
Act_GiveObjList = ms2_wilham, punishers_regroup
;Act_SpawnShip = ms2_punisher_5L_test
;Act_GiveObjList = ms2_punisher_5L_test, punisher_5l_test_flying
;Act_SetVibe = ms2_punisher_5L_test, Player, -1

[ObjList]
nickname = punisher_5l_test_flying
;SetPriority = NORMAL
;GotoShip = goto_no_cruise, ms2_wilham, 500, true
SetPriority = ALWAYS_EXECUTE
follow = Player, -150, -70, -50, -100, 50000 

[Trigger]
nickname = ms2_com_destroy_popup
Cnd_Timer = 2
Act_Popupdialog = 217112, 024932, CLOSE
Act_SetNNObj = ms2_15_find_corsair_base

Act_SpawnSolar = the_base
Act_SpawnSolar = the_platform_01
Act_SpawnSolar = the_platform_02

Act_ActTrig = ms2_player_around_co_base
Act_ActTrig = ms2_player_around_co_base_dialog_start

Act_SetVibe = the_platform_01, ms2_punisher_5, REP_FRIEND_MAXIMUM
Act_SetVibe = the_platform_02, ms2_punisher_5, REP_FRIEND_MAXIMUM

;------------------------------------


[MsnSolar]
nickname = the_base
string_id = 216120
faction = co_grp
system = om15
position = 0, 20000, -80000
archetype = miningbase_FragA_ms2
loadout = ms2_the_base
pilot = MSN01b_Weapon_Platform
base = om15_01_Base
label = corsair_base
label = co_the_base
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = the_platform_01
string_id = 216121
faction = co_grp
system = om15
position = 200, 20000, -79500
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_platform
label = corsair_base
radius = 0
visit = UNKNOWABLE

[MsnSolar]
nickname = the_platform_02
string_id = 216121
faction = co_grp
system = om15
position = 0, 20000, -80500
archetype = wplatform_ms2
loadout = ms2_the_platform
pilot = MSN01b_Weapon_Platform
label = corsair_base
label = corsair_platform
radius = 0
visit = UNKNOWABLE

;------------------------------------


[;
--FIRST DEFEND--
ms2_pdef_cf_01
ms2_pdef_cf_02
ms2_pdef_cf_03
ms2_pdef_cf_04
ms2_pdef_ce_01
--fixed ce_02

--FIRST HELPERS--
ms2_ph01_cf_01
ms2_ph01_cf_02
ms2_ph01_cf_03
ms2_ph01_ce_01
ms2_ph01_ce_02

--SECOND HELPERS--
ms2_ph02_cf_01
ms2_ph02_cf_02
ms2_ph02_cf_03
ms2_ph02_ce_01
ms2_ph02_ce_02
ms2_jacobo


;-FIRST DEFEND
[NPC]
nickname = npc_ms2_pdef_cf_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_pdef_cf_02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_pdef_cf_03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_pdef_cf_04
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_easy
random_name = true

[NPC]
nickname = npc_ms2_pdef_ce_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[MsnShip]
nickname = ms2_pdef_cf_01
NPC = npc_ms2_pdef_cf_01
label = base_def
random_name = true
rel_pos = 30, Player, 2500

[MsnShip]
nickname = ms2_pdef_cf_02
NPC = npc_ms2_pdef_cf_02
label = base_def
random_name = true
rel_pos = 60, Player, 2500

[MsnShip]
nickname = ms2_pdef_cf_03
NPC = npc_ms2_pdef_cf_03
label = base_def
random_name = true
rel_pos = 90, Player, 2500

[MsnShip]
nickname = ms2_pdef_cf_04
NPC = npc_ms2_pdef_cf_04
label = base_def
random_name = true
rel_pos = 120, Player, 2500

[MsnShip]
nickname = ms2_pdef_ce_01
NPC = npc_ms2_pdef_ce_01
label = base_def
random_name = true
rel_pos = 150, Player, 2500

;--FIRST HELPERS

[NPC]
nickname = npc_ms2_ph01_cf_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph01_cf_02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph01_cf_03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph01_ce_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[NPC]
nickname = npc_ms2_ph01_ce_02
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[MsnShip]
nickname = ms2_ph01_cf_01
NPC = npc_ms2_ph01_cf_01
label = base_help01
label = base_def
random_name = true
rel_pos = 60, Player, 2000

[MsnShip]
nickname = ms2_ph01_cf_02
NPC = npc_ms2_ph01_cf_02
label = base_help01
label = base_def
random_name = true
rel_pos = 90, Player, 2000

[MsnShip]
nickname = ms2_ph01_cf_03
NPC = npc_ms2_ph01_cf_03
label = base_help01
label = base_def
random_name = true
rel_pos = 120, Player, 2000

[MsnShip]
nickname = ms2_ph01_ce_01
NPC = npc_ms2_ph01_ce_01
label = base_help01
label = base_def
random_name = true
rel_pos = 150, Player, 2000

[MsnShip]
nickname = ms2_ph01_ce_02
NPC = npc_ms2_ph01_ce_02
label = base_help01
label = base_def
random_name = true
rel_pos = 180, Player, 2000

;--SECOND HELP

[NPC]
nickname = npc_ms2_ph02_cf_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph02_cf_02
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph02_cf_03
affiliation = co_grp
npc_ship_arch = ms2_corsair_fighter_hard
random_name = true

[NPC]
nickname = npc_ms2_ph02_ce_01
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[NPC]
nickname = npc_ms2_ph02_ce_02
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_main
random_name = true

[MsnShip]
nickname = ms2_ph02_cf_01
NPC = npc_ms2_ph02_cf_01
label = base_help02
label = base_def
random_name = true
rel_pos = 150, Player, 2500

[MsnShip]
nickname = ms2_ph02_cf_02
NPC = npc_ms2_ph02_cf_02
label = base_help02
label = base_def
random_name = true
rel_pos = 180, Player, 2500

[MsnShip]
nickname = ms2_ph02_cf_03
NPC = npc_ms2_ph02_cf_03
label = base_help02
random_name = true
rel_pos = 210, Player, 2500

[MsnShip]
nickname = ms2_ph02_ce_01
NPC = npc_ms2_ph02_ce_01
label = base_help02
label = base_def
random_name = true
rel_pos = 240, Player, 2500

[MsnShip]
nickname = ms2_ph02_ce_02
NPC = npc_ms2_ph02_ce_02
label = base_help02
label = base_def
random_name = true
rel_pos = 270, Player, 2500

;--SECOND WING LEADER

[NPC]
nickname = npc_ms2_jacobo
affiliation = co_grp
npc_ship_arch = ms2_corsair_elite_hero
individual_name = 216047

[MsnShip]
nickname = ms2_jacobo
NPC = npc_ms2_jacobo
label = comm_help
rel_pos = 135, Player, 2500

;------//////////////

[Trigger]
nickname = ms2_player_around_co_base_dialog_start
Cnd_DistShip = inside, Player, the_base, 6000
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_prebase_battle_popup_01

[Trigger]
nickname = ms2_prebase_battle_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024939, CLOSE
Act_ActTrig = ms2_prebase_battle_comm_02
Act_GiveObjList = Player, force_stop

[Trigger]
nickname = ms2_prebase_battle_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_prebase_battle_popup_02

[Trigger]
nickname = ms2_prebase_battle_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216034, 024940, CLOSE
Act_ActTrig = ms2_prebase_battle_comm_03

[Trigger]
nickname = ms2_prebase_battle_comm_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_jacobo
Act_ActTrig = ms2_prebase_battle_popup_03

[Trigger]
nickname = ms2_prebase_battle_popup_03
Cnd_Timer = 2
Act_Popupdialog = 216048, 024941, CLOSE
Act_ActTrig = ms2_prebase_battle_comm_04

[Trigger]
nickname = ms2_prebase_battle_comm_04
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_prebase_battle_popup_04

[Trigger]
nickname = ms2_prebase_battle_popup_04
Cnd_Timer = 2
Act_Popupdialog = 216034, 024942, CLOSE

; ALLY LAUNCHING

[NPC] 
nickname = npc_punisher_b05L
affiliation = fc_or_grp
npc_ship_arch = ms2_punisher_b
individual_name = 217110

[MsnShip]
nickname = ms2_punisher_5L
NPC = npc_punisher_b05L
jumper = true
label = ms2_punisher_b
arrival_obj = the_base
position = -32, 19977, -79990

[ObjList] 
nickname = punsher_5_dock_on_the_base
Delay = 2
Dock = the_base ;om15_01


[;MsnShip]
nickname = ms2_punisher_5L_test
NPC = npc_punisher_b05L
jumper = true
label = ms2_punisher_b
rel_pos = 0, Player, 300

;---

;ATTACK APPEAR LINE

[Trigger] 
nickname = ms2_player_around_co_base
Cnd_DistShip = inside, Player, the_base, 2000
Act_SpawnShip = ms2_pdef_cf_01
Act_SpawnShip = ms2_pdef_cf_02
Act_SpawnShip = ms2_pdef_cf_03
Act_SpawnShip = ms2_pdef_cf_04
Act_SpawnShip = ms2_pdef_ce_01
Act_GiveObjList = ms2_wilham, unform
Act_GiveObjList = ms2_punisher_1, unform
Act_GiveObjList = ms2_punisher_2, unform
Act_GiveObjList = ms2_punisher_3, unform
Act_GiveObjList = ms2_punisher_4, unform
Act_GiveObjList = ms2_punisher_5, unform

Act_ActTrig = ms2_init_official_part

Act_SetVibeLblToShip = corsair_base, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, corsair_base, REP_HOSTILE_MAXIMUM

Act_SetVibeLblToShip = base_def, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, base_def, REP_HOSTILE_MAXIMUM

Act_SetRep = Player, fc_or_grp, REP_FRIEND_THRESHOLD

Act_ActTrig = ms2_destroy_pdefend

Act_SetVibe = the_platform_01, ms2_punisher_5, REP_FRIEND_MAXIMUM
Act_SetVibe = the_platform_02, ms2_punisher_5, REP_FRIEND_MAXIMUM

;Act_SetVibeLblToShip = comm_help, Player, REP_HOSTILE_MAXIMUM
;Act_SetVibeShipToLbl = Player, comm_help, REP_HOSTILE_MAXIMUM


;ONLY FOR TEST!!!!
Act_Invulnerable = ms2_wilham, true, false, 0.990000
Act_Invulnerable = ms2_punisher_1, true, false, 0.990000
Act_Invulnerable = ms2_punisher_2, true, false, 0.990000
Act_Invulnerable = ms2_punisher_3, true, false, 0.990000
Act_Invulnerable = ms2_punisher_4, true, false, 0.990000
Act_Invulnerable = ms2_punisher_5, true, false, 0.990000


[Trigger]
nickname = ms2_destroy_pdefend
Cnd_Destroyed = base_def, 5
Act_SpawnShip = ms2_ph01_cf_01
Act_SpawnShip = ms2_ph01_cf_02
Act_SpawnShip = ms2_ph01_cf_03
Act_SpawnShip = ms2_ph01_ce_01
Act_SpawnShip = ms2_ph01_ce_02
Act_SpawnShip = ms2_comm_def_cf_a02
Act_ActTrig = ms2_phelp01_destroyed

;---


Act_SetVibeLblToShip = base_help01, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, base_help01, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = ms2_phelp01_destroyed
Cnd_Destroyed = base_help01, 5
Act_SpawnShip = ms2_ph02_cf_01
Act_SpawnShip = ms2_ph02_cf_02
Act_SpawnShip = ms2_ph02_cf_03
Act_SpawnShip = ms2_ph02_ce_01
Act_SpawnShip = ms2_ph02_ce_02
Act_SpawnShip = ms2_jacobo

Act_SetVibeLblToShip = base_help02, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, base_help02, REP_HOSTILE_MAXIMUM

Act_ActTrig = ms2_jacobo_destruction

[Trigger]
nickname = ms2_jacobo_destruction
Cnd_Destroyed = ms2_jacobo
Act_ActTrig = ms2_after_jacobo_destruction

[Trigger]
nickname = ms2_after_jacobo_destruction
Cnd_WatchTrigger = ms2_base_destroyed_identificator, ON
Repeatable = true
Act_ActTrig = ms2_operation_BASE_KILLER_comlete


[Trigger]
nickname = ms2_init_official_part
Cnd_True = no_params
Act_SetNNObj = ms2_16_destroy_defend
Act_ActTrig = ms2_init_turret_mission

Act_MarkObj = ms2_pdef_cf_01, 1
Act_MarkObj = ms2_pdef_cf_02, 1
Act_MarkObj = ms2_pdef_cf_03, 1
Act_MarkObj = ms2_pdef_cf_04, 1
Act_MarkObj = ms2_pdef_ce_01, 1

[Trigger]
nickname = ms2_init_turret_mission
Cnd_Timer = 5;

Act_MarkObj = the_platform_01, 1
Act_MarkObj = the_platform_02, 1
Act_ActTrig = ms2_punisher_init_docking

Act_MarkObj = ms2_pdef_cf_01, 0
Act_MarkObj = ms2_pdef_cf_02, 0
Act_MarkObj = ms2_pdef_cf_03, 0
Act_MarkObj = ms2_pdef_cf_04, 0
Act_MarkObj = ms2_pdef_ce_01, 0


Act_ActTrig = comm_wilham
Act_ActTrig = ms2_turret_mission_popup_01

[Trigger]
nickname = ms2_turret_mission_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024944, CLOSE
Act_SetNNObj = ms2_17_destroy_all_turrets

[Trigger]
nickname = ms2_punisher_init_docking
Cnd_Timer = 15 ;30
Act_SetVibe = ms2_punisher_5, the_base, REP_FRIEND_THRESHOLD
Act_SetVibe = the_base, ms2_punisher_5, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = ms2_punisher_b, base_def, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = ms2_punisher_b, base_help01, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = ms2_punisher_b, base_help02, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = base_def, ms2_punisher_b, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = base_help01, ms2_punisher_b, REP_FRIEND_THRESHOLD
Act_SetVibeLbl = base_help02, ms2_punisher_b, REP_FRIEND_THRESHOLD

Act_SetVibe = the_platform_01, ms2_punisher_5, REP_HOSTILE_MAXIMUM
Act_SetVibe = the_platform_02, ms2_punisher_5, REP_HOSTILE_MAXIMUM

Act_SetVibe = the_platform_01, Player, REP_NEUTRAL
Act_SetVibe = the_platform_01, ms2_wilham, REP_NEUTRAL
Act_SetVibe = the_platform_01, ms2_punisher_1, REP_NEUTRAL
Act_SetVibe = the_platform_01, ms2_punisher_2, REP_NEUTRAL
Act_SetVibe = the_platform_01, ms2_punisher_3, REP_NEUTRAL
Act_SetVibe = the_platform_01, ms2_punisher_4, REP_NEUTRAL

Act_SetVibe = the_platform_02, Player, REP_NEUTRAL
Act_SetVibe = the_platform_02, ms2_wilham, REP_NEUTRAL
Act_SetVibe = the_platform_02, ms2_punisher_1, REP_NEUTRAL
Act_SetVibe = the_platform_02, ms2_punisher_2, REP_NEUTRAL
Act_SetVibe = the_platform_02, ms2_punisher_3, REP_NEUTRAL
Act_SetVibe = the_platform_02, ms2_punisher_4, REP_NEUTRAL

Act_GiveObjList = ms2_punisher_5, punsher_5_dock_on_the_base
Act_ActTrig = ms2_if_punisher_be_attacked01
Act_ActTrig = ms2_if_punisher_be_attacked02
Act_ActTrig = ms2_punisher_b_docked

Act_ActTrig = comm_wilham
Act_ActTrig = ms2_punisher_docking_popup_01

[Trigger]
nickname = ms2_punisher_docking_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024945, CLOSE

[Trigger]
nickname = ms2_if_punisher_be_attacked01
Cnd_ProjHit = ms2_punisher_5, 2, the_platform_01
Act_Destroy = ms2_punisher_5, EXPLODE
Act_DeActTrig = ms2_punisher_b_docked

[Trigger]
nickname = ms2_if_punisher_be_attacked02
Cnd_ProjHit = ms2_punisher_5, 2, the_platform_02
Act_Destroy = ms2_punisher_5, EXPLODE
Act_DeActTrig = ms2_punisher_b_docked


[Trigger]
nickname = ms2_punisher_b_docked
Cnd_Destroyed = ms2_punisher_5
Act_ActTrig = ms2_punisher_b_launch_from_base
Act_DeActTrig = ms2_if_punisher_be_attacked01
Act_DeActTrig = ms2_if_punisher_be_attacked02
Act_SetNNObj = ms2_18_destroy_all_enemy


Act_ActTrig = comm_punisher_b
Act_ActTrig = ms2_punisher_docked_popup_01

[Trigger]
nickname = ms2_punisher_docked_popup_01
Cnd_Timer = 2
Act_Popupdialog = 217112, 024948, CLOSE
Act_ActTrig = ms2_punisher_docked_comm_01

[Trigger]
nickname = ms2_punisher_docked_comm_01
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_punisher_docked_popup_02

[Trigger]
nickname = ms2_punisher_docked_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216034, 024949, CLOSE



[Trigger]
nickname = ms2_punisher_b_launch_from_base
Cnd_Timer = 10
Act_SpawnShip = ms2_punisher_5L
Act_GiveObjList = ms2_punisher_5L, punisher_5l_test_flying2
Act_ActTrig = ms2_punisher_launched_from_base
Act_ActTrig = ms2_init_base_explosion

[Trigger]
nickname = ms2_punisher_launched_from_base
Cnd_LaunchComplete = ms2_punisher_5L
Act_ActTrig = ms2_wait_and_setrep_for_punisher

[Trigger]
nickname = ms2_wait_and_setrep_for_punisher
Cnd_Timer = 2
;Act_GiveObjList = ms2_punisher_5L, punisher_5l_test_flying2
[;;;TEST
Act_SetRep = fc_or_grp, co_grp, -0.65
Act_SetRep = co_grp, fc_or_grp, -0.65
Act_SetRep = fc_or_grp, rh_grp, 0.65
Act_SetRep = fc_or_grp, Player, 0.65
Act_GiveObjList = ms2_punisher_5L, punisher_5l_test_flying3

[ObjList]
nickname = punisher_5l_test_flying2
SetPriority = NORMAL
GotoShip = goto_no_cruise, Player, 10, true

[ObjList]
nickname = punisher_5l_test_flying3
;SetPriority = NORMAL
;GotoShip = goto_no_cruise, ms2_wilham, 500, true
SetPriority = ALWAYS_EXECUTE
follow = Player, -150, -70, -50, -100, 50000 

[Trigger]
nickname = ms2_init_base_explosion
Cnd_Timer = 5
;;;Act_CallThorn = missions\m01b\m01b_11.thn, Player

Act_ActTrig =  ms2_base_destroyed_identificator

Act_ActTrig = comm_punisher_b
Act_ActTrig = ms2_base_destroyed_popup_01

[Trigger]
nickname = ms2_base_destroyed_popup_01
Cnd_Timer = 2
Act_Popupdialog = 217112, 024950, CLOSE

[Trigger]
nickname = ms2_base_destroyed_identificator
Cnd_Timer = 50000000000
Act_ActTrig = ms2_base_destroyed_identificator

[Trigger]
nickname = ms2_operation_BASE_KILLER_comlete
Cnd_True = no_params
Act_DeActTrig = ms2_base_destroyed_identificator

Act_LightFuse = the_base, pirate_base_explode_fuse

Act_Destroy = ms2_pdef_cf_01
Act_Destroy = ms2_pdef_cf_02
Act_Destroy = ms2_pdef_cf_03
Act_Destroy = ms2_pdef_cf_04
Act_Destroy = ms2_pdef_ce_01

Act_Destroy = ms2_ph01_cf_01
Act_Destroy = ms2_ph01_cf_02
Act_Destroy = ms2_ph01_cf_03
Act_Destroy = ms2_ph01_ce_01
Act_Destroy = ms2_ph01_ce_02

Act_Destroy = ms2_ph02_cf_01
Act_Destroy = ms2_ph02_cf_02
Act_Destroy = ms2_ph02_cf_03
Act_Destroy = ms2_ph02_ce_01
Act_Destroy = ms2_ph02_ce_02
Act_Destroy = ms2_jacobo

Act_ActTrig = comm_wilham
Act_ActTrig = ms2_go_home_popup_01

[Trigger]
nickname = ms2_go_home_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024951, CLOSE

Act_GiveObjList = ms2_punisher_2, punishers_regroup
Act_GiveObjList = ms2_punisher_3, punishers_regroup
Act_GiveObjList = ms2_punisher_4, punishers_regroup
Act_GiveObjList = ms2_punisher_5L, punishers_regroup
Act_GiveObjList = ms2_punisher_1, punishers_follow_player
Act_GiveObjList = ms2_wilham, punishers_regroup
Act_ActTrig = ms2_wait_for_base_destruction

[Trigger]
nickname = ms2_wait_for_base_destruction
Cnd_Destroyed = the_base
Act_SetNNObj = ms2_19_jump_to_biz
Act_PlayerCanDock = false, om15_to_biz
Act_ActTrig = ms2_welcome_to_bizmark_after_om15




[Trigger]
nickname = ms2_welcome_to_bizmark_after_om15
Cnd_SystemExit = ANY
Act_RandomPop = true
Act_ActTrig = ms2_after_om15_first_trigger


[Trigger]
nickname = ms2_after_om15_first_trigger
Cnd_Timer = 5
Act_GiveObjList = ms2_punisher_1, punishers_follow_player
Act_GiveObjList = ms2_wilham, wilham_follow_player
Act_SetNNObj = ms2_20_go_to_battleship_after_omega15
Act_ActTrig = ms2_final_around_battleship
Act_ActTrig = ms2_final_dialog_with_reichman

;--FINAL DLG (REICHMAN)
[Trigger]
nickname = ms2_final_dialog_with_reichman
Cnd_DistShip = inside, Player, rh_biz_03, 18000
Act_ActTrig = comm_reichman
Act_ActTrig = ms2_final_popup_01

[Trigger]
nickname = ms2_final_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216032, 024952, CLOSE
Act_ActTrig = ms2_final_comm_02

[Trigger]
nickname = ms2_final_comm_02
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_wilham
Act_ActTrig = ms2_final_popup_02

[Trigger]
nickname = ms2_final_popup_02
Cnd_Timer = 2
Act_Popupdialog = 216034, 024953, CLOSE
Act_ActTrig = ms2_final_comm_03

[Trigger]
nickname = ms2_final_comm_03
Cnd_CommComplete = DX_M01_0000_MOD
Act_ActTrig = comm_reichman
Act_ActTrig = ms2_final_popup_03

[Trigger]
nickname = ms2_final_popup_03
Cnd_Timer = 2
Act_Popupdialog = 216032, 024954, CLOSE

;---FINAL TRIGGERS

[ObjList] 
nickname = docking_on_battleship
Delay = 10
Dock = rh_biz_03

[Trigger]
nickname = ms2_final_around_battleship
Cnd_DistShip = inside, Player, rh_biz_03, 750
Act_GiveObjList = Player, force_stop

Act_GiveObjList = ms2_wilham, docking_on_battleship
Act_GiveObjList = ms2_punisher_1, docking_on_battleship
Act_GiveObjList = ms2_punisher_2, docking_on_battleship
Act_GiveObjList = ms2_punisher_3, docking_on_battleship
Act_GiveObjList = ms2_punisher_4, docking_on_battleship
Act_GiveObjList = ms2_punisher_5L, docking_on_battleship

Act_ActTrig = comm_wilham
Act_ActTrig = ms2_the_final_final_popup_01

[Trigger]
nickname = ms2_the_final_final_popup_01
Cnd_Timer = 2
Act_Popupdialog = 216034, 024955, CLOSE
Act_SetNNObj = ms2_21_dock_on_battleship_final
Act_PlayerCanDock = false, rh_biz_03
Act_ActTrig = ms2_create_reichman_vendor


[Trigger]
nickname = ms2_create_reichman_vendor
system = rh_biz
Cnd_LocEnter = Bar, rh_biz_03_base
Act_AddRTC = missions\m02\reichman.ini
Act_ActTrig = ms2_create_reichman_msn

[Trigger]
nickname = ms2_create_reichman_msn
system = rh_biz
Cnd_Timer = 0.7
Act_AddRTC = missions\m02\reichman_msn.ini
Act_ActTrig = ms2_final_do_accept
repeatable = true

[Trigger]
nickname = ms2_final_do_accept
system = rh_biz
Cnd_MsnResponse = accept
Act_PlayerCanDock = true
Act_ChangeState = SUCCEED
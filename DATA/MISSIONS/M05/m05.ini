[Mission]
npc_ship_file = missions\m05\npcships.ini

;--------------------------------

[NPC] 
nickname = npc_nnvoice
affiliation = li_n_grp
npc_ship_arch = nnvoice_shiparch
space_costume = , robot_body_E
individual_name = 089999
voice = nn_mod

[MsnShip]
nickname = nag_voice
NPC = npc_nnvoice
jumper = false
label = the_nnvoice
position = 0,-50000,0

[ObjList] 
nickname = force_stop
Idle = no_params

[ObjList] 
nickname = unform
Break_formation = no_params

[ObjList] 
nickname = unform_n_stop
Break_formation = no_params
Idle = no_params

[ObjList]
nickname = follow_player
SetPriority = ALWAYS_EXECUTE
follow = Player

[Trigger]
nickname = cancel_obj
SetPriority = ALWAYS_EXECUTE
CancelObjective = no_params

[Trigger]
nickname = hatcher_triggers
Cnd_True = no_params
Act_Invulnerable = hatcher, true
Act_MarkObj = hatcher, 1
Act_SetVibe = hatcher, Player, REP_FRIEND_MAXIMUM
Act_SetVibe = Player, hatcher, REP_FRIEND_MAXIMUM



;----------------

[Trigger]
nickname = launch_fail
Cnd_LaunchComplete = Player 
Act_ChangeState = FAIL, 095101


;--------------------------------
[;

;STORAGE POINT
;-50000, 1500, 22000
;STATION POINT
;-8000, -4000, 11000

[NNObjective]
nickname = ms5_launch_to_space
state = HIDDEN
type = ids, 095002

[NNObjective]
nickname = ms5_meet_hatcher_in_bar
state = HIDDEN
type = ids, 095003

[NNObjective]
nickname = ms5_01_use_tradelane_to_detroit
state = HIDDEN
type = rep_inst, li_for, 095004, 095004, 30000, 0, -24814, LI_FOR_F_Trade_Lane_Ring_L1_06

[NNObjective]
nickname = ms5_02_dock_on_detroit
state = HIDDEN
type = rep_inst, li_for, 095005, 095005, -21795, 120, -25135, li_for_02

[NNObjective]
nickname = ms5_03_goto_on_pirate_storage
state = HIDDEN
type = rep_inst, li_for, 095006, 095006, -40000, 0, 10000, li_for_04

[NNObjective]
nickname = ms5_04_talk_in_bar_about_key
state = HIDDEN
type = rep_inst, li_for, 095007, 095007, -40000, 0, 10000, li_for_04

[NNObjective]
nickname = ms5_05_goto_smuggler_storage
state = HIDDEN
type = rep_inst, li_for, 095008, 095008, -50000, 0, 22000, smuggler_storage

[NNObjective]
nickname = ms5_06_destroy_storage
state = HIDDEN
type = rep_inst, li_for, 095009, 095009, -50000, 0, 22000, smuggler_storage

[NNObjective]
nickname = ms5_07_get_a_key
state = HIDDEN
type = ids, 095010

[NNObjective]
nickname = ms5_08_mount_key_and_dock_on_detroit
state = HIDDEN
type = rep_inst, li_for, 095011, 095011, -21795, 120, -25135, li_for_02

[NNObjective]
nickname = ms5_09_talk_with_barman_on_detroit
state = HIDDEN
type = ids, 095012

[NNObjective]
nickname = ms5_10_goto_sig17_jumpgate
state = HIDDEN
type = rep_inst, li_for, 095013, 095013, 20000, 0, -50000, for_to_sig17

[NNObjective]
nickname = ms5_11_jump_to_sig17
state = HIDDEN
type = rep_inst, li_for, 095014, 095014, 20000, 0, -50000, for_to_sig17

[NNObjective]
nickname = ms5_12_use_tradelane_to_battleship
state = HIDDEN
type = rep_inst, sig17, 095015, 095015, -28478, 1655, 56716, SIG17_F_Trade_Lane_Ring_L3_04

[NNObjective]
nickname = ms5_13_goto_to_research_base
state = HIDDEN
type = rep_inst, sig17, 095016, 095016, -8000, -4000, 11000, research_base

[NNObjective]
nickname = ms5_14_do_dock_response
state = HIDDEN
type = rep_inst, sig17, 095017, 095017, -8000, -4000, 11000, research_base

[NNObjective]
nickname = ms5_15_goto_transport
state = HIDDEN
type = navmarker, sig17, 095018, 095018, -14500, -3500, 6000

[NNObjective]
nickname = ms5_16_destroy_pirates
state = HIDDEN
type = ids, 095019

[NNObjective]
nickname = ms5_17_join_transport_formation
state = HIDDEN
type = ids, 095020

[NNObjective]
nickname = ms5_18_escort_transport_to_station
state = HIDDEN
type = ids, 095021

[NNObjective]
nickname = ms5_19_wait_for_dock_response_accept
state = HIDDEN
type = ids, 095022

[NNObjective]
nickname = ms5_20_use_tractor_beam_to_save_mandrake
state = HIDDEN
type = ids, 095023

[NNObjective]
nickname = ms5_21_goto_battleship_tradelane
state = HIDDEN
type = rep_inst, sig17, 095024, 095024, -16826, -3603, 29264, SIG17_F_Trade_Lane_Ring_L3_01

[NNObjective]
nickname = ms5_23_destroy_rheinland_fighters
state = HIDDEN
type = ids, 095026

[NNObjective]
nickname = ms5_24_use_tradelane_to_jumpgate
state = HIDDEN
type = rep_inst, sig17, 095027, 095027, -16826, -3603, 29264, SIG17_F_Trade_Lane_Ring_L3_01

[NNObjective]
nickname = ms5_25_jump_to_forbes
state = HIDDEN
type = rep_inst, sig17, 095028, 095028, -30000, 2000, 60000, sig17_to_for

[NNObjective]
nickname = ms5_26_goto_planet_forbes
state = HIDDEN
type = rep_inst, li_for, 095029, 095029, 31888, 0, -24814, Li_for_dock_ring

[NNObjective]
nickname = ms5_27_dock_on_forbes
state = HIDDEN
type = rep_inst, li_for, 095030, 095030, 31888, 0, -24814, Li_for_dock_ring

[NNObjective]
nickname = ms5_28_find_hatcher_in_equip_dealer
state = HIDDEN
type = ids, 095031


; ---------

[Trigger]
nickname = comm_vendor
Cnd_True = no_params
Act_EtherComm = echo_female, 095501, Player, DX_M01_0000_MOD, -1, li_hatcher_head, li_hatcher_body

; ---------

[Trigger]
nickname = init_ms5
Cnd_True = no_params
InitState = ACTIVE
Act_ActTrig = init_objective
Act_ActTrig = ms5_create_vendor

Act_ActTrig = first_message_not_in_space
Act_ActTrig = first_message_in_space
Act_ActTrig = first_message_on_planet
Act_ActTrig = vendorbase_open_forever

Act_LockDock = Player, li_for_02, lock


[Trigger]
nickname = first_message_not_in_space
Cnd_InSpace = false
Act_DeActTrig = first_message_in_space

[Trigger]
nickname = first_message_in_space
Cnd_InSpace = true
Act_ActTrig = first_message_init_message
Act_DeActTrig = first_message_on_planet

[Trigger]
nickname = first_message_on_planet
Cnd_LaunchComplete = Player
Act_ActTrig = first_message_wait_and_call

[Trigger]
nickname = first_message_wait_and_call
Cnd_Timer = 1
Act_ActTrig = first_message_init_message

[Trigger]
nickname = first_message_init_message
Cnd_True = no_params
Act_ActTrig = vendor_message

[Trigger]
nickname = vendorbase_open_forever
Cnd_True = no_params
repeatable = true
Act_SetVibeOfferBaseHack = Li_for_dock_ring

[Trigger]
nickname = vendor_message
Cnd_Timer = 2
;Vendor: Greetings, Freelancer
Act_EtherComm = echo_m05_female, 095502, Player, DX_M05_0000_hatcher, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = init_objective
Cnd_True = no_params
Act_NNPath = 021943, 021943, Li_for_dock_ring, li_for

[Trigger]
nickname = ms5_create_vendor
system = li_for
Cnd_LocEnter = Bar, li_for_01_base
Act_AddRTC = missions\m05\vendor_msn.ini
Act_ActTrig = ms5_do_accept
repeatable = true

[Trigger]
nickname = ms5_do_accept
system = li_for
Cnd_MsnResponse = accept
Act_DeactTrig = ms5_create_vendor
Act_RemoveRTC = missions\m05\vendor_msn.ini
Act_PlayerCanDock = false
Act_RandomPop = false

Act_DeActTrig = first_message_in_space
Act_DeActTrig = first_message_not_in_space
Act_DeActTrig = first_message_on_planet
Act_DeActTrig = vendorbase_open_forever

Act_SetNNObj = ms5_launch_to_space

Act_ActTrig = ms5_launch_complete
Act_SetTitle = 095301
Act_SetOffer = 095302

Act_ActTrig = MSN_REP_BEFORE


[Trigger]
nickname = ms5_launch_complete
Cnd_LaunchComplete = Player
Act_ActTrig = FOR_TLR_init

[Trigger]
nickname = FOR_TLR_init
Cnd_Timer = 1
Act_SpawnShip = nag_voice
Act_SetNNObj = ms5_01_use_tradelane_to_detroit
Act_PlayerCanTradelane = false, LI_FOR_F_Trade_Lane_Ring_L1_06, LI_FOR_F_Trade_Lane_Ring_L1_05
Act_NagDistLeaving = first_tlr, nag_voice, LI_FOR_F_Trade_Lane_Ring_L1_06, 090000, 100, NAG_ALWAYS
Act_ActTrig = FOR_TLR_inside
Act_ActTrig = FOR_TLR_complete

[Trigger]
nickname = FOR_TLR_inside
Cnd_TLEntered = Player, LI_FOR_F_Trade_Lane_Ring_L1_06, LI_FOR_F_Trade_Lane_Ring_L1_05
Act_NagOff = first_tlr
Act_LockManeuvers = true

[Trigger]
nickname = FOR_TLR_complete
Cnd_TLExited = Player, LI_FOR_F_Trade_Lane_Ring_L1_01
Act_LockManeuvers = false
Act_SetNNObj = ms5_02_dock_on_detroit
Act_ActTrig = DETROIT_A_try_dock

[Trigger]
nickname = DETROIT_A_try_dock
Cnd_True = no_params
;Player: This is Freelancer Alpha 1/1. This is request to dock
Act_EtherComm = echo_m05_player, 095595, Player, DX_M05_0005_trent, -1, pi_pirate5_head, player_body, player_commhelmet
;Detroit: Freelancer Alpha 1/1, access not granted. You need to have access key
Act_EtherComm = echo_m05_female, 095503, Player, DX_M05_0010_dispatcher, -1, br_kaitlyn_head, br_kaitlyn_body, prop_neuralnet_e
;Player: Where to find?
Act_EtherComm = echo_m05_player, 095504, Player, DX_M05_0020_trent, -1, pi_pirate5_head, player_body, player_commhelmet
;Detroit: That's your problems, leave
Act_EtherComm = echo_m05_female, 095505, Player, DX_M05_0030_dispatcher, -1, br_kaitlyn_head, br_kaitlyn_body, prop_neuralnet_e
;Player: Ok...
Act_EtherComm = echo_m05_player, 095506, Player, DX_M05_0040_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DETROIT_A_try_dock_COMPLETE

[Trigger]
nickname = DETROIT_A_try_dock_COMPLETE
Cnd_CommComplete = DX_M05_0040_trent
Act_ActTrig = DETROIT_A_trent_minds

[Trigger]
nickname = DETROIT_A_trent_minds
Cnd_Timer = 1
;Player: What I can do...
Act_EtherComm = echo_m05_player, 095507, Player, DX_M05_0050_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DETROIT_A_trent_minds_done

[Trigger]
nickname = DETROIT_A_trent_minds_done
Cnd_CommComplete = DX_M05_0050_trent
Act_ActTrig = DETROIT_A_request_to_alaric

[Trigger]
nickname = DETROIT_A_request_to_alaric
Cnd_Timer = 2
;Player: Alaric, help me
Act_EtherComm = echo_m05_player, 095508, Player, DX_M05_0060_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DETROIT_A_request_to_alaric_done

[Trigger]
nickname = DETROIT_A_request_to_alaric_done
Cnd_CommComplete = DX_M05_0060_trent
Act_ActTrig = DETROIT_A_response_from_alaric

[Trigger]
nickname = DETROIT_A_response_from_alaric
Cnd_Timer = 2
;Alaric: Find on pirates depot
Act_EtherComm = echo_m05, 095509, Player, DX_M05_0070_alaric, -1, rh_alaric_head, pi_pirate6_body
;Player: Ok, I'll try
Act_EtherComm = echo_m05_player, 095510, Player, DX_M05_0080_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = MONTGOMERY_init

[Trigger]
nickname = MONTGOMERY_init
Cnd_True = no_params
Act_SetNNObj = ms5_03_goto_on_pirate_storage
Act_NagDistTowards = OBJ, goto_montgomeri, nag_voice, li_for_04, 090001, 3000, NAG_ALWAYS
Act_SetVibeOfferBaseHack = Li_for_dock_ring
Act_ActTrig = MONTGOMERY_around

[Trigger]
nickname = MONTGOMERY_around
Cnd_DistShip = inside, Player, li_for_04, 3000
Act_SetNNObj = ms5_04_talk_in_bar_about_key
Act_NagOff = goto_montgomeri
Act_ActTrig = MONTGOMERY_base_enter
Act_PlayerCanDock = false, li_for_04
Act_NagDistLeaving = montgomery_dock, nag_voice, Li_for_dock_ring, 090004, 100, NAG_ALWAYS

[Trigger]
nickname = MONTGOMERY_base_enter
Cnd_BaseEnter = li_for_04_base
Act_NagOff = montgomery_dock
Act_AddRTC = missions\m05\smuggler_msn.ini
Act_ActTrig = MONTGOMERY_accept
repeatable = true

[Trigger]
nickname = MONTGOMERY_accept
Cnd_RTCDone = missions\m05\smuggler_msn.ini
Act_SetNNObj = ms5_05_goto_smuggler_storage
Act_DeactTrig = MONTGOMERY_cant_launch
Act_DeActTrig = launch_fail
Act_ActTrig = STORAGE_init
Act_DeActTrig = MONTGOMERY_bar_enter


;-----------------

[MsnSolar]
nickname = smuggler_storage
string_id = 095203
system = li_for
position = -50000, 0, 22000
orientation = 1, 0, 0, 0
archetype = rmbase_smuggler
label = smuggler
loadout = rmbase_smuggler_liberty_level1

[MsnLoot] 
nickname = key_loot 
archetype = key_li_for_02_base 
string_id = 095204
rel_pos_obj = smuggler_storage
rel_pos_offset = 0, -50, 0
velocity = 0, 0, 0
equip_amount = 1 
health = 1.000000 
Can_Jettison = true 

[NPC] 
nickname = npc_smuggler_li_fighter
affiliation = pi_grp
npc_ship_arch = ms5_pi_li_fighter_ship_lowgun

[NPC] 
nickname = npc_smuggler_li_fighter2
affiliation = pi_grp
npc_ship_arch = ms5_pi_li_fighter2_ship_lowgun

[NPC] 
nickname = npc_smuggler_br_fighter
affiliation = pi_grp
npc_ship_arch = ms5_pi_br_fighter2_ship_lowgun

[NPC] 
nickname = npc_pirate_li_fighter
affiliation = pi_grp
npc_ship_arch = ms5_pi_li_fighter_ship

[NPC] 
nickname = npc_pirate_li_fighter2
affiliation = pi_grp
npc_ship_arch = ms5_pi_li_fighter2_ship

[NPC] 
nickname = npc_pirate_br_fighter
affiliation = pi_grp
npc_ship_arch = ms5_pi_br_fighter2_ship

[NPC] 
nickname = npc_smuggler_piranha
affiliation = pi_grp
npc_ship_arch = ms5_pi_piranha

[NPC] 
nickname = npc_smuggler_baraccuda
affiliation = pi_grp
npc_ship_arch = ms5_pi_baraccuda

[MsnShip]
nickname = smuggler_1
NPC = npc_smuggler_baraccuda
jumper = false
label = smuggler
random_name = true

[MsnShip]
nickname = smuggler_2
NPC = npc_smuggler_piranha
jumper = false
label = smuggler
random_name = true

[MsnShip]
nickname = smuggler_3
NPC = npc_smuggler_piranha
jumper = false
label = smuggler
random_name = true

[MsnShip]
nickname = smuggler_4
NPC = npc_smuggler_baraccuda
jumper = false
label = smuggler
random_name = true
rel_pos = 30, Player, 3000

[MsnShip]
nickname = smuggler_5
NPC = npc_smuggler_baraccuda
jumper = false
label = smuggler
random_name = true
rel_pos = 90, Player, 3000

[MsnShip]
nickname = smuggler_6
NPC = npc_smuggler_piranha
jumper = false
label = smuggler
random_name = true
rel_pos = 150, Player, 2200

[MsnShip]
nickname = smuggler_7
NPC = npc_smuggler_piranha
jumper = false
label = smuggler
random_name = true
rel_pos = 230, Player, 2200

[MsnShip]
nickname = smuggler_8
NPC = npc_smuggler_piranha
jumper = false
label = smuggler
random_name = true
rel_pos = 310, Player, 2400



[NPC] 
nickname = npc_hatcher
affiliation = fc_uk_grp
npc_ship_arch = ms5_hatcher_ship
individual_name = 095207
space_costume = li_hatcher_head, li_hatcher_body 
voice = juni_voice

[MsnShip]
nickname = hatcher
NPC = npc_hatcher
jumper = true
label = ally







[NPC] 
nickname = npc_smuggler_piranha_cinema
affiliation = pi_grp
npc_ship_arch = ms5_pi_piranha_cinema

[NPC] 
nickname = npc_smuggler_baraccuda_cinema
affiliation = pi_grp
npc_ship_arch = ms5_pi_baraccuda_cinema

[MsnShip]
nickname = smuggler_1_cinema
NPC = npc_smuggler_baraccuda_cinema
jumper = false
label = smuggler
random_name = true

[MsnShip]
nickname = smuggler_2_cinema
NPC = npc_smuggler_piranha_cinema
jumper = false
label = smuggler
random_name = true

[MsnShip]
nickname = smuggler_3_cinema
NPC = npc_smuggler_piranha_cinema
jumper = false
label = smuggler
random_name = true


[ObjList]
nickname = ol_smuggler_fly_away
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_cruise, -150000, 20000, 0, 100, false

[ObjList]
nickname = ol_smuggler_1_turn_fwd
SetPriority = ALWAYS_EXECUTE
GotoVec = goto_no_cruise, -49600, -10, 21000, 100, false

[ObjList]
nickname = ol_hatcher_goto_player
SetPriority = ALWAYS_EXECUTE
GotoShip = goto_cruise, Player, 300, false

;-----------------

[Trigger]
nickname = STORAGE_init
Cnd_True = no_params
Act_SetNNObj = ms5_05_goto_smuggler_storage
Act_ActTrig = STORAGE_launch_complete

[Trigger]
nickname = STORAGE_launch_complete
Cnd_LaunchComplete = Player
Act_PlayerCanDock = false
Act_RandomPop = false
Act_SpawnSolar = smuggler_storage
Act_Invulnerable = smuggler_storage, true
;Act_SpawnShip = nag_voice
Act_NagDistTowards = OBJ, goto_smuggler_store, nag_voice, smuggler_storage, 090001, 4000
Act_ActTrig = STORAGE_around_far
Act_ActTrig = STORAGE_around_close

[Trigger]
nickname = STORAGE_setrep_neutral
Cnd_True = no_params
Act_SetVibeLblToShip = smuggler, Player, REP_NEUTRAL
Act_SetVibeShipToLbl = Player, smuggler, REP_NEUTRAL

[Trigger]
nickname = STORAGE_setrep_enemy
Cnd_True = no_params
Act_SetVibeLblToShip = smuggler, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, smuggler, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = smuggler, hatcher, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = hatcher, smuggler, REP_HOSTILE_MAXIMUM

[Trigger]
nickname = STORAGE_spawn_smugglers
Cnd_True = no_params
Act_ActTrig = STORAGE_spawn_smuggler_1
Act_ActTrig = STORAGE_spawn_smuggler_2
Act_ActTrig = STORAGE_spawn_smuggler_3

[Trigger]
nickname = STORAGE_spawn_smugglers_cinema
Cnd_True = no_params
Act_SpawnShip = smuggler_1_cinema, no_ol, -49600, -10, 21900, 1, 0, 0, 0
Act_SpawnShip = smuggler_2_cinema, no_ol, -50100, 0, 21700, 1, 0, 0, 0
Act_SpawnShip = smuggler_3_cinema, no_ol, -50000, 10, 21650, 1, 0, 0, 0

[Trigger]
nickname = STORAGE_spawn_smuggler_1
Cnd_True = no_params
Act_SpawnShip = smuggler_1, no_ol, -49600, -10, 21900, 1, 0, 0, 0

[Trigger]
nickname = STORAGE_spawn_smuggler_2
Cnd_True = no_params
Act_SpawnShip = smuggler_2, no_ol, -50100, 0, 21700, 1, 0, 0, 0

[Trigger]
nickname = STORAGE_spawn_smuggler_3
Cnd_True = no_params
Act_SpawnShip = smuggler_3, no_ol, -50000, 10, 21650, 1, 0, 0, 0

;----

[Trigger]
nickname = STORAGE_around_far
Cnd_DistShip = inside, Player, smuggler_storage, 5000
Act_ActTrig = STORAGE_spawn_smugglers_cinema
Act_ActTrig = STORAGE_setrep_neutral

[Trigger]
nickname = STORAGE_around_close
Cnd_DistShip = inside, Player, smuggler_storage, 2000
Act_Pobjidle = no_params
Act_NagOff = goto_smuggler_store
Act_ActTrig = STORAGE_SCENE_init

[Trigger]
nickname = STORAGE_SCENE_init
Cnd_Timer = 0.1
Act_Pobjidle = no_params
Act_RelocateShip = Player, -49600, 0, 20300, 0.1, 0, 0.9, 0
Act_ActTrig = STORAGE_SCENE_dlg_hello_player_init

[Trigger]
nickname = STORAGE_SCENE_dlg_hello_player_init
Cnd_True = no_params
Act_CallThorn = scripts\mod\m05_storage_cam_player01.thn, Player
Act_ActTrig = STORAGE_SCENE_dlg_hello_player

[Trigger]
nickname = STORAGE_SCENE_dlg_hello_player
Cnd_Timer = 1
;Player: 
Act_EtherComm = echo_m05_player, 095511, Player, DX_M05_0100_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = STORAGE_SCENE_dlg_hello_player_done

[Trigger]
nickname = STORAGE_SCENE_dlg_hello_player_done
Cnd_CommComplete = DX_M05_0100_trent
Act_ActTrig = STORAGE_SCENE_dlg_hello_smuggler_1

[Trigger]
nickname = STORAGE_SCENE_dlg_hello_smuggler_1
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m05_storage_cam_smuggler2.thn, smuggler_2_cinema
;Smuggler: 
Act_EtherComm = echo_m05, 095512, Player, DX_M05_0110_smuggler1, -1, pl_male1_head, pi_pirate3_body, comm_pi_pirate
Act_ActTrig = STORAGE_SCENE_dlg_hello_smuggler_2

[Trigger]
nickname = STORAGE_SCENE_dlg_hello_smuggler_2
Cnd_CommComplete = DX_M05_0110_smuggler1
Act_CallThorn = scripts\mod\m05_storage_cam_smuggler1.thn, smuggler_1_cinema
;Smuggler: 
Act_EtherComm = echo_m05, 095513, Player, DX_M05_0120_smuggler2, -1, pl_male1_head, pi_pirate3_body, comm_pi_pirate
Act_ActTrig = STORAGE_SCENE_dlg_reaction_player_init

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_player_init
Cnd_CommComplete = DX_M05_0120_smuggler2
Act_CallThorn = scripts\mod\m05_storage_cam_player02.thn, Player
Act_ActTrig = STORAGE_SCENE_dlg_reaction_player

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_player
Cnd_True = no_params
;Player: 
Act_EtherComm = echo_m05_player, 095514, Player, DX_M05_0130_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = STORAGE_SCENE_dlg_reaction_player_done

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_player_done
Cnd_CommComplete = DX_M05_0130_trent
Act_ActTrig = STORAGE_SCENE_dlg_reaction_smuggler_3

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_smuggler_3
Cnd_Timer = 1
Act_CallThorn = scripts\mod\m05_storage_cam_smuggler3.thn, smuggler_3_cinema
;Smuggler: 
Act_EtherComm = echo_m05, 095515, Player, DX_M05_0140_smuggler3, -1, pl_male1_head, pi_pirate3_body, comm_pi_pirate
Act_ActTrig = STORAGE_SCENE_remove_smuggler_1_cinema_ship
Act_ActTrig = STORAGE_SCENE_dlg_reaction_smuggler_1

[Trigger]
nickname = STORAGE_SCENE_remove_smuggler_1_cinema_ship
Cnd_True = no_params 
Act_Destroy = smuggler_1_cinema, SILENT
Act_ActTrig = STORAGE_SCENE_respawn_smuggler_1

[Trigger]
nickname = STORAGE_SCENE_respawn_smuggler_1
Cnd_Timer = 2
Act_ActTrig = STORAGE_spawn_smuggler_1

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_smuggler_1
Cnd_CommComplete = DX_M05_0140_smuggler3
Act_CallThorn = scripts\mod\m05_storage_cam_smuggler1_fwd.thn, smuggler_1
;Smuggler: 
Act_EtherComm = echo_m05, 095515, Player, DX_M05_0150_smuggler2, -1, pl_male1_head, pi_pirate3_body, comm_pi_pirate
Act_ActTrig = STORAGE_SCENE_respawn_smuggler_2_3
Act_ActTrig = STORAGE_SCENE_dlg_reaction_smuggler_1_done

[Trigger]
nickname = STORAGE_SCENE_respawn_smuggler_2_3
Cnd_Timer = 1
Act_Destroy = smuggler_2_cinema, SILENT
Act_Destroy = smuggler_3_cinema, SILENT
Act_ActTrig = STORAGE_SCENE_respawn_smuggler_2_3_complete

[Trigger]
nickname = STORAGE_SCENE_respawn_smuggler_2_3_complete
Cnd_Timer = 1
Act_ActTrig = STORAGE_spawn_smuggler_2
Act_ActTrig = STORAGE_spawn_smuggler_3

[Trigger]
nickname = STORAGE_SCENE_dlg_reaction_smuggler_1_done
Cnd_CommComplete = DX_M05_0150_smuggler2
Act_ActTrig = STORAGE_SCENE_smuggler1_turn_fwd
Act_ActTrig = STORAGE_SCENE_done

[Trigger]
nickname = STORAGE_SCENE_smuggler1_turn_fwd
Cnd_True = no_params
Act_GiveObjList = smuggler_1, ol_smuggler_1_turn_fwd

[Trigger]
nickname = STORAGE_SCENE_done
Cnd_Timer = 2
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_ActTrig = STORAGE_complete_LETS_FIGHT


[Trigger]
nickname = STORAGE_spawn_smugglers_reinforcement
Cnd_True = no_params
Act_SpawnShip = smuggler_4
Act_SpawnShip = smuggler_5
Act_SpawnShip = smuggler_6
Act_SpawnShip = smuggler_7
Act_SpawnShip = smuggler_8
Act_ActTrig = STORAGE_setrep_enemy




[Trigger]
nickname = STORAGE_complete_LETS_FIGHT
Cnd_True = no_params
Act_Save = STORAGE_BATTLE_SAVE, 040018
Act_ActTrig = STORAGE_BATTLE_init

[Trigger]
nickname = STORAGE_BATTLE_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = STORAGE_BATTLE_spawn_units

[Trigger]
nickname = STORAGE_BATTLE_spawn_units
Cnd_Timer = 0.1
Act_SpawnShip = nag_voice
Act_SpawnSolar = smuggler_storage
Act_RelocateShip = Player, -49600, 0, 20300, 0.1, 0, 0.9, 0
Act_Invulnerable = smuggler_storage, true
Act_ActTrig = STORAGE_spawn_smugglers
Act_ActTrig = STORAGE_BATTLE_init
[;dbg
; Act_ActTrig = STORAGE_spawn_smugglers_cinema
; Act_ActTrig = STORAGE_SCENE_init

[Trigger]
nickname = STORAGE_BATTLE_init
Cnd_Timer = 0.2
Act_SetNNObj = ms5_16_destroy_pirates
Act_NagDistLeaving = smuggler_store_battle, nag_voice, smuggler_storage, 090002, 6000, NAG_ALWAYS
Act_ActTrig = STORAGE_setrep_enemy
Act_ActTrig = STORAGE_BATTLE_hatcher_arrive

[Trigger]
nickname = STORAGE_BATTLE_hatcher_arrive
Cnd_Timer = 4
Act_SpawnShip = hatcher, ol_hatcher_goto_player,  -50000, 0, 19000, 0, 0, 1, 0
Act_ActTrig = hatcher_triggers
Act_ActTrig = STORAGE_setrep_enemy
;Hatcher: how can I help?
Act_EtherComm = echo_m05_female, 095517, Player, DX_M05_0160_hatcher, -1, pl_female2_head, li_hatcher_body, comm_li_hatcher_female
;Player: Sure
Act_EtherComm = echo_m05_player, 095518, Player, DX_M05_0170_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_PlayerEnemyClamp = 1, 3
Act_ActTRig = STORAGE_BATTLE_storage_mission_init

[Trigger]
nickname = STORAGE_BATTLE_storage_mission_init
Cnd_CommComplete = DX_M05_0170_trent
Act_SetNNObj = ms5_06_destroy_storage
Act_MarkObj = smuggler_storage, 1
Act_Invulnerable = smuggler_storage, false
;Hatcher: I'll kill them, find the key
Act_EtherComm = echo_m05_female, 095519, Player, DX_M05_0180_hatcher, -1, pl_female2_head, li_hatcher_body, comm_li_hatcher_female
Act_ActTrig = STORAGE_BATTLE_mission_description
Act_ActTrig = STORAGE_spawn_smugglers_reinforcement

[Trigger]
nickname = STORAGE_BATTLE_mission_description
Cnd_CommComplete = DX_M05_0180_hatcher
;Author's help: how to destroy random base
Act_Popupdialog = 216004, 095404, CLOSE
Act_ActTrig = STORAGE_BATTLE_drop_key

[Trigger]
nickname = STORAGE_BATTLE_drop_key
Cnd_Destroyed = smuggler_storage
Act_SpawnLoot = key_loot
Act_ActTrig = player_got_key_loot
Act_ActTrig = key_loot_destroyed
Act_ActTrig = key_loot_not_getted
Act_NagOff = smuggler_store_battle
Act_SetNNObj = ms5_07_get_a_key
Act_MarkObj = key_loot, 1
Act_Invulnerable = key_loot, true

[Trigger]
nickname = key_loot_destroyed
Cnd_Destroyed = key_loot
Act_ChangeState = FAIL, 095102

[Trigger]
nickname = key_loot_not_getted
Cnd_Timer = 60
Act_ChangeState = FAIL, 095103

[Trigger]
nickname = player_got_key_loot
Cnd_LootAcquired = key_loot, Player 
Act_RemoveCargo = key_loot
Act_DeActTrig = key_loot_destroyed
Act_DeActTrig = key_loot_not_getted
Act_ActTrig = STORAGE_BATTLE_smuggler_fly_away
Act_ActTrig = DETROIT_B_init

[Trigger]
nickname = STORAGE_BATTLE_smuggler_fly_away
Cnd_True = no_params
Act_GiveObjList = smuggler_1, ol_smuggler_fly_away
Act_GiveObjList = smuggler_2, ol_smuggler_fly_away
Act_GiveObjList = smuggler_3, ol_smuggler_fly_away
Act_GiveObjList = smuggler_4, ol_smuggler_fly_away
Act_GiveObjList = smuggler_5, ol_smuggler_fly_away
Act_GiveObjList = smuggler_6, ol_smuggler_fly_away
Act_GiveObjList = smuggler_7, ol_smuggler_fly_away
Act_GiveObjList = smuggler_8, ol_smuggler_fly_away
Act_ActTrig = STORAGE_setrep_neutral

[Trigger]
nickname = DETROIT_B_init
Cnd_True = no_params
;Player: I did it
Act_EtherComm = echo_m05_player, 095520, Player, DX_M05_0190_trent, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DETROIT_B_init_msn

[Trigger]
nickname = DETROIT_B_init_msn
Cnd_CommComplete = DX_M05_0190_trent
;Hatcher: Go to Detroit
Act_EtherComm = echo_m05_female, 095521, Player, DX_M05_0200_hatcher, -1, pl_female2_head, li_hatcher_body, comm_li_hatcher_female
Act_SetNNObj = ms5_08_mount_key_and_dock_on_detroit
Act_LockDock = Player, li_for_02, unlock
Act_PlayerCanDock = false, li_for_02
Act_NagDistLeaving = detroit_dock, nag_voice, li_for_02, 040104, 100, NAG_ALWAYS
Act_GiveObjList = hatcher, follow_player
Act_ActTrig = DETROIT_B_base_enter
Act_ActTrig = DETROIT_B_first_dialogs_done
Act_ActTrig = DETROIT_B_author_about_keys

[Trigger]
nickname = DETROIT_B_first_dialogs_done
Cnd_CommComplete = DX_M05_0200_hatcher
Act_ActTrig = DETROIT_B_keys_info

[Trigger]
nickname = DETROIT_B_keys_info
Cnd_Timer = 10
;Author help: a lot about access keys
Act_Popupdialog = 216004, 095405, CLOSE
Act_ActTrig = DETROIT_B_dlg_trent_awesome

[Trigger]
nickname = DETROIT_B_dlg_trent_awesome
Cnd_Timer = 10
;Player: I did it
Act_EtherComm = echo_m05_player, 095522, Player, DX_M05_0210_trent, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: Go to Detroit
Act_EtherComm = echo_m05_female, 095523, Player, DX_M05_0220_hatcher, -1, pl_female2_head, li_hatcher_body, comm_li_hatcher_female
;Player: I did it
Act_EtherComm = echo_m05_player, 095524, Player, DX_M05_0230_trent, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: Go to Detroit
Act_EtherComm = echo_m05_female, 095525, Player, DX_M05_0240_hatcher, -1, pl_female2_head, li_hatcher_body, comm_li_hatcher_female

[Trigger]
nickname = DETROIT_B_base_enter
Cnd_BaseEnter = li_for_02_base
Act_AddRTC = missions\m05\barman_msn.ini
Act_NagOff = detroit_dock
Act_ActTrig = DETROIT_B_accept
repeatable = true

[Trigger]
nickname = DETROIT_B_accept
Cnd_RTCDone = missions\m05\barman_msn.ini
Act_RemoveRTC = missions\m05\barman_msn.ini
Act_DeActTrig = DETROIT_B_base_enter
Act_DeActTrig = DETROIT_B_cant_launch
Act_DeActTrig = launch_fail
Act_SetNNObj = ms5_10_goto_sig17_jumpgate
Act_RandomPop = true
Act_ActTrig = DETROIT_B_launch_complete
Act_ActTrig = detroit_bar_force_exit
Act_DeActTrig = DETROIT_B_bar_enter

[Trigger]
nickname = detroit_bar_force_exit
Cnd_LocEnter = Bar, li_for_02_base
Act_AddRTC = missions\m05\detroit_bar_force_exit.ini

[Trigger]
nickname = DETROIT_B_launch_complete
Cnd_LaunchComplete = Player
Act_DeActTrig = DETROIT_B_cant_launch
Act_PlayerCanTradelane = false
Act_PlayerCanDock = false
Act_ActTrig = TOSIG17_init

[Trigger]
nickname = TOSIG17_init
Cnd_True = no_params
Act_NagDistTowards = OBJ, goto_jump_sig17, nag_voice, for_to_sig17, 090001, 4000
Act_ActTrig = TOSIG17_around_close
Act_ActTrig = TOSIG17_dialog

[Trigger]
nickname = TOSIG17_dialog
Cnd_Timer = 5
;Hatcher: What's new?
Act_EtherComm = echo_female, 095526, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Player: I found base coordinates
Act_EtherComm = echo_m05_player, 095527, Player, DX_M01_0000_echo_m05, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: Good
Act_EtherComm = echo_female, 095528, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = TOSIG17_around_close
Cnd_DistShip = inside, Player, for_to_sig17, 3000
Act_SetNNObj = ms5_11_jump_to_sig17
Act_NagOff = goto_jump_sig17
Act_PlayerCanDock = False, for_to_sig17
Act_NagDistLeaving = jumpin_sig17, nag_voice, for_to_sig17, 090003, 1, 10, NAG_ALWAYS
Act_ActTrig = welcome_sig17

;-------------------

[MsnSolar]
nickname = research_base
string_id = 095205
system = sig17
position = -8000, -4000, 11000
faction = lc_grp
archetype = d_depot
loadout = depot
base = sig17_01_base
label = deepspace
voice = vanpelt_voice_m04
costume = ge_male7_head, sc_scientist2_body
radius = 0

;----------------------

[Trigger]
nickname = welcome_sig17
Cnd_SystemEnter = sig17
Act_SetNNObj = ms5_12_use_tradelane_to_battleship
Act_SpawnSolar = research_base
Act_NagOff = jumpin_sig17
Act_SpawnShip = nag_voice
Act_NagDistLeaving = sig17_wlc_tlr, nag_voice, SIG17_F_Trade_Lane_Ring_L3_04, 090000, 100, NAG_ALWAYS
Act_ActTrig = SIG17_player_tlr
Act_RandomPop = true
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false, SIG17_F_Trade_Lane_Ring_L3_04, SIG17_F_Trade_Lane_Ring_L3_03

[Trigger]
nickname = SIG17_player_tlr
Cnd_TLEntered = Player, SIG17_F_Trade_Lane_Ring_L3_04, SIG17_F_Trade_Lane_Ring_L3_03
Act_LockManeuvers = true
Act_NagOff = sig17_wlc_tlr
Act_ActTrig = SIG17_tlr_dialog
Act_ActTrig = SIG17_tlr_complete

[Trigger]
nickname = SIG17_tlr_dialog
Cnd_Timer = 3
;Hatcher: Oops... this system has liberty forces
Act_EtherComm = echo_female, 095529, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body
;Player: Are ASF and liberty forces are not allies?
Act_EtherComm = echo_m05_player, 095530, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: With new president - no
Act_EtherComm = echo_female, 095531, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body
;Player: How difficult...
Act_EtherComm = echo_m05_player, 095532, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet

[Trigger]
nickname = SIG17_tlr_complete
Cnd_TLExited = Player, SIG17_F_Trade_Lane_Ring_L3_01
Act_LockManeuvers = false
Act_SetNNObj = ms5_13_goto_to_research_base
Act_RandomPop = false
Act_NagDistTowards = OBJ, research_first_nag, nag_voice, research_base, 090001, 3000, NAG_ALWAYS
Act_ActTrig = SIG17_around_research

[Trigger]
nickname = SIG17_around_research
Cnd_DistShip = inside, Player, research_base, 3000
Act_SetNNObj = ms5_14_do_dock_response
Act_ActTrig = DOCKING_TRY_init
Act_PlayMusic = none, none, none, music_anticipation_light
;-----------

[NPC] 
nickname = npc_armored
affiliation = lc_grp
npc_ship_arch = ms5_tr_ge_armored_ship
individual_name = 095206

[MsnShip]
nickname = armored
NPC = npc_armored
jumper = false
label = convoy

[MsnShip]
nickname = pirate_1
NPC = npc_pirate_br_fighter
jumper = false
label = pirates
random_name = true
rel_pos = 35, armored, 800

[MsnShip]
nickname = pirate_2
NPC = npc_pirate_li_fighter2
jumper = false
label = pirates
random_name = true
rel_pos = 125, armored, 800

[MsnShip]
nickname = pirate_3
NPC = npc_pirate_li_fighter2
jumper = false
label = pirates
random_name = true
rel_pos = 230, armored, 800

[MsnShip]
nickname = pirate_4
NPC = npc_pirate_li_fighter
jumper = false
label = pirates
random_name = true
rel_pos = 280, armored, 800

[MsnShip]
nickname = pirate_5
NPC = npc_pirate_br_fighter
jumper = false
label = pirates
random_name = true
rel_pos = 340, armored, 800

;-----------

[Trigger]
nickname = DOCKING_TRY_init
Cnd_Timer = 2
;Player: I need to dock
Act_EtherComm = echo_m05_player, 095533, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
;Research base: You can't. Access key is required
Act_EtherComm = echo_m05, 095534, Player, DX_M01_0000_echo_m05, -1, sh_male2_head, sh_male2_body, prop_hat_male_li_elite_visor
;Player: Key? Again?!
Act_EtherComm = echo_m05_player, 095535, Player, DX_M01_1111_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DOCKING_TRY_help_messages

[Trigger]
nickname = DOCKING_TRY_help_messages
Cnd_CommComplete = DX_M01_1111_SHORT
;Transport: Kendal, we need help. 
Act_EtherComm = echo_female, 095536, Player, DX_M01_0000_echo_m05, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
;Research base: Request acquired
Act_EtherComm = echo_m05, 095537, Player, DX_M01_0000_echo_m05, -1, sh_male2_head, sh_male2_body, prop_hat_male_li_elite_visor
;Player: I will help
Act_EtherComm = echo_m05_player, 095538, Player, DX_M01_1111_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = CONVOY_init

[Trigger]
nickname = spawn_convoy
Cnd_True = no_params
Act_SpawnShip = armored, no_ol, -14500, -3500, 6000, 1, 0, -1, 0
Act_MarkObj = armored, 1
Act_Invulnerable = armored, true, false

[Trigger]
nickname = spawn_pirates
Cnd_True = no_params
Act_SpawnShip = pirate_1
Act_SpawnShip = pirate_2
Act_SpawnShip = pirate_3
Act_SpawnShip = pirate_4
Act_SpawnShip = pirate_5
Act_MarkObj = pirate_1, 1
Act_MarkObj = pirate_2, 1
Act_MarkObj = pirate_3, 1
Act_MarkObj = pirate_4, 1
Act_MarkObj = pirate_5, 1

[Trigger]
nickname = CONVOY_setrep
Cnd_Timer = 0.25
Act_SetVibeLblToShip = pirates, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = Player, pirates, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = pirates, armored, REP_HOSTILE_MAXIMUM
Act_SetVibeShipToLbl = armored, pirates, REP_HOSTILE_MAXIMUM
Act_SetVibe = armored, Player, REP_FRIEND_MAXIMUM
Act_SetVibe = Player, pirate, REP_FRIEND_MAXIMUM

[Trigger]
nickname = CONVOY_init
Cnd_CommComplete = DX_M01_1111_SHORT
Act_SetNNObj = ms5_15_goto_transport
Act_ActTrig = spawn_convoy
Act_NagOff = research_first_nag
Act_NagDistTowards = POS, convoy_help, nag_voice, -14500, -3500, 6000, 090001, 2000
Act_ActTrig = CONVOY_finded
Act_PlayMusic = no_params

[Trigger]
nickname = CONVOY_finded
Cnd_DistShip = inside, Player, armored, 3000
Act_ActTrig = spawn_pirates
Act_NagOff = convoy_help
Act_Save = CONVOY_BATTLE_SAVE, 040019
Act_ActTrig = CONVOY_BATTLE_init

[Trigger]
nickname = CONVOY_BATTLE_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
Act_ActTrig = CONVOY_BATTLE_spawn_units

[Trigger]
nickname = CONVOY_BATTLE_spawn_units
Cnd_Timer = 0.1
Act_SpawnShip = nag_voice
Act_SpawnSolar = research_base
Act_ActTrig = spawn_convoy
Act_ActTrig = spawn_pirates
Act_RelocateShip = Player, -14000, -3500, 6500, 1, 0, 0.5, 0
Act_ActTrig = CONVOY_BATTLE_init

[Trigger]
nickname = CONVOY_BATTLE_init
Cnd_Timer = 0.2
Act_ActTrig = CONVOY_setrep
Act_ActTrig = CONVOY_reinforce_dialog
Act_SetNNObj = ms5_16_destroy_pirates
Act_NagDistLeaving = convoy_battle, nag_voice, armored, 090002, 6000, NAG_ALWAYS
Act_ActTrig = CONVOY_BATTLE_complete

[Trigger]
nickname = CONVOY_reinforce_dialog
Cnd_True = no_params
;Player: Reinforcement here!
Act_EtherComm = echo_m05_player, 095539, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
;Transport: You? One? Where base guard? But... ok, help me, please
Act_EtherComm = echo_female, 095540, Player, DX_M01_0000_echo_m05, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
;Pirate: Go away, freelancer!
Act_EtherComm = echo_m05, 095541, Player, DX_M01_0000_SHORT, -1, br_quigly_head, pi_pirate4_body, comm_pi_pirate

[Trigger]
nickname = CONVOY_BATTLE_complete
Cnd_Destroyed = pirates, -1, ALL_IGNORE_LANDING
;Transport: Player, join formation
Act_EtherComm = echo_female, 095542, Player, DX_M01_0000_echo_m05, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
Act_ActTrig = CONVOY_F4_init

[Trigger]
nickname = CONVOY_F4_init
Cnd_CommComplete = DX_M01_0000_ECHO
Act_SetNNObj = ms5_17_join_transport_formation
Act_ActTrig = CONVOY_F4_joined

[Trigger]
nickname = CONVOY_F4_joined
Cnd_PlayerManeuver = Formation, armored
Act_LockManeuvers = true
Act_GiveObjList = armored, ol_armored_goto_base
Act_SetNNObj = ms5_18_escort_transport_to_station
Act_ActTrig = CONVOY_F4_in_progress
Act_ActTrig = CONVOY_F4_dock_request_dialog
Act_ActTrig = CONVOY_F4_docking

[ObjList]
nickname = ol_armored_goto_base
GotoShip = goto_cruise, research_base, 200, false

[Trigger]
nickname = CONVOY_F4_in_progress
Cnd_Timer = 2
;Player: Can you help me with docking?
Act_EtherComm = echo_m05_player, 095543, Player, DX_M01_0000_echo_m05, -1, pi_pirate5_head, player_body, player_commhelmet
;Transport: Yes, of course
Act_EtherComm = echo_female, 095544, Player, DX_M01_0000_echo_m05, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A

[Trigger]
nickname = CONVOY_F4_dialog_dock_request
Cnd_DistShip = inside, armored, research_base, 3000
;Transport: Base, i need to dock
Act_EtherComm = echo_female, 095545, Player, DX_M01_0000_SHORT, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
;Research base: Request acquired
Act_EtherComm = echo_m05, 095546, Player, DX_M01_0000_echo_m05, -1, sh_male2_head, sh_male2_body, prop_hat_male_li_elite_visor
;Transport: Ok
Act_EtherComm = echo_female, 095547, Player, DX_M01_0000_SHORT, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A

[Trigger]
nickname = CONVOY_F4_docking
Cnd_DistShip = inside, armored, research_base, 500
Act_GiveObjList = armored, force_stop
Act_ActTrig = CONVOY_F4_docking_init

[ObjList] 
nickname = ol_dock_research_base
BreakFormation = no_params
Dock = research_base

[Trigger]
nickname = CONVOY_F4_docking_init
Cnd_Timer = 2
Act_GiveObjList = armored, ol_dock_research_base
Act_SetNNObj = ms5_19_wait_for_dock_response_accept
Act_ActTrig = RESEARCH_BASE_mission_space_exit
Act_NagOff = convoy_battle
Act_ActTrig = ARMORED_DOCKED
Act_PlayMusic = none, none, none, music_anticipation_more_forboding

[Trigger]
nickname = RESEARCH_BASE_mission_space_exit
Cnd_InZone = false, Player, EXCLUSION_ZONE
Act_ChangeState = FAIL, 095104

[Trigger]
nickname = ARMORED_DOCKED
Cnd_Destroyed = armored, -1, SILENT
;Transport: Cargo on base
Act_EtherComm = echo_female, 095548, Player, DX_M01_0000_SHORT, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
;Mandrake: It's wrong cargo
Act_EtherComm = echo_m05, 095549, Player, DX_M01_0000_echo_m05, -1, ge_male7_head, sc_scientist1_body
;Transport: Impossible!
Act_EtherComm = echo_female, 095550, Player, DX_M01_1111_SHORT, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
Act_ActTrig = RESEARCH_LAST_DIALOG

[Trigger]
nickname = RESEARCH_LAST_DIALOG
Cnd_CommComplete = DX_M01_1111_SHORT
;Research base: Warning! Prepare to damage!
Act_EtherComm = echo_m05, 095551, Player, DX_M01_0000_echo_m05, -1, sh_male2_head, sh_male2_body, prop_hat_male_li_elite_visor
;Mandrake: All to escape pods!
Act_EtherComm = echo_m05, 095552, Player, DX_M01_1111_SHORT, -1, ge_male7_head, sc_scientist1_body
Act_ActTrig = RESEARCH_DESTRUCT_init

[Trigger]
nickname = RESEARCH_DESTRUCT_init
Cnd_CommComplete = DX_M01_1111_SHORT
Act_RelocateShip = Player, -8300, -4000, 11000, 1, 0, -1, 0
Act_LightFuse = research_base, pirate_base_explode_fuse
Act_CallThorn = scripts\mod\m05_research_explode.thn, research_base
Act_ActTrig = RESEARCH_DESTROYED

[Trigger]
nickname = RESEARCH_DESTROYED
Cnd_Destroyed = research_base
Act_SpawnLoot = luci_pod
Act_SpawnLoot = mandrake_pod
Act_SpawnLoot = scient_pod_1
Act_SpawnLoot = scient_pod_2
Act_SpawnLoot = scient_pod_3
Act_SpawnLoot = scient_pod_4
Act_SpawnLoot = scient_pod_5
Act_SpawnLoot = scient_pod_6
Act_SpawnLoot = scient_pod_7
Act_SpawnLoot = scient_pod_8
Act_ActTrig = player_got_luci_pod
Act_ActTrig = player_got_mandrake_pod
Act_ActTrig = player_got_scient_pod_1
Act_ActTrig = player_got_scient_pod_2
Act_ActTrig = player_got_scient_pod_3
Act_ActTrig = player_got_scient_pod_4
Act_ActTrig = player_got_scient_pod_5
Act_ActTrig = player_got_scient_pod_6
Act_ActTrig = player_got_scient_pod_7
Act_ActTrig = player_got_scient_pod_8
Act_ActTrig = damage_pods
Act_ActTrig = mandrake_destroyed
Act_ActTrig = init_scient_save_mission
Act_RevertCam = no_params
Act_LockManeuvers = false
Act_PlayMusic = none, none, none, music_tau_danger

[Trigger]
nickname = player_got_luci_pod
Cnd_LootAcquired = luci_pod, Player 
Act_removecargo = luci_pod

[Trigger]
nickname = player_got_mandrake_pod
Cnd_LootAcquired = mandrake_pod, Player
Act_removecargo = mandrake_pod
 
[Trigger]
nickname = player_got_scient_pod_1
Cnd_LootAcquired = scient_pod_1, Player 
Act_removecargo = scient_pod_1

[Trigger]
nickname = player_got_scient_pod_2
Cnd_LootAcquired = scient_pod_2, Player 
Act_removecargo = scient_pod_2

[Trigger]
nickname = player_got_scient_pod_3
Cnd_LootAcquired = scient_pod_3, Player 
Act_removecargo = scient_pod_3

[Trigger]
nickname = player_got_scient_pod_4
Cnd_LootAcquired = scient_pod_4, Player 
Act_removecargo = scient_pod_4

[Trigger]
nickname = player_got_scient_pod_5
Cnd_LootAcquired = scient_pod_5, Player
Act_removecargo = scient_pod_5

[Trigger]
nickname = player_got_scient_pod_6
Cnd_LootAcquired = scient_pod_6, Player 
Act_removecargo = scient_pod_6

[Trigger]
nickname = player_got_scient_pod_7
Cnd_LootAcquired = scient_pod_7, Player 
Act_removecargo = scient_pod_7

[Trigger]
nickname = player_got_scient_pod_8
Cnd_LootAcquired = scient_pod_8, Player 
Act_removecargo = scient_pod_8

[Trigger]
nickname = init_scient_save_mission
Cnd_Timer = 1
Act_SetNNObj = ms5_20_use_tractor_beam_to_save_mandrake
Act_MarkObj = luci_pod, 1
Act_MarkObj = mandrake_pod, 1
Act_MarkObj = scient_pod_1, 1
Act_MarkObj = scient_pod_2, 1
Act_MarkObj = scient_pod_3, 1
Act_MarkObj = scient_pod_4, 1
Act_MarkObj = scient_pod_5, 1
Act_MarkObj = scient_pod_6, 1
Act_MarkObj = scient_pod_7, 1
Act_MarkObj = scient_pod_8, 1
;Mandrake: Pods is damaged. We need help!
Act_EtherComm = echo_m05, 095553, Player, DX_M01_1111_echo_m05, -1, ge_male7_head, sc_scientist1_body

[Trigger]
nickname = damage_pods
Cnd_Timer = 15
Act_AdjHealth = luci_pod, -0.55
Act_AdjHealth = mandrake_pod, -0.45
Act_AdjHealth = scient_pod_1, -0.40
Act_AdjHealth = scient_pod_2, -0.65
Act_AdjHealth = scient_pod_3, -0.70
Act_AdjHealth = scient_pod_4, -0.60
Act_AdjHealth = scient_pod_5, -0.35
Act_AdjHealth = scient_pod_6, -0.50
Act_AdjHealth = scient_pod_7, -0.50
Act_AdjHealth = scient_pod_8, -0.45
;Transport: Oxygen is around zero. Faster!
Act_EtherComm = echo_female, 095554, Player, DX_M01_1111_echo_m05, -1, pl_female3_head, pl_female1_journeyman_body, prop_neuralnet_A
Act_ActTrig = destroy_pods

[Trigger]
nickname = destroy_pods
Cnd_Timer = 25
Act_Destroy = luci_pod
Act_Destroy = mandrake_pod
Act_Destroy = scient_pod_1
Act_Destroy = scient_pod_2
Act_Destroy = scient_pod_3
Act_Destroy = scient_pod_4
Act_Destroy = scient_pod_5
Act_Destroy = scient_pod_6
Act_Destroy = scient_pod_7
Act_Destroy = scient_pod_8
Act_ActTrig = saving_scients_complete

[Trigger]
nickname = mandrake_destroyed
Cnd_Destroyed = mandrake_pod, -1, EXPLODE
Act_ChangeState = FAIL, 095105

;----------DROPPED PEOPLE

[MsnLoot]
nickname = luci_pod
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 600, 30, 100
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = mandrake_pod
archetype = escape_pod
string_id = 095202
rel_pos_obj = research_base
rel_pos_offset = 300, -40, -600
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_1
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 300, -150, -200
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_2
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 100, 100, 300
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_3
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = -300, 0, -600
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_4
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 300, 0, 700
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_5
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 250, 0, -500
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_6
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = -500, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_7
archetype = escape_pod
string_id = 095201
rel_pos_obj = triekl_storage
rel_pos_offset = 0, 0, 350
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

[MsnLoot]
nickname = scient_pod_8
archetype = escape_pod
string_id = 095201
rel_pos_obj = research_base
rel_pos_offset = 250, 0, 0
velocity = 0, 0, 0
equip_amount = 1
health = 1.000000
Can_Jettison = false

;------NEW FIGHTERS


[Trigger]
nickname = saving_scients_complete
Cnd_Timer = 2
;Mandrake: Good job, Freelancer 
Act_EtherComm = echo_m05, 095555, Player, DX_M01_1111_echo_m05, -1, ge_male7_head, sc_scientist1_body
Act_ActTrig = ROADHOME_init
Act_PlayMusic = no_params

;---------------------
[NPC] 
nickname = npc_military
affiliation = li_grp
npc_ship_arch = ms5_military_ship

[NPC] 
nickname = npc_rheinland
affiliation = rh_grp
npc_ship_arch = ms5_rheinland_ship

[MsnShip]
nickname = military_1
NPC = npc_military
jumper = false
label = military
label = ally
random_name = true

[MsnShip]
nickname = military_2
NPC = npc_military
jumper = false
label = military
label = ally
random_name = true

[MsnShip]
nickname = military_3
NPC = npc_military
jumper = false
label = military
label = ally
random_name = true

[MsnShip]
nickname = rheinland_1
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true

[MsnShip]
nickname = rheinland_2
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true

[MsnShip]
nickname = rheinland_3
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true

[MsnShip]
nickname = rheinland_4
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true

[MsnShip]
nickname = rheinland_5
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true

[MsnShip]
nickname = rheinland_6
NPC = npc_rheinland
jumper = false
label = rheinland
random_name = true


[MsnFormation]
nickname = military_formation
formation = ms5_military_wing
ship = military_1
ship = military_2
ship = military_3


;-----------

[Trigger]
nickname = ROADHOME_init
Cnd_CommComplete = DX_M01_1111_ECHO
Act_DeActTrig = RESEARCH_BASE_mission_space_exit
Act_SetNNObj = ms5_21_goto_battleship_tradelane
Act_PlayerCanDock = false
Act_PlayerCanTradelane = false
Act_ActTrig = ROADHOME_dialog
Act_ActTrig = ROADHOME_tlr

[Trigger]
nickname = ROADHOME_dialog
Cnd_Timer = 3
;Player: Ok! Can you help me with another job?
Act_EtherComm = echo_m05_player, 095556, Player, DX_M01_0000_echo_m05, -1, pi_pirate5_head, player_body, player_commhelmet
;Mandrake: Yes, but after landing
Act_EtherComm = echo_m05, 095557, Player, DX_M01_1111_SHORT, -1, ge_male7_head, sc_scientist1_body

[Trigger]
nickname = ROADHOME_tlr
Cnd_DistShip = inside, Player, SIG17_F_Trade_Lane_Ring_L3_01, 750
Act_Save = MILITARY_SAVE, 040020
Act_EnableManeuvers = freeflight, false
Act_ActTrig = MILITARY_scene_init

[Trigger]
nickname = MILITARY_SAVE
Cnd_SpaceEnter = no_params
Act_RevertCam = no_params
;Act_ActTrig = FINAL_MSN_on_base
;Act_ForceLand = li_for_01_base
Act_ActTrig = MILITARY_spawn_units

[Trigger]
nickname = MILITARY_spawn_units
Cnd_Timer = 0.1
Act_RandomPop = false
Act_SpawnShip = nag_voice
Act_RelocateShip = Player, -16990, -3650, 28900, 1, 0, 0, 0
Act_SpawnFormation = military_formation, -16920, -3750, 28750, 0, 0, 0.7, 0
Act_SpawnShip = hatcher, no_ol, -16820, -3850, 28850, 0.5, 0, 0.5, 0
Act_ActTrig = MSN_REP_BEFORE
Act_ActTrig = MILITARY_rheinlanders_arrive
; Act_ActTrig = MILITARY_scene_init

[trigger]
nickname = MILITARY_player_init_pos
Cnd_Timer = 0.5
Act_Pobjidle = no_params
Act_RelocateShip = Player, -16990, -3650, 28900, 0.15, 0, 0.5, 0

[NPC] 
nickname = npc_lock_fix
affiliation = fc_uk_grp
npc_ship_arch = cloak_checker_shiparch

[MsnShip]
nickname = lock_fix
NPC = npc_lock_fix
;rel_pos = -90, Player, 50
radius = 0

[ObjList] 
nickname = follow_locker
Follow = lock_fix, 1

[Trigger]
nickname = ForceLock
Cnd_True = no_params
Act_SpawnShip = lock_fix, no_ol, -16990, -3650, 28800,  0, 0, 1, 0
Act_ActTrig = ForceLock_do_follow

[Trigger]
nickname = ForceLock_do_follow
Cnd_Timer = 1
Act_GiveObjList = Player, follow_locker
Act_ActTrig = ForceLock_do_lock

[Trigger]
nickname = ForceLock_do_lock
Cnd_Timer = 1
Act_LockManeuvers = true
Act_ActTrig = ForceLock_remove_locker

[Trigger]
nickname = ForceLock_remove_locker
Cnd_Timer = 1
Act_Destroy = lock_fix, SILENT

[Trigger]
nickname = MILITARY_scene_init
Cnd_Timer = 0.1
Act_ActTrig = MILITARY_player_init_pos
Act_CallThorn = scripts\mod\m05_battleship_camera.thn, SIG17_F_Trade_Lane_Ring_L3_01
Act_SpawnFormation = military_formation, -16740, -3540, 25500, 0, 0, 0.7, 0
Act_ActTrig = MILITARY_distrupt_tlr1
Act_ActTrig = MILITARY_ship_goto_PLAYER
Act_PlayMusic = none, none, none, music_reveal_challenging

[Trigger]
nickname = MILITARY_distrupt_tlr1
Cnd_Timer = 1
Act_LightFuse = SIG17_F_Trade_Lane_Ring_L3_01, msn5_tradelane_collapse

[Trigger]
nickname = MILITARY_ship_goto_PLAYER
Cnd_Timer = 6
Act_RelocateShip = Player, -16990, -3650, 28900, 1, 0, 0, 0
Act_GiveObjList = military_1, ol_military_goto_player
Act_ActTrig = MILITARY_ship_side_camera

[Trigger]
nickname = MILITARY_ship_side_camera
Cnd_Timer = 2
Act_CallThorn = scripts\mod\m05_military_fly_camera.thn, military_1
Act_ActTrig = MILITARY_start_dialog
Act_ActTrig = ForceLock

[Trigger]
nickname = PREPARE_CAMERA
Cnd_Timer = 0.5
Act_CallThorn = null, Player

[Trigger]
nickname = MILITARY_start_dialog
Cnd_Timer = 17.5
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_1

[Trigger]
nickname = DLG_1
Cnd_Timer = 1
;Military: freelancer, you are under arest
Act_EtherComm = echo_m05, 095558, Player, DX_M01_0000_SHORT, -1, li_captain_head, li_male_elite_body, comm_li_elite
Act_ActTrig = DLG_2_Change_Cam

[Trigger]
nickname = DLG_2_Change_Cam
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m05_mil_dialog01_pl.thn, Player
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_2

[Trigger]
nickname = DLG_2
Cnd_Timer = 1
;Player: Why?
Act_EtherComm = echo_m05_player, 095559, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DLG_3_Change_Cam

[Trigger]
nickname = DLG_3_Change_Cam
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m05_mil_dialog02_pl.thn, Player
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_3

[Trigger]
nickname = DLG_3
Cnd_Timer = 1
;Military: It's Tilton's order
Act_EtherComm = echo_m05, 095560, Player, DX_M01_0000_echo_m05, -1, li_captain_head, li_male_elite_body, comm_li_elite
Act_ActTrig = MILITARY_hatcher_arrive

[Trigger]
nickname = MILITARY_hatcher_arrive
Cnd_CommComplete = DX_M01_0000_ECHO
Act_SpawnShip = hatcher, ol_hatcher_start, -16550, -3603, 29450, 1, 0, -0.15, 0
Act_CallThorn = scripts\mod\m05_hatcher_arrive.thn, hatcher
Act_ActTrig = MILITARY_hatcher_arrive_dialog

[Trigger]
nickname = MILITARY_hatcher_arrive_dialog
Cnd_Timer = 8
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_4

[Trigger]
nickname = DLG_4
Cnd_Timer = 1
;Hatcher: Don't arest him
Act_EtherComm = echo_female, 095561, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body
Act_ActTrig = DLG_5_Change_Cam

[Trigger]
nickname = DLG_5_Change_Cam
Cnd_CommComplete = DX_M01_0000_ECHO
Act_CallThorn = scripts\mod\m05_mil_dialog05_pl.thn, military_2
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_5

[Trigger]
nickname = DLG_5
Cnd_Timer = 1
;Tilton: Don't listen her. Trent is enemy
Act_EtherComm = echo_m05, 095562, Player, DX_M01_0000_echo_m05, -1, pl_male4_head, li_tilton_body
Act_ActTrig = DLG_6_Change_Cam

[Trigger]
nickname = DLG_6_Change_Cam
Cnd_CommComplete = DX_M01_0000_ECHO
Act_CallThorn = scripts\mod\m05_mil_dialog06_hatcher.thn, Player
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_6

[Trigger]
nickname = DLG_6
Cnd_Timer = 1
;Player: It's not my fault!
Act_EtherComm = echo_m05_player, 095563, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
Act_ActTrig = DLG_7_Change_Cam

[Trigger]
nickname = DLG_7_Change_Cam
Cnd_CommComplete = DX_M01_0000_SHORT
Act_CallThorn = scripts\mod\m05_mil_dialog07_mil.thn, military_1
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = DLG_7

[Trigger]
nickname = DLG_7
Cnd_Timer = 1
;Tilton: Complete arest now
Act_EtherComm = echo_m05, 095564, Player, DX_M01_0000_SHORT, -1, pl_male4_head, li_tilton_body
Act_ActTrig = DLG_all_complete

[ObjList]
nickname = ol_military_goto_player
GotoShip = goto_no_cruise, Player, 150, false


[ObjList]
nickname = ol_hatcher_start
GotoVec = goto_cruise, -16950, -3650, 28900, 40, false

[Trigger]
nickname = DLG_all_complete
Cnd_CommComplete = DX_M01_0000_SHORT
Act_ActTrig = MILITARY_rheinlanders_arrive

[Trigger]
nickname = MILITARY_rheinlanders_arrive
;Cnd_CommComplete = DX_M01_0000_SHORT
Cnd_True = no_params
Act_SpawnShip = rheinland_1, no_ol, -17990, -3655, 28535, 0.5, 0, -0.5, 0
Act_SpawnShip = rheinland_2, no_ol, -18000, -3650, 28500, 0.5, 0, -0.5, 0
Act_SpawnShip = rheinland_3, no_ol, -18000, -3655, 28475, 0.5, 0, -0.5, 0
Act_SpawnShip = rheinland_4, no_ol, -18050, -3675, 28500, 0.5, 0, -0.5, 0
Act_SpawnShip = rheinland_5, no_ol, -18045, -3650, 28550, 0.5, 0, -0.5, 0
Act_SpawnShip = rheinland_6, no_ol, -18050, -3640, 28500, 0.5, 0, -0.5, 0
Act_CallThorn = scripts\mod\m05_rheinlanders_camera.thn, rheinland_2
Act_ActTrig = PREPARE_CAMERA
Act_ActTrig = decloaking
Act_ActTrig = MILITARY_rheinlanders_dialog
Act_Invulnerable = military_1, true, false
Act_Invulnerable = military_2, true, false
Act_Invulnerable = military_3, true, false
Act_Invulnerable = hatcher, true, false

[Trigger]
nickname = decloaking
Cnd_Timer = 2
Act_ActTrig = decloak_rh_1
Act_ActTrig = decloak_rh_2
Act_ActTrig = decloak_rh_3
Act_ActTrig = decloak_rh_4
Act_ActTrig = decloak_rh_5
Act_ActTrig = decloak_rh_6

[Trigger]
nickname = decloak_rh_1
Cnd_Timer = 1
Act_Cloak = rheinland_1, false

[Trigger]
nickname = decloak_rh_2
Cnd_Timer = 0.5
Act_Cloak = rheinland_2, false

[Trigger]
nickname = decloak_rh_3
Cnd_Timer = 1.5
Act_Cloak = rheinland_3, false

[Trigger]
nickname = decloak_rh_4
Cnd_Timer = 2
Act_Cloak = rheinland_4, false

[Trigger]
nickname = decloak_rh_5
Cnd_Timer = 1.25
Act_Cloak = rheinland_5, false

[Trigger]
nickname = decloak_rh_6
Cnd_Timer = 0.75
Act_Cloak = rheinland_6, false

[Trigger]
nickname = MILITARY_rheinlanders_dialog
Cnd_Timer = 4
;Rheinlander: Prepare to die, freelancer
Act_EtherComm = echo_m05, 095565, Player, DX_M01_0000_SHORT, -1, rh_captain_head, rh_male_elite_body, comm_rh_elite
Act_ActTrig = MILITARY_lets_fight

[Trigger]
nickname = MILITARY_lets_fight
Cnd_CommComplete = DX_M01_0000_SHORT
Act_ActTrig = MILITARY_setrep
Act_ActTrig = RH_FIGHT_init
Act_PlayMusic = none, none, none, music_dangerous_chase

[Trigger]
nickname = MILITARY_setrep
Cnd_True = no_params
Act_SetVibeLblToShip = rheinland, Player, REP_HOSTILE_MAXIMUM
Act_SetVibeLblToShip = Player, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = ally, rheinland, REP_HOSTILE_MAXIMUM
Act_SetVibeLbl = rheinland, ally, REP_HOSTILE_MAXIMUM
Act_SetVibe = hatcher, Player, REP_FRIEND_MAXIMUM
Act_SetVibe = Player, hatcher, REP_FRIEND_MAXIMUM

[Trigger]
nickname = RH_FIGHT_init
Cnd_Timer = 2
Act_LockManeuvers = false
Act_GiveObjList = Player, cancel_obj
Act_RevertCam = no_params
Act_Invulnerable = Player, false
Act_SetNNObj = ms5_23_destroy_rheinland_fighters
Act_NagDistLeaving = military_battle, nag_voice, hatcher, 090002, 6000, NAG_ALWAYS
Act_ActTrig = RH_FIGHT_dialog
Act_ActTrig = RH_FIGHT_complete
Act_MarkObj = hatcher, 1
Act_MarkObj = rheinland_1, 1
Act_MarkObj = rheinland_2, 1
Act_MarkObj = rheinland_3, 1
Act_MarkObj = rheinland_4, 1
Act_MarkObj = rheinland_5, 1
Act_MarkObj = rheinland_6, 1
Act_GiveObjList = military_1, unform
Act_GiveObjList = military_2, unform
Act_GiveObjList = military_3, unform


[Trigger]
nickname = RH_FIGHT_dialog
Cnd_Timer = 2
;Military: Rheinlanders is appeared
Act_EtherComm = echo_m05, 095566, Player, DX_M01_0000_SHORT, -1, li_captain_head, li_male_elite_body, comm_li_elite
;Tilton: Destroy them all
Act_EtherComm = echo_m05, 095567, Player, DX_M01_0000_SHORT, -1, pl_male4_head, li_tilton_body
;Hatcher: Trent, engage enemy
Act_EtherComm = echo_female, 095568, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body
;Player: Ok
Act_EtherComm = echo_m05_player, 095569, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet

[Trigger]
nickname = RH_FIGHT_complete
Cnd_Destroyed = rheinland, -1, ALL_IGNORE_LANDING
Act_GiveObjList = hatcher, follow_player
;Military: All clear, what's with freelancer?
Act_EtherComm = echo_m05, 095570, Player, DX_M01_0000_SHORT, -1, li_captain_head, li_male_elite_body, comm_li_elite
;Tilton: Don't arrest him
Act_EtherComm = echo_m05, 095571, Player, DX_M01_1111_SHORT, -1, pl_male4_head, li_tilton_body
Act_ActTrig = BACK_TO_FOR_TLR_init
Act_PlayMusic = no_params

[Trigger]
nickname = BACK_TO_FOR_TLR_init
Cnd_CommComplete = DX_M01_1111_SHORT
;Hatcher: Go to TLR
Act_EtherComm = echo_female, 095572, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body
Act_NagOff = military_battle
Act_NagDistLeaving = forbes_tlr, nag_voice, SIG17_F_Trade_Lane_Ring_L3_01, 090000, 100, NAG_ALWAYS
Act_SetNNObj = ms5_24_use_tradelane_to_jumpgate
Act_PlayerCanTradelane = false, SIG17_F_Trade_Lane_Ring_L3_01, SIG17_F_Trade_Lane_Ring_L3_02
Act_ActTrig = BACK_TO_FOR_TLR_inside

[Trigger]
nickname = BACK_TO_FOR_TLR_inside
Cnd_TLEntered = Player, SIG17_F_Trade_Lane_Ring_L3_01, SIG17_F_Trade_Lane_Ring_L3_02
Act_LockManeuvers = true
Act_ActTrig = BACK_TO_FOR_TLR_dialog
Act_ActTrig = BACK_TO_FOR_TLR_complete

[Trigger]
nickname = BACK_TO_FOR_TLR_dialog
Cnd_Timer = 1
;Player: Thanks for help
Act_EtherComm = echo_m05_player, 095573, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: Tilton is ugly
Act_EtherComm = echo_female, 095574, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Player: Why?
Act_EtherComm = echo_m05_player, 095575, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: I can't say
Act_EtherComm = echo_female, 095576, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = BACK_TO_FOR_TLR_complete
Cnd_TLExited = Player, SIG17_F_Trade_Lane_Ring_L3_04
Act_LockManeuvers = false
Act_SetNNObj = ms5_25_jump_to_forbes
Act_NagDistLeaving = jumpin_forbes, nag_voice, sig17_to_for, 090003, 1, 10, NAG_ALWAYS
Act_PlayerCanDock = false, sig17_to_for
Act_ActTrig = welcome_back_to_forbes





[Trigger]
nickname = welcome_back_to_forbes
Cnd_SystemEnter = li_for
Act_NagOff = jumpin_forbes
Act_ActTrig = forbes_welcome_back_wait_for_hatcher
Act_ActTrig = jump_complete
Act_RandomPop = True

[Trigger]
nickname = forbes_welcome_back_wait_for_hatcher
Cnd_DistShip = inside, Player, hatcher, 5000
Act_SpawnShip = nag_voice
Act_SetNNObj = ms5_26_goto_planet_forbes
Act_ActTrig = welcome_back_last_msn_dialog
Act_NagDistTowards = OBJ, goto_forbes_planet, nag_voice, Li_for_dock_ring, 090001, 3000, NAG_ALWAYS
Act_GiveObjList = hatcher, follow_player
Act_ActTrig = FINAL_MSN_dialog
Act_ActTrig = FINAL_MSN_close_to_forbes
Act_ActTrig = FINAL_MSN_on_base
Act_Invulnerable = hatcher, true, false

[Trigger]
nickname =  welcome_back_last_msn_dialog
Cnd_Timer = 2
;Hatcher: Goto planet
Act_EtherComm = echo_female, 095577, Player, DX_M01_0000_echo_m05, -1, li_hatcher_head, li_hatcher_body

[Trigger]
nickname = FINAL_MSN_dialog
Cnd_DistShip = inside, Player, li_for_dock_ring, 25000
;Hatcher: Are you found Mandrake?
Act_EtherComm = echo_female, 095578, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Player: Yes. Station destroyed and i pick him up
Act_EtherComm = echo_m05_player, 095579, Player, DX_M01_0000_echo_m05, -1, pi_pirate5_head, player_body, player_commhelmet
;Hatcher: Good. But why is destroyed?
Act_EtherComm = echo_female, 095580, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
;Player: May be diversion
Act_EtherComm = echo_m05_player, 095581, Player, DX_M01_0000_SHORT, -1, pi_pirate5_head, player_body, player_commhelmet




[Trigger]
nickname = FINAL_MSN_close_to_forbes
Cnd_DistShip = inside, Player, li_for_dock_ring, 2500
;Hatcher: Let's dock. Find me in equipment room
Act_EtherComm = echo_female, 095582, Player, DX_M01_0000_SHORT, -1, li_hatcher_head, li_hatcher_body
Act_NagDistLeaving = forbes_planet, nag_voice, Li_for_dock_ring, 040101, 100, NAG_ALWAYS
Act_PlayerCanDock = false, li_for_dock_ring
Act_GiveObjList = hatcher, ol_dock_forbes



[Trigger]
nickname = FINAL_MSN_on_base
system = li_for
Cnd_BaseEnter = li_for_01_base
Act_ActTrig = EQIUP_scene
Act_ActTrig = last_cant_launch
Act_SetNNObj = ms4_20_meet_hatcher_in_bar
Act_AddRTC = missions\m05\equip_force_enter.ini
 
[Trigger]
nickname = last_cant_launch
Cnd_BaseExit = li_for_01_base
Act_ActTrig = last_cant_launch_FAIL

[Trigger]
nickname = last_cant_launch_FAIL
Cnd_LaunchComplete = Player
Act_ChangeState = FAIL

[Trigger]
nickname = EQIUP_scene
Cnd_LocEnter = Equipment2, li_for_01_base
Act_AddRTC = missions\m05\equip_rtc.ini
Act_ActTrig = FINAL_MSN_accept




[Trigger]
nickname = FINAL_MSN_accept
Cnd_MsnResponse = accept
Act_ActTrig = loc_enter_Cityscape
Act_ActTrig = equipment_force_exit

[Trigger]
nickname = equipment_force_exit
Cnd_LocEnter = Equipment2, li_for_01_base
Act_AddRTC = missions\m05\equipment_force_exit.ini

[Trigger]
nickname = loc_enter_Cityscape
Cnd_LocEnter = Cityscape, li_for_01_base
Act_AdjAcct = 12500
Act_ActTrig = MSN_REP_AFTER
Act_ChangeState = SUCCEED




[ObjList] 
nickname = ol_dock_forbes
BreakFormation = no_params
Dock = li_for_dock_ring


[Trigger]
nickname = MSN_REP_BEFORE
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0.4
Act_SetRep = Player, lc_grp, 0.4
Act_SetRep = Player, lx_grp, -0.3
Act_SetRep = Player, pi_grp, -0.3
Act_SetRep = Player, rh_grp, 0

[Trigger]
nickname = MSN_REP_AFTER
Cnd_True = no_params
Act_SetRep = Player, li_grp, 0.5
Act_SetRep = Player, lc_grp, 0.5
Act_SetRep = Player, lx_grp, -0.65
Act_SetRep = Player, pi_grp, -0.65
Act_SetRep = Player, rh_grp, -0.65
